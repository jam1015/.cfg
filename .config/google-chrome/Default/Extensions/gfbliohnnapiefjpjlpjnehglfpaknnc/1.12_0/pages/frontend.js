(()=>{var __webpack_modules__={486:function(e,t,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,l=32,c=64,f=128,d=256,p=1/0,h=9007199254740991,g=NaN,m=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",l],["partialRight",c],["rearg",d]],y="[object Arguments]",_="[object Array]",w="[object Boolean]",b="[object Date]",k="[object Error]",E="[object Function]",S="[object GeneratorFunction]",x="[object Map]",C="[object Number]",T="[object Object]",O="[object Promise]",A="[object RegExp]",R="[object Set]",P="[object String]",I="[object Symbol]",L="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",U="[object Float32Array]",D="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",K="[object Int32Array]",H="[object Uint8Array]",j="[object Uint8ClampedArray]",Z="[object Uint16Array]",V="[object Uint32Array]",q=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(z.source),Q=RegExp($.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['’]",Pe="[\\ud800-\\udfff]",Ie="["+Ae+"]",Le="["+Se+"]",Ne="\\d+",Me="[\\u2700-\\u27bf]",Ue="["+Ce+"]",De="[^\\ud800-\\udfff"+Ae+Ne+xe+Ce+Te+"]",Be="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Te+"]",Ze="(?:"+Ue+"|"+De+")",Ve="(?:"+je+"|"+De+")",qe="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Le+"|"+Be+")"+"?",ze="[\\ufe0e\\ufe0f]?",$e=ze+Ge+("(?:\\u200d(?:"+[Fe,Ke,He].join("|")+")"+ze+Ge+")*"),Xe="(?:"+[Me,Ke,He].join("|")+")"+$e,Qe="(?:"+[Fe+Le+"?",Le,Ke,He,Pe].join("|")+")",Ye=RegExp(Re,"g"),Je=RegExp(Le,"g"),et=RegExp(Be+"(?="+Be+")|"+Qe+$e,"g"),tt=RegExp([je+"?"+Ue+"+"+qe+"(?="+[Ie,je,"$"].join("|")+")",Ve+"+"+We+"(?="+[Ie,je+Ze,"$"].join("|")+")",je+"?"+Ze+"+"+qe,je+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Xe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[U]=at[D]=at[B]=at[F]=at[K]=at[H]=at[j]=at[Z]=at[V]=!0,at[y]=at[_]=at[N]=at[w]=at[M]=at[b]=at[k]=at[E]=at[x]=at[C]=at[T]=at[A]=at[R]=at[P]=at[L]=!1;var ut={};ut[y]=ut[_]=ut[N]=ut[M]=ut[w]=ut[b]=ut[U]=ut[D]=ut[B]=ut[F]=ut[K]=ut[x]=ut[C]=ut[T]=ut[A]=ut[R]=ut[P]=ut[I]=ut[H]=ut[j]=ut[Z]=ut[V]=!0,ut[k]=ut[E]=ut[L]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,pt=ft||dt||Function("return this")(),ht=t&&!t.nodeType&&t,gt=ht&&e&&!e.nodeType&&e,mt=gt&&gt.exports===ht,vt=mt&&ft.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),_t=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,bt=yt&&yt.isMap,kt=yt&&yt.isRegExp,Et=yt&&yt.isSet,St=yt&&yt.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Pt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function It(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Mt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=qt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Kt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ht(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Kt(e,Zt,n)}function jt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Zt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?zt(e,t)/n:g}function qt(e){return function(t){return null==t?o:t[e]}}function Wt(e){return function(t){return null==e?o:e[t]}}function Gt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return Lt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),on=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Bt(e)}function hn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,r=(t=null==t?pt:vn.defaults(pt.Object(),t,vn.pick(pt,ot))).Array,ue=t.Date,Se=t.Error,xe=t.Function,Ce=t.Math,Te=t.Object,Oe=t.RegExp,Ae=t.String,Re=t.TypeError,Pe=r.prototype,Ie=xe.prototype,Le=Te.prototype,Ne=t["__core-js_shared__"],Me=Ie.toString,Ue=Le.hasOwnProperty,De=0,Be=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Le.toString,Ke=Me.call(Te),He=pt._,je=Oe("^"+Me.call(Ue).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ze=mt?t.Buffer:o,Ve=t.Symbol,qe=t.Uint8Array,We=Ze?Ze.allocUnsafe:o,Ge=ln(Te.getPrototypeOf,Te),ze=Te.create,$e=Le.propertyIsEnumerable,Xe=Pe.splice,Qe=Ve?Ve.isConcatSpreadable:o,et=Ve?Ve.iterator:o,nt=Ve?Ve.toStringTag:o,st=function(){try{var e=hi(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,dt=ue&&ue.now!==pt.Date.now&&ue.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,gt=Ce.ceil,vt=Ce.floor,yt=Te.getOwnPropertySymbols,Bt=Ze?Ze.isBuffer:o,Wt=t.isFinite,yn=Pe.join,_n=ln(Te.keys,Te),wn=Ce.max,bn=Ce.min,kn=ue.now,En=t.parseInt,Sn=Ce.random,xn=Pe.reverse,Cn=hi(t,"DataView"),Tn=hi(t,"Map"),On=hi(t,"Promise"),An=hi(t,"Set"),Rn=hi(t,"WeakMap"),Pn=hi(Te,"create"),In=Rn&&new Rn,Ln={},Nn=Hi(Cn),Mn=Hi(Tn),Un=Hi(On),Dn=Hi(An),Bn=Hi(Rn),Fn=Ve?Ve.prototype:o,Kn=Fn?Fn.valueOf:o,Hn=Fn?Fn.toString:o;function jn(e){if(ou(e)&&!Ga(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Ue.call(e,"__wrapped__"))return ji(e)}return new qn(e)}var Zn=function(){function e(){}return function(t){if(!ru(t))return{};if(ze)return ze(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Vn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $n;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new zn(e);this.size=t.size}function Yn(e,t){var n=Ga(e),r=!n&&Wa(e),o=!n&&!r&&Qa(e),i=!n&&!r&&!o&&du(e),a=n||r||o||i,u=a?$t(e.length,Ae):[],s=u.length;for(var l in e)!t&&!Ue.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bi(l,s))||u.push(l);return u}function Jn(e){var t=e.length;return t?e[Xr(0,t-1)]:o}function er(e,t){return Bi(Io(e),lr(t,0,e.length))}function tr(e){return Bi(Io(e))}function nr(e,t,n){(n!==o&&!Za(e[t],n)||n===o&&!(t in e))&&ur(e,t,n)}function rr(e,t,n){var r=e[t];Ue.call(e,t)&&Za(r,n)&&(n!==o||t in e)||ur(e,t,n)}function or(e,t){for(var n=e.length;n--;)if(Za(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ar(e,t){return e&&Lo(t,Nu(t),e)}function ur(e,t,n){"__proto__"==t&&st?st(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),u=null==e;++n<i;)a[n]=u?o:Au(e,t[n]);return a}function lr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function cr(e,t,n,r,i,a){var u,s=1&t,l=2&t,c=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!ru(e))return e;var f=Ga(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Io(e,u)}else{var d=vi(e),p=d==E||d==S;if(Qa(e))return Co(e,s);if(d==T||d==y||p&&!i){if(u=l||p?{}:_i(e),!s)return l?function(e,t){return Lo(e,mi(e),t)}(e,function(e,t){return e&&Lo(t,Mu(t),e)}(u,e)):function(e,t){return Lo(e,gi(e),t)}(e,ar(u,e))}else{if(!ut[d])return i?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case N:return To(e);case w:case b:return new r(+e);case M:return function(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case D:case B:case F:case K:case H:case j:case Z:case V:return Oo(e,n);case x:return new r;case C:case P:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case I:return o=e,Kn?Te(Kn.call(o)):{}}var o}(e,d,s)}}a||(a=new Qn);var h=a.get(e);if(h)return h;a.set(e,u),lu(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,a))})):iu(e)&&e.forEach((function(r,o){u.set(o,cr(r,t,n,o,e,a))}));var g=f?o:(c?l?ui:ai:l?Mu:Nu)(e);return Tt(g||e,(function(r,o){g&&(r=e[o=r]),rr(u,o,cr(r,t,n,o,e,a))})),u}function fr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Re(i);return Ni((function(){e.apply(o,n)}),t)}function pr(e,t,n,r){var o=-1,i=Pt,a=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=Lt(t,Qt(n))),r?(i=It,a=!1):t.length>=200&&(i=Jt,a=!1,t=new Xn(t));e:for(;++o<u;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(t[d]===f)continue e;s.push(c)}else i(t,f,r)||s.push(c)}return s}jn.templateSettings={escape:Y,evaluate:J,interpolate:ee,variable:"",imports:{_:jn}},jn.prototype=Vn.prototype,jn.prototype.constructor=jn,qn.prototype=Zn(Vn.prototype),qn.prototype.constructor=qn,Wn.prototype=Zn(Vn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?o:n}return Ue.call(t,e)?t[e]:o},Gn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==o:Ue.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===o?a:t,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=or(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},zn.prototype.get=function(e){var t=this.__data__,n=or(t,e);return n<0?o:t[n][1]},zn.prototype.has=function(e){return or(this.__data__,e)>-1},zn.prototype.set=function(e,t){var n=this.__data__,r=or(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Tn||zn),string:new Gn}},$n.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},$n.prototype.get=function(e){return di(this,e).get(e)},$n.prototype.has=function(e){return di(this,e).has(e)},$n.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new zn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(e,t),this.size=n.size,this};var hr=Uo(kr),gr=Uo(Er,!0);function mr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(s===o?u==u&&!fu(u):n(u,s)))var s=u,l=a}return l}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function _r(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?_r(u,t-1,n,r,o):Nt(o,u):r||(o[o.length]=u)}return o}var wr=Do(),br=Do(!0);function kr(e,t){return e&&wr(e,t,Nu)}function Er(e,t){return e&&br(e,t,Nu)}function Sr(e,t){return Rt(t,(function(t){return eu(e[t])}))}function xr(e,t){for(var n=0,r=(t=ko(t,e)).length;null!=e&&n<r;)e=e[Ki(t[n++])];return n&&n==r?e:o}function Cr(e,t,n){var r=t(e);return Ga(e)?r:Nt(r,n(e))}function Tr(e){return null==e?e===o?"[object Undefined]":"[object Null]":nt&&nt in Te(e)?function(e){var t=Ue.call(e,nt),n=e[nt];try{e[nt]=o;var r=!0}catch(e){}var i=Fe.call(e);r&&(t?e[nt]=n:delete e[nt]);return i}(e):function(e){return Fe.call(e)}(e)}function Or(e,t){return e>t}function Ar(e,t){return null!=e&&Ue.call(e,t)}function Rr(e,t){return null!=e&&t in Te(e)}function Pr(e,t,n){for(var i=n?It:Pt,a=e[0].length,u=e.length,s=u,l=r(u),c=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Lt(d,Qt(t))),c=bn(d.length,c),l[s]=!n&&(t||a>=120&&d.length>=120)?new Xn(s&&d):o}d=e[0];var p=-1,h=l[0];e:for(;++p<a&&f.length<c;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(h?Jt(h,m):i(f,m,n))){for(s=u;--s;){var v=l[s];if(!(v?Jt(v,m):i(e[s],m,n)))continue e}h&&h.push(m),f.push(g)}}return f}function Ir(e,t,n){var r=null==(e=Ri(e,t=ko(t,e)))?e:e[Ki(Ji(t))];return null==r?o:xt(r,e,n)}function Lr(e){return ou(e)&&Tr(e)==y}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!ou(e)&&!ou(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=Ga(e),s=Ga(t),l=u?_:vi(e),c=s?_:vi(t),f=(l=l==y?T:l)==T,d=(c=c==y?T:c)==T,p=l==c;if(p&&Qa(e)){if(!Qa(t))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Qn),u||du(e)?oi(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case w:case b:case C:return Za(+e,+t);case k:return e.name==t.name&&e.message==t.message;case A:case P:return e==t+"";case x:var u=sn;case R:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=oi(u(e),u(t),r,o,i,a);return a.delete(e),c;case I:if(Kn)return Kn.call(e)==Kn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var h=f&&Ue.call(e,"__wrapped__"),g=d&&Ue.call(t,"__wrapped__");if(h||g){var m=h?e.value():e,v=g?t.value():t;return a||(a=new Qn),i(m,v,n,r,a)}}if(!p)return!1;return a||(a=new Qn),function(e,t,n,r,i,a){var u=1&n,s=ai(e),l=s.length,c=ai(t).length;if(l!=c&&!u)return!1;var f=l;for(;f--;){var d=s[f];if(!(u?d in t:Ue.call(t,d)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var g=!0;a.set(e,t),a.set(t,e);var m=u;for(;++f<l;){var v=e[d=s[f]],y=t[d];if(r)var _=u?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(!(_===o?v===y||i(v,y,n,r,a):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Mr(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=Te(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],c=e[l],f=s[1];if(u&&s[2]){if(c===o&&!(l in e))return!1}else{var d=new Qn;if(r)var p=r(c,f,l,e,t,d);if(!(p===o?Nr(f,c,3,r,d):p))return!1}}return!0}function Ur(e){return!(!ru(e)||(t=e,Be&&Be in t))&&(eu(e)?je:ye).test(Hi(e));var t}function Dr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Ga(e)?Zr(e[0],e[1]):jr(e):gs(e)}function Br(e){if(!Ci(e))return _n(e);var t=[];for(var n in Te(e))Ue.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ru(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ci(e),n=[];for(var r in e)("constructor"!=r||!t&&Ue.call(e,r))&&n.push(r);return n}function Kr(e,t){return e<t}function Hr(e,t){var n=-1,o=$a(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function jr(e){var t=pi(e);return 1==t.length&&t[0][2]?Oi(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Zr(e,t){return Ei(e)&&Ti(t)?Oi(Ki(e),t):function(n){var r=Au(n,e);return r===o&&r===t?Ru(n,e):Nr(t,r,3)}}function Vr(e,t,n,r,i){e!==t&&wr(t,(function(a,u){if(i||(i=new Qn),ru(a))!function(e,t,n,r,i,a,u){var s=Ii(e,n),l=Ii(t,n),c=u.get(l);if(c)return void nr(e,n,c);var f=a?a(s,l,n+"",e,t,u):o,d=f===o;if(d){var p=Ga(l),h=!p&&Qa(l),g=!p&&!h&&du(l);f=l,p||h||g?Ga(s)?f=s:Xa(s)?f=Io(s):h?(d=!1,f=Co(l,!0)):g?(d=!1,f=Oo(l,!0)):f=[]:uu(l)||Wa(l)?(f=s,Wa(s)?f=wu(s):ru(s)&&!eu(s)||(f=_i(l))):d=!1}d&&(u.set(l,f),i(f,l,r,a,u),u.delete(l));nr(e,n,f)}(e,t,u,n,Vr,r,i);else{var s=r?r(Ii(e,u),a,u+"",e,t,i):o;s===o&&(s=a),nr(e,u,s)}}),Mu)}function qr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function Wr(e,t,n){t=t.length?Lt(t,(function(e){return Ga(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Lt(t,Qt(fi()));var o=Hr(e,(function(e,n,o){var i=Lt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;for(;++r<a;){var s=Ao(o[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=xr(e,a);n(u,a)&&to(i,ko(a,e),u)}return i}function zr(e,t,n,r){var o=r?jt:Ht,i=-1,a=t.length,u=e;for(e===t&&(t=Io(t)),n&&(u=Lt(e,Qt(n)));++i<a;)for(var s=0,l=t[i],c=n?n(l):l;(s=o(u,c,s,r))>-1;)u!==e&&Xe.call(u,s,1),Xe.call(e,s,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?Xe.call(e,o,1):ho(e,o)}}return e}function Xr(e,t){return e+vt(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Mi(Ai(e,t,as),e+"")}function Jr(e){return Jn(Zu(e))}function eo(e,t){var n=Zu(e);return Bi(n,lr(t,0,n.length))}function to(e,t,n,r){if(!ru(e))return e;for(var i=-1,a=(t=ko(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var l=Ki(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=u){var f=s[l];(c=r?r(f,l,s):o)===o&&(c=ru(f)?f:bi(t[i+1])?[]:{})}rr(s,l,c),s=s[l]}return e}var no=In?function(e,t){return In.set(e,t),e}:as,ro=st?function(e,t){return st(e,"toString",{configurable:!0,enumerable:!1,value:rs(t),writable:!0})}:as;function oo(e){return Bi(Zu(e))}function io(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function ao(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function uo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!fu(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,as,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,l=fu(t),c=t===o;i<a;){var f=vt((i+a)/2),d=n(e[f]),p=d!==o,h=null===d,g=d==d,m=fu(d);if(u)var v=r||g;else v=c?g&&(r||p):s?g&&p&&(r||!h):l?g&&p&&!h&&(r||!m):!h&&!m&&(r?d<=t:d<t);v?i=f+1:a=f}return bn(a,4294967294)}function lo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Za(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:fu(e)?g:+e}function fo(e){if("string"==typeof e)return e;if(Ga(e))return Lt(e,fo)+"";if(fu(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function po(e,t,n){var r=-1,o=Pt,i=e.length,a=!0,u=[],s=u;if(n)a=!1,o=It;else if(i>=200){var l=t?null:Yo(e);if(l)return fn(l);a=!1,o=Jt,s=new Xn}else s=t?[]:u;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(c)}else o(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function ho(e,t){return null==(e=Ri(e,t=ko(t,e)))||delete e[Ki(Ji(t))]}function go(e,t,n,r){return to(e,t,n(xr(e,t)),r)}function mo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?io(e,r?0:i,r?i+1:o):io(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?po(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=pr(a[i]||u,e[s],t,n));return po(_r(a,1),t,n)}function _o(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var s=r<a?t[r]:o;n(u,e[r],s)}return u}function wo(e){return Xa(e)?e:[]}function bo(e){return"function"==typeof e?e:as}function ko(e,t){return Ga(e)?e:Ei(e,t)?[e]:Fi(bu(e))}var Eo=Yr;function So(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:io(e,t,n)}var xo=ft||function(e){return pt.clearTimeout(e)};function Co(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function To(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Oo(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ao(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=fu(e),u=t!==o,s=null===t,l=t==t,c=fu(t);if(!s&&!c&&!a&&e>t||a&&u&&l&&!s&&!c||r&&u&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!l)return-1}return 0}function Ro(e,t,n,o){for(var i=-1,a=e.length,u=n.length,s=-1,l=t.length,c=wn(a-u,0),f=r(l+c),d=!o;++s<l;)f[s]=t[s];for(;++i<u;)(d||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[s++]=e[i++];return f}function Po(e,t,n,o){for(var i=-1,a=e.length,u=-1,s=n.length,l=-1,c=t.length,f=wn(a-s,0),d=r(f+c),p=!o;++i<f;)d[i]=e[i];for(var h=i;++l<c;)d[h+l]=t[l];for(;++u<s;)(p||i<a)&&(d[h+n[u]]=e[i++]);return d}function Io(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Lo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],l=r?r(n[s],e[s],s,n,e):o;l===o&&(l=e[s]),i?ur(n,s,l):rr(n,s,l)}return n}function No(e,t){return function(n,r){var o=Ga(n)?Ct:ir,i=t?t():{};return o(n,e,fi(r,2),i)}}function Mo(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&ki(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=Te(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Uo(e,t){return function(n,r){if(null==n)return n;if(!$a(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Te(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Do(e){return function(t,n,r){for(var o=-1,i=Te(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}function Bo(e){return function(t){var n=un(t=bu(t))?hn(t):o,r=n?n[0]:t.charAt(0),i=n?So(n,1).join(""):t.slice(1);return r[e]()+i}}function Fo(e){return function(t){return Mt(es(Wu(t).replace(Ye,"")),e,"")}}function Ko(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Zn(e.prototype),r=e.apply(n,t);return ru(r)?r:n}}function Ho(e){return function(t,n,r){var i=Te(t);if(!$a(t)){var a=fi(n,3);t=Nu(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function jo(e){return ii((function(t){var n=t.length,r=n,a=qn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Re(i);if(a&&!s&&"wrapper"==li(u))var s=new qn([],!0)}for(r=s?r:n;++r<n;){var l=li(u=t[r]),c="wrapper"==l?si(u):o;s=c&&Si(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[li(c[0])].apply(s,c[3]):1==u.length&&Si(u)?s[l]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ga(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Zo(e,t,n,i,a,u,s,l,c,d){var p=t&f,h=1&t,g=2&t,m=24&t,v=512&t,y=g?o:Ko(e);return function o(){for(var f=arguments.length,_=r(f),w=f;w--;)_[w]=arguments[w];if(m)var b=ci(o),k=nn(_,b);if(i&&(_=Ro(_,i,a,m)),u&&(_=Po(_,u,s,m)),f-=k,m&&f<d){var E=cn(_,b);return Xo(e,t,Zo,o.placeholder,n,_,E,l,c,d-f)}var S=h?n:this,x=g?S[e]:e;return f=_.length,l?_=Pi(_,l):v&&f>1&&_.reverse(),p&&c<f&&(_.length=c),this&&this!==pt&&this instanceof o&&(x=y||Ko(x)),x.apply(S,_)}}function Vo(e,t){return function(n,r){return function(e,t,n,r){return kr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function qo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=fo(n),r=fo(r)):(n=co(n),r=co(r)),i=e(n,r)}return i}}function Wo(e){return ii((function(t){return t=Lt(t,Qt(fi())),Yr((function(n){var r=this;return e(t,(function(e){return xt(e,r,n)}))}))}))}function Go(e,t){var n=(t=t===o?" ":fo(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,gt(e/pn(t)));return un(t)?So(hn(r),0,e).join(""):r.slice(0,e)}function zo(e){return function(t,n,i){return i&&"number"!=typeof i&&ki(t,n,i)&&(n=i=o),t=mu(t),n===o?(n=t,t=0):n=mu(n),function(e,t,n,o){for(var i=-1,a=wn(gt((t-e)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=e,e+=n;return u}(t,n,i=i===o?t<n?1:-1:mu(i),e)}}function $o(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_u(t),n=_u(n)),e(t,n)}}function Xo(e,t,n,r,i,a,u,s,f,d){var p=8&t;t|=p?l:c,4&(t&=~(p?c:l))||(t&=-4);var h=[e,t,i,p?a:o,p?u:o,p?o:a,p?o:u,s,f,d],g=n.apply(o,h);return Si(e)&&Li(g,h),g.placeholder=r,Ui(g,e,t)}function Qo(e){var t=Ce[e];return function(e,n){if(e=_u(e),(n=null==n?0:bn(vu(n),292))&&Wt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yo=An&&1/fn(new An([,-0]))[1]==p?function(e){return new An(e)}:fs;function Jo(e){return function(t){var n=vi(t);return n==x?sn(t):n==R?dn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ei(e,t,n,a,p,h,g,m){var v=2&t;if(!v&&"function"!=typeof e)throw new Re(i);var y=a?a.length:0;if(y||(t&=-97,a=p=o),g=g===o?g:wn(vu(g),0),m=m===o?m:vu(m),y-=p?p.length:0,t&c){var _=a,w=p;a=p=o}var b=v?o:si(e),k=[e,t,n,a,p,_,w,h,g,m];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Ro(l,s,t[4]):s,e[4]=l?cn(e[3],u):t[4]}(s=t[5])&&(l=e[5],e[5]=l?Po(l,s,t[6]):s,e[6]=l?cn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(k,b),e=k[0],t=k[1],n=k[2],a=k[3],p=k[4],!(m=k[9]=k[9]===o?v?0:e.length:wn(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==s?function(e,t,n){var i=Ko(e);return function a(){for(var u=arguments.length,s=r(u),l=u,c=ci(a);l--;)s[l]=arguments[l];var f=u<3&&s[0]!==c&&s[u-1]!==c?[]:cn(s,c);return(u-=f.length)<n?Xo(e,t,Zo,a.placeholder,o,s,f,o,o,n-u):xt(this&&this!==pt&&this instanceof a?i:e,this,s)}}(e,t,m):t!=l&&33!=t||p.length?Zo.apply(o,k):function(e,t,n,o){var i=1&t,a=Ko(e);return function t(){for(var u=-1,s=arguments.length,l=-1,c=o.length,f=r(c+s),d=this&&this!==pt&&this instanceof t?a:e;++l<c;)f[l]=o[l];for(;s--;)f[l++]=arguments[++u];return xt(d,i?n:this,f)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=Ko(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Ui((b?no:Li)(E,k),e,t)}function ti(e,t,n,r){return e===o||Za(e,Le[n])&&!Ue.call(r,n)?t:e}function ni(e,t,n,r,i,a){return ru(e)&&ru(t)&&(a.set(t,e),Vr(e,t,o,ni,a),a.delete(t)),e}function ri(e){return uu(e)?o:e}function oi(e,t,n,r,i,a){var u=1&n,s=e.length,l=t.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,p=!0,h=2&n?new Xn:o;for(a.set(e,t),a.set(t,e);++d<s;){var g=e[d],m=t[d];if(r)var v=u?r(m,g,d,t,e,a):r(g,m,d,e,t,a);if(v!==o){if(v)continue;p=!1;break}if(h){if(!Dt(t,(function(e,t){if(!Jt(h,t)&&(g===e||i(g,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ii(e){return Mi(Ai(e,o,zi),e+"")}function ai(e){return Cr(e,Nu,gi)}function ui(e){return Cr(e,Mu,mi)}var si=In?function(e){return In.get(e)}:fs;function li(e){for(var t=e.name+"",n=Ln[t],r=Ue.call(Ln,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Ue.call(jn,"placeholder")?jn:e).placeholder}function fi(){var e=jn.iteratee||us;return e=e===us?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function pi(e){for(var t=Nu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ti(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Ur(n)?n:o}var gi=yt?function(e){return null==e?[]:(e=Te(e),Rt(yt(e),(function(t){return $e.call(e,t)})))}:ys,mi=yt?function(e){for(var t=[];e;)Nt(t,gi(e)),e=Ge(e);return t}:ys,vi=Tr;function yi(e,t,n){for(var r=-1,o=(t=ko(t,e)).length,i=!1;++r<o;){var a=Ki(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&nu(o)&&bi(a,o)&&(Ga(e)||Wa(e))}function _i(e){return"function"!=typeof e.constructor||Ci(e)?{}:Zn(Ge(e))}function wi(e){return Ga(e)||Wa(e)||!!(Qe&&e&&e[Qe])}function bi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function ki(e,t,n){if(!ru(n))return!1;var r=typeof t;return!!("number"==r?$a(n)&&bi(t,n.length):"string"==r&&t in n)&&Za(n[t],e)}function Ei(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Si(e){var t=li(e),n=jn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Cn&&vi(new Cn(new ArrayBuffer(1)))!=M||Tn&&vi(new Tn)!=x||On&&vi(On.resolve())!=O||An&&vi(new An)!=R||Rn&&vi(new Rn)!=L)&&(vi=function(e){var t=Tr(e),n=t==T?e.constructor:o,r=n?Hi(n):"";if(r)switch(r){case Nn:return M;case Mn:return x;case Un:return O;case Dn:return R;case Bn:return L}return t});var xi=Ne?eu:_s;function Ci(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)}function Ti(e){return e==e&&!ru(e)}function Oi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Te(n)))}}function Ai(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),u=r(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=r(t+1);++i<t;)s[i]=o[i];return s[t]=n(u),xt(e,this,s)}}function Ri(e,t){return t.length<2?e:xr(e,io(t,0,-1))}function Pi(e,t){for(var n=e.length,r=bn(t.length,n),i=Io(e);r--;){var a=t[r];e[r]=bi(a,n)?i[a]:o}return e}function Ii(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Li=Di(no),Ni=ht||function(e,t){return pt.setTimeout(e,t)},Mi=Di(ro);function Ui(e,t,n){var r=t+"";return Mi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(v,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Di(e){var t=0,n=0;return function(){var r=kn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Bi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Xr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Fi=function(e){var t=Da(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Ki(e){if("string"==typeof e||fu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Hi(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ji(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Io(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Zi=Yr((function(e,t){return Xa(e)?pr(e,_r(t,1,Xa,!0)):[]})),Vi=Yr((function(e,t){var n=Ji(t);return Xa(n)&&(n=o),Xa(e)?pr(e,_r(t,1,Xa,!0),fi(n,2)):[]})),qi=Yr((function(e,t){var n=Ji(t);return Xa(n)&&(n=o),Xa(e)?pr(e,_r(t,1,Xa,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vu(n);return o<0&&(o=wn(r+o,0)),Kt(e,fi(t,3),o)}function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=vu(n),i=n<0?wn(r+i,0):bn(i,r-1)),Kt(e,fi(t,3),i,!0)}function zi(e){return(null==e?0:e.length)?_r(e,1):[]}function $i(e){return e&&e.length?e[0]:o}var Xi=Yr((function(e){var t=Lt(e,wo);return t.length&&t[0]===e[0]?Pr(t):[]})),Qi=Yr((function(e){var t=Ji(e),n=Lt(e,wo);return t===Ji(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Pr(n,fi(t,2)):[]})),Yi=Yr((function(e){var t=Ji(e),n=Lt(e,wo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,o,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:o}var ea=Yr(ta);function ta(e,t){return e&&e.length&&t&&t.length?zr(e,t):e}var na=ii((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return $r(e,Lt(t,(function(e){return bi(e,n)?+e:e})).sort(Ao)),r}));function ra(e){return null==e?e:xn.call(e)}var oa=Yr((function(e){return po(_r(e,1,Xa,!0))})),ia=Yr((function(e){var t=Ji(e);return Xa(t)&&(t=o),po(_r(e,1,Xa,!0),fi(t,2))})),aa=Yr((function(e){var t=Ji(e);return t="function"==typeof t?t:o,po(_r(e,1,Xa,!0),o,t)}));function ua(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Xa(e))return t=wn(e.length,t),!0})),$t(t,(function(t){return Lt(e,qt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=ua(e);return null==t?n:Lt(n,(function(e){return xt(t,o,e)}))}var la=Yr((function(e,t){return Xa(e)?pr(e,t):[]})),ca=Yr((function(e){return yo(Rt(e,Xa))})),fa=Yr((function(e){var t=Ji(e);return Xa(t)&&(t=o),yo(Rt(e,Xa),fi(t,2))})),da=Yr((function(e){var t=Ji(e);return t="function"==typeof t?t:o,yo(Rt(e,Xa),o,t)})),pa=Yr(ua);var ha=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,sa(e,n)}));function ga(e){var t=jn(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var va=ii((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ma,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ya=No((function(e,t,n){Ue.call(e,n)?++e[n]:ur(e,n,1)}));var _a=Ho(Wi),wa=Ho(Gi);function ba(e,t){return(Ga(e)?Tt:hr)(e,fi(t,3))}function ka(e,t){return(Ga(e)?Ot:gr)(e,fi(t,3))}var Ea=No((function(e,t,n){Ue.call(e,n)?e[n].push(t):ur(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i="function"==typeof t,a=$a(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?xt(t,e,n):Ir(e,t,n)})),a})),xa=No((function(e,t,n){ur(e,n,t)}));function Ca(e,t){return(Ga(e)?Lt:Hr)(e,fi(t,3))}var Ta=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Oa=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ki(e,t[0],t[1])?t=[]:n>2&&ki(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,_r(t,1),[])})),Aa=dt||function(){return pt.Date.now()};function Ra(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,ei(e,f,o,o,o,o,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new Re(i);return e=vu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ia=Yr((function(e,t,n){var r=1;if(n.length){var o=cn(n,ci(Ia));r|=l}return ei(e,r,t,n,o)})),La=Yr((function(e,t,n){var r=3;if(n.length){var o=cn(n,ci(La));r|=l}return ei(t,r,e,n,o)}));function Na(e,t,n){var r,a,u,s,l,c,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Re(i);function g(t){var n=r,i=a;return r=a=o,f=t,s=e.apply(i,n)}function m(e){return f=e,l=Ni(y,t),d?g(e):s}function v(e){var n=e-c;return c===o||n>=t||n<0||p&&e-f>=u}function y(){var e=Aa();if(v(e))return _(e);l=Ni(y,function(e){var n=t-(e-c);return p?bn(n,u-(e-f)):n}(e))}function _(e){return l=o,h&&r?g(e):(r=a=o,s)}function w(){var e=Aa(),n=v(e);if(r=arguments,a=this,c=e,n){if(l===o)return m(c);if(p)return xo(l),l=Ni(y,t),g(c)}return l===o&&(l=Ni(y,t)),s}return t=_u(t)||0,ru(n)&&(d=!!n.leading,u=(p="maxWait"in n)?wn(_u(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),w.cancel=function(){l!==o&&xo(l),f=0,r=c=a=l=o},w.flush=function(){return l===o?s:_(Aa())},w}var Ma=Yr((function(e,t){return dr(e,1,t)})),Ua=Yr((function(e,t,n){return dr(e,_u(t)||0,n)}));function Da(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Da.Cache||$n),n}function Ba(e){if("function"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Da.Cache=$n;var Fa=Eo((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Lt(t[0],Qt(fi())):Lt(_r(t,1),Qt(fi()))).length;return Yr((function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return xt(e,this,r)}))})),Ka=Yr((function(e,t){var n=cn(t,ci(Ka));return ei(e,l,o,t,n)})),Ha=Yr((function(e,t){var n=cn(t,ci(Ha));return ei(e,c,o,t,n)})),ja=ii((function(e,t){return ei(e,d,o,o,o,t)}));function Za(e,t){return e===t||e!=e&&t!=t}var Va=$o(Or),qa=$o((function(e,t){return e>=t})),Wa=Lr(function(){return arguments}())?Lr:function(e){return ou(e)&&Ue.call(e,"callee")&&!$e.call(e,"callee")},Ga=r.isArray,za=_t?Qt(_t):function(e){return ou(e)&&Tr(e)==N};function $a(e){return null!=e&&nu(e.length)&&!eu(e)}function Xa(e){return ou(e)&&$a(e)}var Qa=Bt||_s,Ya=wt?Qt(wt):function(e){return ou(e)&&Tr(e)==b};function Ja(e){if(!ou(e))return!1;var t=Tr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!uu(e)}function eu(e){if(!ru(e))return!1;var t=Tr(e);return t==E||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function tu(e){return"number"==typeof e&&e==vu(e)}function nu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ru(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ou(e){return null!=e&&"object"==typeof e}var iu=bt?Qt(bt):function(e){return ou(e)&&vi(e)==x};function au(e){return"number"==typeof e||ou(e)&&Tr(e)==C}function uu(e){if(!ou(e)||Tr(e)!=T)return!1;var t=Ge(e);if(null===t)return!0;var n=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Ke}var su=kt?Qt(kt):function(e){return ou(e)&&Tr(e)==A};var lu=Et?Qt(Et):function(e){return ou(e)&&vi(e)==R};function cu(e){return"string"==typeof e||!Ga(e)&&ou(e)&&Tr(e)==P}function fu(e){return"symbol"==typeof e||ou(e)&&Tr(e)==I}var du=St?Qt(St):function(e){return ou(e)&&nu(e.length)&&!!at[Tr(e)]};var pu=$o(Kr),hu=$o((function(e,t){return e<=t}));function gu(e){if(!e)return[];if($a(e))return cu(e)?hn(e):Io(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=vi(e);return(t==x?sn:t==R?fn:Zu)(e)}function mu(e){return e?(e=_u(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vu(e){var t=mu(e),n=t%1;return t==t?n?t-n:t:0}function yu(e){return e?lr(vu(e),0,m):0}function _u(e){if("number"==typeof e)return e;if(fu(e))return g;if(ru(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ru(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||_e.test(e)?ct(e.slice(2),n?2:8):me.test(e)?g:+e}function wu(e){return Lo(e,Mu(e))}function bu(e){return null==e?"":fo(e)}var ku=Mo((function(e,t){if(Ci(t)||$a(t))Lo(t,Nu(t),e);else for(var n in t)Ue.call(t,n)&&rr(e,n,t[n])})),Eu=Mo((function(e,t){Lo(t,Mu(t),e)})),Su=Mo((function(e,t,n,r){Lo(t,Mu(t),e,r)})),xu=Mo((function(e,t,n,r){Lo(t,Nu(t),e,r)})),Cu=ii(sr);var Tu=Yr((function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&ki(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Mu(a),s=-1,l=u.length;++s<l;){var c=u[s],f=e[c];(f===o||Za(f,Le[c])&&!Ue.call(e,c))&&(e[c]=a[c])}return e})),Ou=Yr((function(e){return e.push(o,ni),xt(Du,o,e)}));function Au(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function Ru(e,t){return null!=e&&yi(e,t,Rr)}var Pu=Vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),rs(as)),Iu=Vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ue.call(e,t)?e[t].push(n):e[t]=[n]}),fi),Lu=Yr(Ir);function Nu(e){return $a(e)?Yn(e):Br(e)}function Mu(e){return $a(e)?Yn(e,!0):Fr(e)}var Uu=Mo((function(e,t,n){Vr(e,t,n)})),Du=Mo((function(e,t,n,r){Vr(e,t,n,r)})),Bu=ii((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=ko(t,e),r||(r=t.length>1),t})),Lo(e,ui(e),n),r&&(n=cr(n,7,ri));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Fu=ii((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ru(e,n)}))}(e,t)}));function Ku(e,t){if(null==e)return{};var n=Lt(ui(e),(function(e){return[e]}));return t=fi(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Hu=Jo(Nu),ju=Jo(Mu);function Zu(e){return null==e?[]:Yt(e,Nu(e))}var Vu=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?qu(t):t)}));function qu(e){return Ju(bu(e).toLowerCase())}function Wu(e){return(e=bu(e))&&e.replace(be,rn).replace(Je,"")}var Gu=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),zu=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$u=Bo("toLowerCase");var Xu=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qu=Fo((function(e,t,n){return e+(n?" ":"")+Ju(t)}));var Yu=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ju=Bo("toUpperCase");function es(e,t,n){return e=bu(e),(t=n?o:t)===o?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var ts=Yr((function(e,t){try{return xt(e,o,t)}catch(e){return Ja(e)?e:new Se(e)}})),ns=ii((function(e,t){return Tt(t,(function(t){t=Ki(t),ur(e,t,Ia(e[t],e))})),e}));function rs(e){return function(){return e}}var os=jo(),is=jo(!0);function as(e){return e}function us(e){return Dr("function"==typeof e?e:cr(e,1))}var ss=Yr((function(e,t){return function(n){return Ir(n,e,t)}})),ls=Yr((function(e,t){return function(n){return Ir(e,n,t)}}));function cs(e,t,n){var r=Nu(t),o=Sr(t,r);null!=n||ru(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Sr(t,Nu(t)));var i=!(ru(n)&&"chain"in n&&!n.chain),a=eu(e);return Tt(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Io(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function fs(){}var ds=Wo(Lt),ps=Wo(At),hs=Wo(Dt);function gs(e){return Ei(e)?qt(Ki(e)):function(e){return function(t){return xr(t,e)}}(e)}var ms=zo(),vs=zo(!0);function ys(){return[]}function _s(){return!1}var ws=qo((function(e,t){return e+t}),0),bs=Qo("ceil"),ks=qo((function(e,t){return e/t}),1),Es=Qo("floor");var Ss,xs=qo((function(e,t){return e*t}),1),Cs=Qo("round"),Ts=qo((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Re(i);return e=vu(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Ra,jn.assign=ku,jn.assignIn=Eu,jn.assignInWith=Su,jn.assignWith=xu,jn.at=Cu,jn.before=Pa,jn.bind=Ia,jn.bindAll=ns,jn.bindKey=La,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},jn.chain=ga,jn.chunk=function(e,t,n){t=(n?ki(e,t,n):t===o)?1:wn(vu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=r(gt(i/t));a<i;)s[u++]=io(e,a,a+=t);return s},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Nt(Ga(n)?Io(n):[n],_r(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=fi();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(xt(o[0],this,n))return xt(o[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Nu(e);return function(n){return fr(n,e,t)}}(cr(e,1))},jn.constant=rs,jn.countBy=ya,jn.create=function(e,t){var n=Zn(e);return null==t?n:ar(n,t)},jn.curry=function e(t,n,r){var i=ei(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},jn.curryRight=function e(t,n,r){var i=ei(t,s,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},jn.debounce=Na,jn.defaults=Tu,jn.defaultsDeep=Ou,jn.defer=Ma,jn.delay=Ua,jn.difference=Zi,jn.differenceBy=Vi,jn.differenceWith=qi,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=n||t===o?1:vu(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,0,(t=r-(t=n||t===o?1:vu(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?mo(e,fi(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?mo(e,fi(t,3),!0):[]},jn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ki(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=vu(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:vu(r))<0&&(r+=i),r=n>r?0:yu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Ga(e)?Rt:yr)(e,fi(t,3))},jn.flatMap=function(e,t){return _r(Ca(e,t),1)},jn.flatMapDeep=function(e,t){return _r(Ca(e,t),p)},jn.flatMapDepth=function(e,t,n){return n=n===o?1:vu(n),_r(Ca(e,t),n)},jn.flatten=zi,jn.flattenDeep=function(e){return(null==e?0:e.length)?_r(e,p):[]},jn.flattenDepth=function(e,t){return(null==e?0:e.length)?_r(e,t=t===o?1:vu(t)):[]},jn.flip=function(e){return ei(e,512)},jn.flow=os,jn.flowRight=is,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},jn.functions=function(e){return null==e?[]:Sr(e,Nu(e))},jn.functionsIn=function(e){return null==e?[]:Sr(e,Mu(e))},jn.groupBy=Ea,jn.initial=function(e){return(null==e?0:e.length)?io(e,0,-1):[]},jn.intersection=Xi,jn.intersectionBy=Qi,jn.intersectionWith=Yi,jn.invert=Pu,jn.invertBy=Iu,jn.invokeMap=Sa,jn.iteratee=us,jn.keyBy=xa,jn.keys=Nu,jn.keysIn=Mu,jn.map=Ca,jn.mapKeys=function(e,t){var n={};return t=fi(t,3),kr(e,(function(e,r,o){ur(n,t(e,r,o),e)})),n},jn.mapValues=function(e,t){var n={};return t=fi(t,3),kr(e,(function(e,r,o){ur(n,r,t(e,r,o))})),n},jn.matches=function(e){return jr(cr(e,1))},jn.matchesProperty=function(e,t){return Zr(e,cr(t,1))},jn.memoize=Da,jn.merge=Uu,jn.mergeWith=Du,jn.method=ss,jn.methodOf=ls,jn.mixin=cs,jn.negate=Ba,jn.nthArg=function(e){return e=vu(e),Yr((function(t){return qr(t,e)}))},jn.omit=Bu,jn.omitBy=function(e,t){return Ku(e,Ba(fi(t)))},jn.once=function(e){return Pa(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?o:n)||(n=null==n?[]:[n]),Wr(e,t,n))},jn.over=ds,jn.overArgs=Fa,jn.overEvery=ps,jn.overSome=hs,jn.partial=Ka,jn.partialRight=Ha,jn.partition=Ta,jn.pick=Fu,jn.pickBy=Ku,jn.property=gs,jn.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},jn.pull=ea,jn.pullAll=ta,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,fi(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,o,n):e},jn.pullAt=na,jn.range=ms,jn.rangeRight=vs,jn.rearg=ja,jn.reject=function(e,t){return(Ga(e)?Rt:yr)(e,Ba(fi(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=fi(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return $r(e,o),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Re(i);return Yr(e,t=t===o?t:vu(t))},jn.reverse=ra,jn.sampleSize=function(e,t,n){return t=(n?ki(e,t,n):t===o)?1:vu(t),(Ga(e)?er:eo)(e,t)},jn.set=function(e,t,n){return null==e?e:to(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:to(e,t,n,r)},jn.shuffle=function(e){return(Ga(e)?tr:oo)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ki(e,t,n)?(t=0,n=r):(t=null==t?0:vu(t),n=n===o?r:vu(n)),io(e,t,n)):[]},jn.sortBy=Oa,jn.sortedUniq=function(e){return e&&e.length?lo(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?lo(e,fi(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&ki(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!su(t))&&!(t=fo(t))&&un(e)?So(hn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Re(i);return t=null==t?0:wn(vu(t),0),Yr((function(n){var r=n[t],o=So(n,0,t);return r&&Nt(o,r),xt(e,this,o)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?io(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?io(e,0,(t=n||t===o?1:vu(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=r-(t=n||t===o?1:vu(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?mo(e,fi(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?mo(e,fi(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Re(i);return ru(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Na(e,t,{leading:r,maxWait:t,trailing:o})},jn.thru=ma,jn.toArray=gu,jn.toPairs=Hu,jn.toPairsIn=ju,jn.toPath=function(e){return Ga(e)?Lt(e,Ki):fu(e)?[e]:Io(Fi(bu(e)))},jn.toPlainObject=wu,jn.transform=function(e,t,n){var r=Ga(e),o=r||Qa(e)||du(e);if(t=fi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ru(e)&&eu(i)?Zn(Ge(e)):{}}return(o?Tt:kr)(e,(function(e,r,o){return t(n,e,r,o)})),n},jn.unary=function(e){return Ra(e,1)},jn.union=oa,jn.unionBy=ia,jn.unionWith=aa,jn.uniq=function(e){return e&&e.length?po(e):[]},jn.uniqBy=function(e,t){return e&&e.length?po(e,fi(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?po(e,o,t):[]},jn.unset=function(e,t){return null==e||ho(e,t)},jn.unzip=ua,jn.unzipWith=sa,jn.update=function(e,t,n){return null==e?e:go(e,t,bo(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:go(e,t,bo(n),r)},jn.values=Zu,jn.valuesIn=function(e){return null==e?[]:Yt(e,Mu(e))},jn.without=la,jn.words=es,jn.wrap=function(e,t){return Ka(bo(t),e)},jn.xor=ca,jn.xorBy=fa,jn.xorWith=da,jn.zip=pa,jn.zipObject=function(e,t){return _o(e||[],t||[],rr)},jn.zipObjectDeep=function(e,t){return _o(e||[],t||[],to)},jn.zipWith=ha,jn.entries=Hu,jn.entriesIn=ju,jn.extend=Eu,jn.extendWith=Su,cs(jn,jn),jn.add=ws,jn.attempt=ts,jn.camelCase=Vu,jn.capitalize=qu,jn.ceil=bs,jn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=_u(n))==n?n:0),t!==o&&(t=(t=_u(t))==t?t:0),lr(_u(e),t,n)},jn.clone=function(e){return cr(e,4)},jn.cloneDeep=function(e){return cr(e,5)},jn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:o)},jn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:o)},jn.conformsTo=function(e,t){return null==t||fr(e,t,Nu(t))},jn.deburr=Wu,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=ks,jn.endsWith=function(e,t,n){e=bu(e),t=fo(t);var r=e.length,i=n=n===o?r:lr(vu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},jn.eq=Za,jn.escape=function(e){return(e=bu(e))&&Q.test(e)?e.replace($,on):e},jn.escapeRegExp=function(e){return(e=bu(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},jn.every=function(e,t,n){var r=Ga(e)?At:mr;return n&&ki(e,t,n)&&(t=o),r(e,fi(t,3))},jn.find=_a,jn.findIndex=Wi,jn.findKey=function(e,t){return Ft(e,fi(t,3),kr)},jn.findLast=wa,jn.findLastIndex=Gi,jn.findLastKey=function(e,t){return Ft(e,fi(t,3),Er)},jn.floor=Es,jn.forEach=ba,jn.forEachRight=ka,jn.forIn=function(e,t){return null==e?e:wr(e,fi(t,3),Mu)},jn.forInRight=function(e,t){return null==e?e:br(e,fi(t,3),Mu)},jn.forOwn=function(e,t){return e&&kr(e,fi(t,3))},jn.forOwnRight=function(e,t){return e&&Er(e,fi(t,3))},jn.get=Au,jn.gt=Va,jn.gte=qa,jn.has=function(e,t){return null!=e&&yi(e,t,Ar)},jn.hasIn=Ru,jn.head=$i,jn.identity=as,jn.includes=function(e,t,n,r){e=$a(e)?e:Zu(e),n=n&&!r?vu(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ht(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vu(n);return o<0&&(o=wn(r+o,0)),Ht(e,t,o)},jn.inRange=function(e,t,n){return t=mu(t),n===o?(n=t,t=0):n=mu(n),function(e,t,n){return e>=bn(t,n)&&e<wn(t,n)}(e=_u(e),t,n)},jn.invoke=Lu,jn.isArguments=Wa,jn.isArray=Ga,jn.isArrayBuffer=za,jn.isArrayLike=$a,jn.isArrayLikeObject=Xa,jn.isBoolean=function(e){return!0===e||!1===e||ou(e)&&Tr(e)==w},jn.isBuffer=Qa,jn.isDate=Ya,jn.isElement=function(e){return ou(e)&&1===e.nodeType&&!uu(e)},jn.isEmpty=function(e){if(null==e)return!0;if($a(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||du(e)||Wa(e)))return!e.length;var t=vi(e);if(t==x||t==R)return!e.size;if(Ci(e))return!Br(e).length;for(var n in e)if(Ue.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Nr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},jn.isError=Ja,jn.isFinite=function(e){return"number"==typeof e&&Wt(e)},jn.isFunction=eu,jn.isInteger=tu,jn.isLength=nu,jn.isMap=iu,jn.isMatch=function(e,t){return e===t||Mr(e,t,pi(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Mr(e,t,pi(t),n)},jn.isNaN=function(e){return au(e)&&e!=+e},jn.isNative=function(e){if(xi(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ur(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=au,jn.isObject=ru,jn.isObjectLike=ou,jn.isPlainObject=uu,jn.isRegExp=su,jn.isSafeInteger=function(e){return tu(e)&&e>=-9007199254740991&&e<=h},jn.isSet=lu,jn.isString=cu,jn.isSymbol=fu,jn.isTypedArray=du,jn.isUndefined=function(e){return e===o},jn.isWeakMap=function(e){return ou(e)&&vi(e)==L},jn.isWeakSet=function(e){return ou(e)&&"[object WeakSet]"==Tr(e)},jn.join=function(e,t){return null==e?"":yn.call(e,t)},jn.kebabCase=Gu,jn.last=Ji,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=vu(n))<0?wn(r+i,0):bn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Kt(e,Zt,i,!0)},jn.lowerCase=zu,jn.lowerFirst=$u,jn.lt=pu,jn.lte=hu,jn.max=function(e){return e&&e.length?vr(e,as,Or):o},jn.maxBy=function(e,t){return e&&e.length?vr(e,fi(t,2),Or):o},jn.mean=function(e){return Vt(e,as)},jn.meanBy=function(e,t){return Vt(e,fi(t,2))},jn.min=function(e){return e&&e.length?vr(e,as,Kr):o},jn.minBy=function(e,t){return e&&e.length?vr(e,fi(t,2),Kr):o},jn.stubArray=ys,jn.stubFalse=_s,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=xs,jn.nth=function(e,t){return e&&e.length?qr(e,vu(t)):o},jn.noConflict=function(){return pt._===this&&(pt._=He),this},jn.noop=fs,jn.now=Aa,jn.pad=function(e,t,n){e=bu(e);var r=(t=vu(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Go(vt(o),n)+e+Go(gt(o),n)},jn.padEnd=function(e,t,n){e=bu(e);var r=(t=vu(t))?pn(e):0;return t&&r<t?e+Go(t-r,n):e},jn.padStart=function(e,t,n){e=bu(e);var r=(t=vu(t))?pn(e):0;return t&&r<t?Go(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(bu(e).replace(ae,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ki(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=mu(e),t===o?(t=e,e=0):t=mu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Sn();return bn(e+i*(t-e+lt("1e-"+((i+"").length-1))),t)}return Xr(e,t)},jn.reduce=function(e,t,n){var r=Ga(e)?Mt:Gt,o=arguments.length<3;return r(e,fi(t,4),n,o,hr)},jn.reduceRight=function(e,t,n){var r=Ga(e)?Ut:Gt,o=arguments.length<3;return r(e,fi(t,4),n,o,gr)},jn.repeat=function(e,t,n){return t=(n?ki(e,t,n):t===o)?1:vu(t),Qr(bu(e),t)},jn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,i=(t=ko(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Ki(t[r])];a===o&&(r=i,a=n),e=eu(a)?a.call(e):a}return e},jn.round=Cs,jn.runInContext=e,jn.sample=function(e){return(Ga(e)?Jn:Jr)(e)},jn.size=function(e){if(null==e)return 0;if($a(e))return cu(e)?pn(e):e.length;var t=vi(e);return t==x||t==R?e.size:Br(e).length},jn.snakeCase=Xu,jn.some=function(e,t,n){var r=Ga(e)?Dt:ao;return n&&ki(e,t,n)&&(t=o),r(e,fi(t,3))},jn.sortedIndex=function(e,t){return uo(e,t)},jn.sortedIndexBy=function(e,t,n){return so(e,t,fi(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=uo(e,t);if(r<n&&Za(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return uo(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return so(e,t,fi(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=uo(e,t,!0)-1;if(Za(e[n],t))return n}return-1},jn.startCase=Qu,jn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:lr(vu(n),0,e.length),t=fo(t),e.slice(n,n+t.length)==t},jn.subtract=Ts,jn.sum=function(e){return e&&e.length?zt(e,as):0},jn.sumBy=function(e,t){return e&&e.length?zt(e,fi(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&ki(e,t,n)&&(t=o),e=bu(e),t=Su({},t,r,ti);var i,a,u=Su({},t.imports,r.imports,ti),s=Nu(u),l=Yt(u,s),c=0,f=t.interpolate||ke,d="__p += '",p=Oe((t.escape||ke).source+"|"+f.source+"|"+(f===ee?he:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),h="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,o,u,s){return r||(r=o),d+=e.slice(c,s).replace(Ee,an),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),d+="';\n";var g=Ue.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new Se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(q,""):d).replace(W,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=ts((function(){return xe(s,h+"return "+d).apply(o,l)}));if(m.source=d,Ja(m))throw m;return m},jn.times=function(e,t){if((e=vu(e))<1||e>h)return[];var n=m,r=bn(e,m);t=fi(t),e-=m;for(var o=$t(r,t);++n<e;)t(n);return o},jn.toFinite=mu,jn.toInteger=vu,jn.toLength=yu,jn.toLower=function(e){return bu(e).toLowerCase()},jn.toNumber=_u,jn.toSafeInteger=function(e){return e?lr(vu(e),-9007199254740991,h):0===e?e:0},jn.toString=bu,jn.toUpper=function(e){return bu(e).toUpperCase()},jn.trim=function(e,t,n){if((e=bu(e))&&(n||t===o))return Xt(e);if(!e||!(t=fo(t)))return e;var r=hn(e),i=hn(t);return So(r,en(r,i),tn(r,i)+1).join("")},jn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=fo(t)))return e;var r=hn(e);return So(r,0,tn(r,hn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=fo(t)))return e;var r=hn(e);return So(r,en(r,hn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(ru(t)){var i="separator"in t?t.separator:i;n="length"in t?vu(t.length):n,r="omission"in t?fo(t.omission):r}var a=(e=bu(e)).length;if(un(e)){var u=hn(e);a=u.length}if(n>=a)return e;var s=n-pn(r);if(s<1)return r;var l=u?So(u,0,s).join(""):e.slice(0,s);if(i===o)return l+r;if(u&&(s+=l.length-s),su(i)){if(e.slice(s).search(i)){var c,f=l;for(i.global||(i=Oe(i.source,bu(ge.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?s:d)}}else if(e.indexOf(fo(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},jn.unescape=function(e){return(e=bu(e))&&X.test(e)?e.replace(z,mn):e},jn.uniqueId=function(e){var t=++De;return bu(e)+t},jn.upperCase=Yu,jn.upperFirst=Ju,jn.each=ba,jn.eachRight=ka,jn.first=$i,cs(jn,(Ss={},kr(jn,(function(e,t){Ue.call(jn.prototype,t)||(Ss[t]=e)})),Ss),{chain:!1}),jn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Tt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===o?1:wn(vu(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:fi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(as)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ir(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ba(fi(e)))},Wn.prototype.slice=function(e,t){e=vu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=vu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},kr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=jn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(jn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Wn,l=u[0],c=s||Ga(t),f=function(e){var t=i.apply(jn,Nt([e],u));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,g=s&&!p;if(!a&&c){t=g?t:new Wn(this);var m=e.apply(t,u);return m.__actions__.push({func:ma,args:[f],thisArg:o}),new qn(m,d)}return h&&g?e.apply(this,u):(m=this.thru(f),h?r?m.value()[0]:m.value():m)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ga(o)?o:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),kr(Wn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Ue.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:t,func:n})}})),Ln[Zo(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Io(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Io(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Io(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,d=0,p=bn(s,this.__takeCount__);if(!n||!r&&o==s&&p==s)return vo(e,this.__actions__);var h=[];e:for(;s--&&d<p;){for(var g=-1,m=e[l+=t];++g<f;){var v=c[g],y=v.iteratee,_=v.type,w=y(m);if(2==_)m=w;else if(!w){if(1==_)continue e;break e}}h[d++]=m}return h},jn.prototype.at=va,jn.prototype.chain=function(){return ga(this)},jn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===o&&(this.__values__=gu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=ji(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ra],thisArg:o}),new qn(t,this.__chain__)}return this.thru(ra)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,et&&(jn.prototype[et]=function(){return this}),jn}();pt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},234:function(e){
/*! @license DOMPurify 2.3.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.4/LICENSE */
e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,o=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor,a=Object.freeze,u=Object.seal,s=Object.create,l="undefined"!=typeof Reflect&&Reflect,c=l.apply,f=l.construct;c||(c=function(e,t,n){return e.apply(t,n)}),a||(a=function(e){return e}),u||(u=function(e){return e}),f||(f=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var d=k(Array.prototype.forEach),p=k(Array.prototype.pop),h=k(Array.prototype.push),g=k(String.prototype.toLowerCase),m=k(String.prototype.match),v=k(String.prototype.replace),y=k(String.prototype.indexOf),_=k(String.prototype.trim),w=k(RegExp.prototype.test),b=E(TypeError);function k(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return c(e,t,r)}}function E(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(e,n)}}function S(e,t){n&&n(e,null);for(var o=t.length;o--;){var i=t[o];if("string"==typeof i){var a=g(i);a!==i&&(r(t)||(t[o]=a),i=a)}e[i]=!0}return e}function x(e){var n=s(null),r=void 0;for(r in e)c(t,e,[r])&&(n[r]=e[r]);return n}function C(e,t){for(;null!==e;){var n=i(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=o(e)}function r(e){return console.warn("fallback value for",e),null}return r}var T=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),O=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=a(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),I=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=a(["#text"]),N=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),M=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=u(/\{\{[\s\S]*|[\s\S]*\}\}/gm),F=u(/<%[\s\S]*|[\s\S]*%>/gm),K=u(/^data-[\-\w.\u00B7-\uFFFF]/),H=u(/^aria-[\-\w]+$/),j=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=u(/^(?:\w+script|data):/i),V=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function W(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var G=function(){return"undefined"==typeof window?null:window},z=function(e,t){if("object"!==(void 0===e?"undefined":q(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G(),t=function(e){return $(e)};if(t.version="2.3.4",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=e.document,o=e.DocumentFragment,i=e.HTMLTemplateElement,u=e.Node,s=e.Element,l=e.NodeFilter,c=e.NamedNodeMap,f=void 0===c?e.NamedNodeMap||e.MozNamedAttrMap:c,k=e.HTMLFormElement,E=e.DOMParser,X=e.trustedTypes,Q=s.prototype,Y=C(Q,"cloneNode"),J=C(Q,"nextSibling"),ee=C(Q,"childNodes"),te=C(Q,"parentNode");if("function"==typeof i){var ne=r.createElement("template");ne.content&&ne.content.ownerDocument&&(r=ne.content.ownerDocument)}var re=z(X,n),oe=re&&Ue?re.createHTML(""):"",ie=r,ae=ie.implementation,ue=ie.createNodeIterator,se=ie.createDocumentFragment,le=ie.getElementsByTagName,ce=n.importNode,fe={};try{fe=x(r).documentMode?r.documentMode:{}}catch(e){}var de={};t.isSupported="function"==typeof te&&ae&&void 0!==ae.createHTMLDocument&&9!==fe;var pe=B,he=F,ge=K,me=H,ve=Z,ye=V,_e=j,we=null,be=S({},[].concat(W(T),W(O),W(A),W(P),W(L))),ke=null,Ee=S({},[].concat(W(N),W(M),W(U),W(D))),Se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Ce=null,Te=!0,Oe=!0,Ae=!1,Re=!1,Pe=!1,Ie=!1,Le=!1,Ne=!1,Me=!1,Ue=!1,De=!0,Be=!0,Fe=!1,Ke={},He=null,je=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ze=null,Ve=S({},["audio","video","img","source","image","track"]),qe=null,We=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xhtml",Xe=$e,Qe=!1,Ye=void 0,Je=["application/xhtml+xml","text/html"],et="text/html",tt=void 0,nt=null,rt=r.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},it=function(e){nt&&nt===e||(e&&"object"===(void 0===e?"undefined":q(e))||(e={}),e=x(e),we="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):be,ke="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):Ee,qe="ADD_URI_SAFE_ATTR"in e?S(x(We),e.ADD_URI_SAFE_ATTR):We,Ze="ADD_DATA_URI_TAGS"in e?S(x(Ve),e.ADD_DATA_URI_TAGS):Ve,He="FORBID_CONTENTS"in e?S({},e.FORBID_CONTENTS):je,xe="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},Ce="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},Ke="USE_PROFILES"in e&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Oe=!1!==e.ALLOW_DATA_ATTR,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ue=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,De=!1!==e.SANITIZE_DOM,Be=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||_e,Xe=e.NAMESPACE||$e,e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ye=Ye=-1===Je.indexOf(e.PARSER_MEDIA_TYPE)?et:e.PARSER_MEDIA_TYPE,tt="application/xhtml+xml"===Ye?function(e){return e}:g,Re&&(Oe=!1),Me&&(Ne=!0),Ke&&(we=S({},[].concat(W(L))),ke=[],!0===Ke.html&&(S(we,T),S(ke,N)),!0===Ke.svg&&(S(we,O),S(ke,M),S(ke,D)),!0===Ke.svgFilters&&(S(we,A),S(ke,M),S(ke,D)),!0===Ke.mathMl&&(S(we,P),S(ke,U),S(ke,D))),e.ADD_TAGS&&(we===be&&(we=x(we)),S(we,e.ADD_TAGS)),e.ADD_ATTR&&(ke===Ee&&(ke=x(ke)),S(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(qe,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(He===je&&(He=x(He)),S(He,e.FORBID_CONTENTS)),Be&&(we["#text"]=!0),Pe&&S(we,["html","head","body"]),we.table&&(S(we,["tbody"]),delete xe.tbody),a&&a(e),nt=e)},at=S({},["mi","mo","mn","ms","mtext"]),ut=S({},["foreignobject","desc","title","annotation-xml"]),st=S({},O);S(st,A),S(st,R);var lt=S({},P);S(lt,I);var ct=function(e){var t=te(e);t&&t.tagName||(t={namespaceURI:$e,tagName:"template"});var n=g(e.tagName),r=g(t.tagName);if(e.namespaceURI===ze)return t.namespaceURI===$e?"svg"===n:t.namespaceURI===Ge?"svg"===n&&("annotation-xml"===r||at[r]):Boolean(st[n]);if(e.namespaceURI===Ge)return t.namespaceURI===$e?"math"===n:t.namespaceURI===ze?"math"===n&&ut[r]:Boolean(lt[n]);if(e.namespaceURI===$e){if(t.namespaceURI===ze&&!ut[r])return!1;if(t.namespaceURI===Ge&&!at[r])return!1;var o=S({},["title","style","font","a","script"]);return!lt[n]&&(o[n]||!st[n])}return!1},ft=function(e){h(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},dt=function(e,n){try{h(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(e){h(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!ke[e])if(Ne||Me)try{ft(n)}catch(e){}else try{n.setAttribute(e,"")}catch(e){}},pt=function(e){var t=void 0,n=void 0;if(Le)e="<remove></remove>"+e;else{var o=m(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=re?re.createHTML(e):e;if(Xe===$e)try{t=(new E).parseFromString(i,Ye)}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Qe?"":i}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Xe===$e?le.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:a},ht=function(e){return ue.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},gt=function(e){return e instanceof k&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},mt=function(e){return"object"===(void 0===u?"undefined":q(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":q(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},vt=function(e,n,r){de[e]&&d(de[e],(function(e){e.call(t,n,r,nt)}))},yt=function(e){var n=void 0;if(vt("beforeSanitizeElements",e,null),gt(e))return ft(e),!0;if(m(e.nodeName,/[\u0080-\uFFFF]/))return ft(e),!0;var r=tt(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:r,allowedTags:we}),!mt(e.firstElementChild)&&(!mt(e.content)||!mt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return ft(e),!0;if("select"===r&&w(/<template/i,e.innerHTML))return ft(e),!0;if(!we[r]||xe[r]){if(Be&&!He[r]){var o=te(e)||e.parentNode,i=ee(e)||e.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(Y(i[a],!0),J(e))}if(!xe[r]&&wt(r)){if(Se.tagNameCheck instanceof RegExp&&w(Se.tagNameCheck,r))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))return!1}return ft(e),!0}return e instanceof s&&!ct(e)?(ft(e),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,e.innerHTML)?(Re&&3===e.nodeType&&(n=e.textContent,n=v(n,pe," "),n=v(n,he," "),e.textContent!==n&&(h(t.removed,{element:e.cloneNode()}),e.textContent=n)),vt("afterSanitizeElements",e,null),!1):(ft(e),!0)},_t=function(e,t,n){if(De&&("id"===t||"name"===t)&&(n in r||n in rt))return!1;if(Oe&&!Ce[t]&&w(ge,t));else if(Te&&w(me,t));else if(!ke[t]||Ce[t]){if(!(wt(e)&&(Se.tagNameCheck instanceof RegExp&&w(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&w(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&w(Se.tagNameCheck,n)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))))return!1}else if(qe[t]);else if(w(_e,v(n,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ze[e])if(Ae&&!w(ve,v(n,ye,"")));else if(n)return!1;return!0},wt=function(e){return e.indexOf("-")>0},bt=function(e){var n=void 0,r=void 0,o=void 0,i=void 0;vt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(i=a.length;i--;){var s=n=a[i],l=s.name,c=s.namespaceURI;if(r=_(n.value),o=tt(l),u.attrName=o,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,u),r=u.attrValue,!u.forceKeepAttr&&(dt(l,e),u.keepAttr))if(w(/\/>/i,r))dt(l,e);else{Re&&(r=v(r,pe," "),r=v(r,he," "));var f=tt(e.nodeName);if(_t(f,o,r))try{c?e.setAttributeNS(c,l,r):e.setAttribute(l,r),p(t.removed)}catch(e){}}}vt("afterSanitizeAttributes",e,null)}},kt=function e(t){var n=void 0,r=ht(t);for(vt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)vt("uponSanitizeShadowNode",n,null),yt(n)||(n.content instanceof o&&e(n.content),bt(n));vt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,i){var a=void 0,s=void 0,l=void 0,c=void 0,f=void 0;if((Qe=!r)&&(r="\x3c!--\x3e"),"string"!=typeof r&&!mt(r)){if("function"!=typeof r.toString)throw b("toString is not a function");if("string"!=typeof(r=r.toString()))throw b("dirty is not a string, aborting")}if(!t.isSupported){if("object"===q(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof r)return e.toStaticHTML(r);if(mt(r))return e.toStaticHTML(r.outerHTML)}return r}if(Ie||it(i),t.removed=[],"string"==typeof r&&(Fe=!1),Fe);else if(r instanceof u)1===(s=(a=pt("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!Ne&&!Re&&!Pe&&-1===r.indexOf("<"))return re&&Ue?re.createHTML(r):r;if(!(a=pt(r)))return Ne?null:oe}a&&Le&&ft(a.firstChild);for(var d=ht(Fe?r:a);l=d.nextNode();)3===l.nodeType&&l===c||yt(l)||(l.content instanceof o&&kt(l.content),bt(l),c=l);if(c=null,Fe)return r;if(Ne){if(Me)for(f=se.call(a.ownerDocument);a.firstChild;)f.appendChild(a.firstChild);else f=a;return ke.shadowroot&&(f=ce.call(n,f,!0)),f}var p=Pe?a.outerHTML:a.innerHTML;return Re&&(p=v(p,pe," "),p=v(p,he," ")),re&&Ue?re.createHTML(p):p},t.setConfig=function(e){it(e),Ie=!0},t.clearConfig=function(){nt=null,Ie=!1},t.isValidAttribute=function(e,t,n){nt||it({});var r=tt(e),o=tt(t);return _t(r,o,n)},t.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],h(de[e],t))},t.removeHook=function(e){de[e]&&p(de[e])},t.removeHooks=function(e){de[e]&&(de[e]=[])},t.removeAllHooks=function(){de={}},t}return $()}()},495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const r={keyCodesMac:{Minus:["-","_"],Equal:["=","+"],BracketLeft:["[","{"],BracketRight:["]","}"],Backslash:["\\","|"],Semicolon:[";",":"],Quote:["'",'"'],Comma:[",","<"],Period:[".",">"],Slash:["/","?"]},keyCodes:{ESC:27,backspace:8,deleteKey:46,enter:13,ctrlEnter:10,space:32,shiftKey:16,ctrlKey:17,f1:112,f12:123,comma:188,tab:9,downArrow:40,upArrow:38},modifierKeys:{16:"Shift",17:"Ctrl",18:"Alt",91:"Meta",92:"Meta",93:"ContextMenu",229:"Process"},keyNames:{8:"Backspace",9:"Tab",12:"NumLock",27:"Esc",32:"Space",46:"Delete"},keyIdentifierCorrectionMap:{"U+00C0":["U+0060","U+007E"],"U+0030":["U+0030","U+0029"],"U+0031":["U+0031","U+0021"],"U+0032":["U+0032","U+0040"],"U+0033":["U+0033","U+0023"],"U+0034":["U+0034","U+0024"],"U+0035":["U+0035","U+0025"],"U+0036":["U+0036","U+005E"],"U+0037":["U+0037","U+0026"],"U+0038":["U+0038","U+002A"],"U+0039":["U+0039","U+0028"],"U+00BD":["U+002D","U+005F"],"U+00BB":["U+003D","U+002B"],"U+00DB":["U+005B","U+007B"],"U+00DD":["U+005D","U+007D"],"U+00DC":["U+005C","U+007C"],"U+00BA":["U+003B","U+003A"],"U+00DE":["U+0027","U+0022"],"U+00BC":["U+002C","U+003C"],"U+00BE":["U+002E","U+003E"],"U+00BF":["U+002F","U+003F"]}};var o="Windows";function i(e,t){var n,o=0;return-1!==e.indexOf("Ctrl-")&&(o|=1),-1!==e.indexOf("Alt-")&&(o|=2),-1!==e.indexOf("Meta-")&&(o|=4),-1!==e.indexOf("Shift-")&&(o|=8),n=8192+((n=t.length>1?256+r.specialKeys.indexOf(t):t.charCodeAt(0))<<4)+o,String.fromCharCode(n)}"undefined"!=typeof navigator&&(-1!==navigator.platform.indexOf("Mac")?o="Mac":-1!==navigator.userAgent.indexOf("Linux")&&(o="Linux")),r.getKeyChar=function(e){var t;if(e.keyCode in this.modifierKeys)t="";else{if(this.keyNames.hasOwnProperty(e.keyCode))t="{0}".format(this.keyNames[e.keyCode]);else if(t=e.key||"",-1!==["Shift","Meta","Alt","Ctrl"].indexOf(t)&&(t=""),t)t.charCodeAt(0)>127||"Dead"===t?e.keyCode<127?(t=String.fromCharCode(e.keyCode),t=e.shiftKey?t:t.toLowerCase()):this.keyCodesMac.hasOwnProperty(e.code)&&(t=this.keyCodesMac[e.code][e.shiftKey?1:0]):"Unidentified"===t&&(t="");else if(e.keyIdentifier)if("U+"!==e.keyIdentifier.slice(0,2))t="{0}".format(e.keyIdentifier);else{var n=e.keyIdentifier;if(("Windows"===o||"Linux"===o)&&this.keyIdentifierCorrectionMap[n]){var i=this.keyIdentifierCorrectionMap[n];n=e.shiftKey?i[1]:i[0]}var a="0x"+n.substring(2);t=String.fromCharCode(parseInt(a)),t=e.shiftKey?t:t.toLowerCase()}e.shiftKey&&t.length>1&&(t="Shift-"+t),t.length>0&&(e.metaKey&&(t="Meta-"+t),e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t)),t.length>1&&(t="<{0}>".format(t))}return r.decodeKeystroke(r.encodeKeystroke(t))===t&&(t=r.encodeKeystroke(t)),t},r.isWordChar=function(e){return e.keyCode<123&&e.keyCode>=97||e.keyCode<91&&e.keyCode>=65||e.keyCode<58&&e.keyCode>=48},r.encodeKeystroke=function(e){for(var t,n=/<(?:Ctrl-)?(?:Alt-)?(?:Meta-)?(?:Shift-)?([^>]+|.)>/g,r="",o=0;null!==(t=n.exec(e));)r+=e.substr(o,t.index-o),r+=i(t[0],t[1]),o=n.lastIndex;return r+=e.substr(o)},r.specialKeys=["Esc","Space","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Backspace","Enter","Tab","Delete","End","Home","Insert","NumLock","PageDown","PageUp","Pause","ScrollLock","CapsLock","PrintScreen","Escape","Hyper"],r.decodeKeystroke=function(e){for(var t="",n=0;n<e.length;n++){var o=e[n].charCodeAt(0);if(o>8192){var i=(o-=8192)%4096>>4,a=15&o;o=o>>12?r.specialKeys[i%256]:String.fromCharCode(i),8&a&&(o="Shift-"+o),4&a&&(o="Meta-"+o),2&a&&(o="Alt-"+o),1&a&&(o="Ctrl-"+o),t+="<"+o+">"}else t+=e[n]}return t};const a=r},580:(e,t,n)=>{"use strict";function r(e,t){document.dispatchEvent(new CustomEvent(`surfingkeys:${e}`,{detail:t}))}function o(e,t,n){(t=t||{}).action=e,-1!==["closeTab","nextTab","previousTab","moveTab","reloadTab","setZoom","closeTabLeft","closeTabRight","focusTabByIndex"].indexOf(e)&&(t.repeats=o.repeats,o.repeats=1);try{t.needResponse=void 0!==n,chrome.runtime.sendMessage(t,n),"read"===e&&i.on("onTtsEvent",n)}catch(e){r("showPopup",["[runtime exception] "+e])}}n.d(t,{_P:()=>o,VX:()=>r,GZ:()=>i});var i=function(){var e={conf:{autoSpeakOnInlineQuery:!1,lastKeys:"",blocklistPattern:void 0,smartCase:!0,caseSensitive:!1,clickablePat:/(https?:\/\/|thunder:\/\/|magnet:)\S+/gi,clickableSelector:"",editableSelector:"div.CodeMirror-scroll,div.ace_content",cursorAtEndOfInput:!0,defaultSearchEngine:"g",defaultVoice:"Daniel",editableBodyCare:!0,enableAutoFocus:!0,enableEmojiInsertion:!1,experiment:!1,focusFirstCandidate:!1,focusOnSaved:!0,hintAlign:"center",hintExplicit:!1,hintShiftNonActive:!1,historyMUOrder:!0,language:void 0,lastQuery:"",modeAfterYank:"",nextLinkRegex:/(\b(next)\b)|下页|下一页|后页|下頁|下一頁|後頁|>>|»/i,digitForRepeat:!0,omnibarMaxResults:10,omnibarHistoryCacheSize:100,omnibarPosition:"middle",omnibarSuggestion:!0,omnibarSuggestionTimeout:200,omnibarTabsQuery:{},pageUrlRegex:[],prevLinkRegex:/(\b(prev|previous)\b)|上页|上一页|前页|上頁|上一頁|前頁|<<|«/i,richHintsForKeystroke:1e3,scrollStepSize:70,showModeStatus:!1,showProxyInStatusBar:!1,smartPageBoundary:!1,smoothScroll:!0,startToShowEmoji:2,stealFocusOnLoad:!0,tabsThreshold:9,textAnchorPat:/(^[\n\r\s]*\S{3,}|\b\S{4,})/g,ignoredFrameHosts:["https://tpc.googlesyndication.com"],scrollFriction:0,aceKeybindings:"vim",caretViewport:null,mouseSelectToQuery:[],useNeovim:!1,useLocalMarkdownAPI:!0}},t={},n=new Promise((function(e,t){window===top?e(window.location.href):o("getTopURL",null,(function(t){e(t.url)}))}));return e.on=function(e,n){t[e]=n},e.updateHistory=function(e,t){var n=e+"History";o("getSettings",{key:n},(function(e){var r=e.settings[n]||[],i={};"Array"===t.constructor.name?(i[n]=t,o("updateSettings",{settings:i})):t.trim().length&&"."!==t&&((r=r.filter((function(e){return e.trim().length&&e!==t&&"."!==e}))).unshift(t),r.length>50&&r.pop(),i[n]=r,o("updateSettings",{settings:i}))}))},chrome.runtime.onMessage.addListener((function(e,n,r){t[e.subject]&&t[e.subject](e,n,r)})),e.getTopURL=function(e){n.then((function(t){e(t)}))},e.postTopMessage=function(e){n.then((function(t){window===top&&(t=window.location.origin),"null"!==t&&"file://"!==new URL(t).origin||(t="*"),top.postMessage({surfingkeys_data:e},t)}))},e.getCaseSensitive=function(t){return e.conf.caseSensitive||e.conf.smartCase&&/[A-Z]/.test(t)},e}()},654:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{sY:()=>LOG,Sn:()=>actionWithSelectionPreserved,Ge:()=>constructSearchURL,hm:()=>createElementWithContent,vA:()=>dispatchMouseEvent,CU:()=>filterAncestors,w0:()=>filterByTitleOrUrl,Ns:()=>filterInvisibleElements,DN:()=>filterOverlapElements,uE:()=>flashPressedLink,Dv:()=>generateQuickGuid,fy:()=>getAnnotations,g_:()=>getBrowserName,kE:()=>getClickableElements,iw:()=>getRealEdit,sS:()=>getRealRect,t_:()=>getTextNodePos,kd:()=>getTextNodes,YX:()=>getTextRect,n_:()=>getVisibleElements,lI:()=>getWordUnderCursor,Ak:()=>htmlEncode,n8:()=>initL10n,Ru:()=>insertJS,jK:()=>isEditable,yT:()=>isElementClickable,w1:()=>isElementPartiallyInViewport,c:()=>isInUIFrame,wn:()=>listElements,t6:()=>mapInMode,Qe:()=>parseAnnotation,$8:()=>regexFromString,x0:()=>reportIssue,n5:()=>scrollIntoViewIfNeeded,gV:()=>setSanitizedContent,mU:()=>showBanner,U:()=>showPopup,qF:()=>tabOpenLink,zQ:()=>timeStampString,ph:()=>toggleQuote});var dompurify__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(234),dompurify__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__),_keyboardUtils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(495),_runtime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(580);function getBrowserName(){if(-1!==window.navigator.userAgent.indexOf("Chrome"))return"Chrome";if(0===window.navigator.vendor.indexOf("Apple Computer, Inc.")){return/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?"Safari-iOS":"Safari"}return-1!==window.navigator.userAgent.indexOf("Firefox")?"Firefox":"Chrome"}function isInUIFrame(){return 0===document.location.href.indexOf(chrome.extension.getURL("/"))}function timeStampString(e){var t=new Date;return t.setTime(e),t.toLocaleString()}function getDocumentOrigin(){var e=window.location.origin?window.location.origin:"*";return"file://"!==e&&"null"!==e||(e="*"),e}function generateQuickGuid(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function listElements(e,t,n){const r=[];let o;const i=document.createNodeIterator(e,t,null);for(;o=i.nextNode();)n(o)&&r.push(o),o.shadowRoot&&r.push(...listElements(o.shadowRoot,t,n));return r}function isElementVisible(e){return e.offsetHeight>0&&e.offsetWidth>0}function isElementClickable(e){var t="a, button, select, input, textarea, summary, *[onclick], *[contenteditable=true], *.jfk-button, *.goog-flat-menu-button, *[role=button], *[role=link], *[role=menuitem], *[role=option], *[role=switch], *[role=tab], *[role=checkbox], *[role=combobox], *[role=menuitemcheckbox], *[role=menuitemradio]";return _runtime_js__WEBPACK_IMPORTED_MODULE_2__.GZ.conf.clickableSelector.length&&(t+=", "+_runtime_js__WEBPACK_IMPORTED_MODULE_2__.GZ.conf.clickableSelector),e.matches(t)||"pointer"===getComputedStyle(e).cursor||"url("===getComputedStyle(e).cursor.substr(0,4)||null!==e.closest("a, *[onclick], *[contenteditable=true], *.jfk-button, *.goog-flat-menu-button")}function showBanner(e,t){(0,_runtime_js__WEBPACK_IMPORTED_MODULE_2__.VX)("showBanner",[e,t])}function showPopup(e){(0,_runtime_js__WEBPACK_IMPORTED_MODULE_2__.VX)("showPopup",[e])}function dispatchMouseEvent(e,t,n){t.forEach((function(t){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,button:n?1:0});e.dispatchEvent(r)}))}function getRealEdit(e){for(var t=e?e.target:document.activeElement;t&&t.shadowRoot;){if(!t.shadowRoot.activeElement){if(t.shadowRoot.querySelector("input, textarea, select")){t=t.shadowRoot.querySelector("input, textarea, select");break}break}t=t.shadowRoot.activeElement}return t===window&&(t=document.body),t}function toggleQuote(){var e=getRealEdit(),t=e.value;t.match(/^"|"$/)?e.value=t.replace(/^"?(.*?)"?$/,"$1"):e.value='"'+t+'"'}function LOG(e,t){chrome.storage.local.get(["logLevels"],(n=>{const r=n&&n.logLevels||["error"];-1!==["log","warn","error"].indexOf(e)&&-1!==r.indexOf(e)&&console[e](t)}))}function isEditable(e){return e&&!e.disabled&&("textarea"===e.localName||"select"===e.localName||e.isContentEditable||e.matches(_runtime_js__WEBPACK_IMPORTED_MODULE_2__.GZ.conf.editableSelector)||"input"===e.localName&&/^(?!button|checkbox|file|hidden|image|radio|reset|submit)/i.test(e.type))}function parseQueryString(e){var t={};if(e.length)for(var n=e.split("&"),r=0,o=n.length;r<o;++r){var i=n[r].split("="),a=i[0].toLowerCase(),u=i.length>1?i[1]:null;t[decodeURIComponent(a)]=decodeURIComponent(u)}return t}function reportIssue(e,t){e=encodeURIComponent(e),t="%23%23+Error+details%0A%0A{0}%0A%0ASurfingKeys%3A+{1}%0A%0AChrome%3A+{2}%0A%0AURL%3A+{3}%0A%0A%23%23+Context%0A%0A%2A%2APlease+replace+this+with+a+description+of+how+you+were+using+SurfingKeys.%2A%2A".format(encodeURIComponent(t),chrome.runtime.getManifest().version,encodeURIComponent(navigator.userAgent),encodeURIComponent(window.location.href)),showPopup('<h2>Uh-oh! The SurfingKeys extension encountered a bug.</h2> <p>Please click <a href="https://github.com/brookhong/Surfingkeys/issues/new?title={0}&body={1}" target=_blank>here</a> to start filing a new issue, append a description of how you were using SurfingKeys before this message appeared, then submit it.  Thanks for your help!</p>'.format(e,t))}function scrollIntoViewIfNeeded(e,t){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():isElementPartiallyInViewport(e,t)||e.scrollIntoView()}function isElementDrawn(e,t){var n=isEditable(e)?1:4;return(t=t||e.getBoundingClientRect()).width>n&&t.height>n}function isElementPartiallyInViewport(e,t){var n=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;return(t||isElementDrawn(e,n))&&n.top<r&&n.bottom>0&&n.left<o&&n.right>0}function getVisibleElements(e){for(var t=Array.from(document.documentElement.getElementsByTagName("*")),n=[],r=0;r<t.length;r++){var o=t[r];if(o.shadowRoot)for(var i=o.shadowRoot.querySelectorAll("*"),a=0;a<i.length;a++)t.push(i[a]);var u=o.getBoundingClientRect();u.top<=window.innerHeight&&u.bottom>=0&&u.left<=window.innerWidth&&u.right>=0&&u.height>0&&"hidden"!==getComputedStyle(o).visibility&&e(o,n)}return n}function actionWithSelectionPreserved(e){var t=document.getSelection(),n=[t.type,t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset],r=document.scrollingElement.scrollTop;e(t),document.scrollingElement.scrollTop=r,"None"===n[0]?t.empty():"Caret"===n[0]?t.setPosition(n[3],n[4]):"Range"===n[0]&&(t.setPosition(n[1],n[2]),t.extend(n[3],n[4]))}function last(e){return e[e.length-1]}function filterAncestors(e){if(0===e.length)return e;var t=[];return e.forEach((function(e,n){if(isExplicitlyRequested(e))t.push(e);else{for(var r=0;r<t.length;r++){if(t[r].contains(e))return void("A"===t[r].tagName&&t[r].href||(t[r]=e));if(t[r].shadowRoot&&t[r].shadowRoot.contains(e))return;if(e.contains(t[r]))return void console.log("skip: ",e,t[r])}t.push(e)}})),t}function getRealRect(e){var t;return 0===e.childElementCount?3===(t=e.getClientRects()).length?t[1]:2===t.length?t[0]:e.getBoundingClientRect():1===e.childElementCount&&e.firstElementChild.textContent?(((t=e.firstElementChild.getBoundingClientRect()).width<4||t.height<4)&&(t=e.getBoundingClientRect()),t):e.getBoundingClientRect()}function isExplicitlyRequested(e){return _runtime_js__WEBPACK_IMPORTED_MODULE_2__.GZ.conf.clickableSelector&&e.matches(_runtime_js__WEBPACK_IMPORTED_MODULE_2__.GZ.conf.clickableSelector)}function filterOverlapElements(e){return filterAncestors(e=e.filter((function(e){var t=getRealRect(e);if(e.disabled||e.readOnly||!isElementDrawn(e,t))return!1;if(e.matches("input, textarea, select, form")||"true"===e.contentEditable||isExplicitlyRequested(e))return!0;var n=e.getRootNode().elementFromPoint(t.left+t.width/2,t.top+t.height/2);return!n||n.shadowRoot&&(0===n.childElementCount||n.shadowRoot.contains(e))||n.contains(e)||e.contains(n)})))}function getClickableElements(e,t){return filterOverlapElements(listElements(document.body,NodeFilter.SHOW_ELEMENT,(function(n){return n.offsetHeight&&n.offsetWidth&&"pointer"===getComputedStyle(n).cursor&&(n.matches(e)||t&&(t.test(n.textContent)||t.test(n.getAttribute("aria-label"))))})))}function getTextNodes(e,t,n){var r=["script","style","noscript","surfingkeys_mark"],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){if(!e.data.trim()||!e.parentNode.offsetParent||-1!==r.indexOf(e.parentNode.localName.toLowerCase())||!t.test(e.data))return t.lastIndex=0,NodeFilter.FILTER_REJECT;var n=e.parentNode.getBoundingClientRect();return n.width<4||n.height<4?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1),i=[];if(1===n)i.push(o.firstChild());else if(-1===n)i.push(o.lastChild());else{if(0===n)return o;if(2===n)for(;o.nextNode();)i.push(o.currentNode.parentNode);else for(;o.nextNode();)i.push(o.currentNode)}return i}function getTextNodePos(e,t,n){var r=document.getSelection();r.setBaseAndExtent(e,t,e,n?t+n:e.data.length);var o=r.getRangeAt(0).getClientRects()[0],i={left:-1,top:-1};return o&&o.height>0&&o.width>0&&(i.left=o.left,i.top=o.top,i.width=o.width,i.height=o.height),i}var _focusedRange=document.createRange();function getTextRect(){let e=[];try{let t=arguments[1];for(;0===e.length&&t>=0;)_focusedRange.setStart(arguments[0],t),arguments.length>3?_focusedRange.setEnd(arguments[2],arguments[3]):arguments.length>2?_focusedRange.setEnd(arguments[0],arguments[2]):_focusedRange.setEnd(arguments[0],arguments[1]),e=_focusedRange.getClientRects(),t--}catch(e){return[]}return e}function getNearestWord(e,t){var n=[0,e.length],r=/\W/;t<0?t=0:t>=e.length&&(t=e.length-1);var o=!0;if(r.test(e[t])){var i=0;for(o=!1;!o&&(t>i||t+i<e.length);)o=t-++i>=0&&!r.test(e[t-i])||t+i<e.length&&!r.test(e[t+i]);t=t-i>=0&&!r.test(e[t-i])?t-i:t+i}if(o){for(var a=t,u=t;a>=0&&!r.test(e[a]);)a--;for(;u<e.length&&!r.test(e[u]);)u++;n=[a+1,u-a-1]}return n}var _clickPos=null;function getWordUnderCursor(e){var t=document.getSelection();if(t.focusNode&&t.focusNode.textContent){var n=getNearestWord(t.focusNode.textContent,t.focusOffset),r=getTextRect(t.focusNode,n[0],n[0]+n[1])[0],o=t.focusNode.textContent.substr(n[0],n[1]);if(r&&o&&(!e||_clickPos&&r.has(_clickPos[0],_clickPos[1],0,0)))return o.trim()}return null}function initL10n(e){var t=_runtime_js__WEBPACK_IMPORTED_MODULE_2__.GZ.conf.language||window.navigator.language;"en-US"===t?e((function(e){return e})):fetch(chrome.extension.getURL("pages/l10n.json")).then((function(e){return e.json()})).then((function(n){"object"==typeof n[t]?(n=n[t],e((function(e){return n[e]?n[e]:e}))):e((function(e){return e}))}))}function parseAnnotation(e){var t=e.annotation.match(/#(\d+)(.*)/);return null!==t&&(e.feature_group=parseInt(t[1]),e.annotation=t[2]),e}function mapInMode(e,t,n){n=_keyboardUtils__WEBPACK_IMPORTED_MODULE_1__.Z.encodeKeystroke(n);var r=e.mappings.find(n);if(r){t=_keyboardUtils__WEBPACK_IMPORTED_MODULE_1__.Z.encodeKeystroke(t),e.mappings.remove(t);var o=Object.assign({},r.meta);e.mappings.add(t,o),isInUIFrame()||(0,_runtime_js__WEBPACK_IMPORTED_MODULE_2__.VX)("addMapkey",[e.name,t,n])}return r}function getAnnotations(e){return e.getWords().map((function(t){var n=e.find(t).meta;return{word:t,feature_group:n.feature_group,annotation:n.annotation}})).filter((function(e){return e.annotation&&e.annotation.length>0}))}function constructSearchURL(e,t){return e.indexOf("{0}")>0?e.format(t):e+t}function tabOpenLink(e,t){var n;t=t||5,(n=(n="Array"===e.constructor.name?e:e instanceof NodeList?Array.from(e).map((function(e){return e.href})):e.trim().split("\n")).map((function(e){return e.trim()})).filter((function(e){return e.length>0}))).slice(0,t).forEach((function(e){(0,_runtime_js__WEBPACK_IMPORTED_MODULE_2__._P)("openLink",{tab:{tabbed:!0},url:e})})),n.length>t&&(0,_runtime_js__WEBPACK_IMPORTED_MODULE_2__._P)("queueURLs",{urls:n.slice(t)})}function getElements(e){return listElements(document.body,NodeFilter.SHOW_ELEMENT,(function(t){return t.offsetHeight&&t.offsetWidth&&t.matches(e)}))}function filterInvisibleElements(e){return e.filter((function(e){return e.offsetHeight&&e.offsetWidth&&!e.getAttribute("disabled")&&isElementPartiallyInViewport(e)&&"hidden"!==getComputedStyle(e).visibility}))}function setSanitizedContent(e,t){e.innerHTML=dompurify__WEBPACK_IMPORTED_MODULE_0__.sanitize(t)}function createElementWithContent(e,t,n){var r=document.createElement(e);if(t&&setSanitizedContent(r,t),n)for(var o in n)r.setAttribute(o,n[o]);return r}document.addEventListener("mousedown",(e=>{_clickPos=[e.clientX,e.clientY]})),DOMRect.prototype.has=function(e,t,n,r){return t>this.top-r&&t<this.bottom+r&&e>this.left-n&&e<this.right+n},String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var n=new RegExp("\\{"+t+"\\}","gi");e=e.replace(n,arguments[t])}return e},String.prototype.reverse=function(){return this.split("").reverse().join("")},RegExp.prototype.toJSON=function(){return{source:this.source,flags:this.flags}},Array.prototype.flatMap||(Array.prototype.flatMap=function(e){return Array.prototype.concat.apply([],this.map(e))});var _divForHtmlEncoder=document.createElement("div");function htmlEncode(e){return _divForHtmlEncoder.innerText=e,_divForHtmlEncoder.innerHTML}function httpRequest(e,t){e.method="get",(0,_runtime_js__WEBPACK_IMPORTED_MODULE_2__._P)("request",e,t)}function insertJS(e,t){var n=document.createElement("script");n.type="text/javascript","function"==typeof e?(setSanitizedContent(n,"("+e.toString()+")(window);"),setTimeout((function(){t&&t(),n.remove()}),1)):(n.src=e,n.onload=function(){t&&t(),n.remove()}),document.lastElementChild.appendChild(n)}HTMLElement.prototype.one=function(e,t){this.addEventListener(e,(function n(){t.call(this),this.removeEventListener(e,n)}))},HTMLElement.prototype.show=function(){this.style.display=""},HTMLElement.prototype.hide=function(){this.style.display="none"},HTMLElement.prototype.removeAttributes=function(){for(;this.attributes.length>0;)this.removeAttribute(this.attributes[0].name)},HTMLElement.prototype.containsWithShadow=function(e){const t=[this];for(;t.length;){const n=t.shift();if(n.contains(e))return!0;if(t.push(...n.children),n.shadowRoot){if(n.shadowRoot.contains(e))return!0;t.push(...n.shadowRoot.children)}}return!1},NodeList.prototype.remove=function(){this.forEach((function(e){e.remove()}))},NodeList.prototype.show=function(){this.forEach((function(e){e.show()}))},NodeList.prototype.hide=function(){this.forEach((function(e){e.hide()}))};const flashElem=createElementWithContent("div","",{style:"position: fixed; box-shadow: 0px 0px 4px 2px #63b2ff; background: transparent; z-index: 2140000000"});function flashPressedLink(e,t){var n=getRealRect(e);flashElem.style.left=n.left+"px",flashElem.style.top=n.top+"px",flashElem.style.width=n.width+"px",flashElem.style.height=n.height+"px",document.body.appendChild(flashElem),setTimeout((()=>{flashElem.remove(),t()}),100)}function regexFromString(str,highlight){var rxp=null;if(/^\/.+\/([gimuy]*)$/.test(str))try{rxp=eval(str)}catch(e){rxp=null}if(!rxp&&(/^\/.+$/.test(str)&&(rxp=eval(str+"/i")),!rxp))if(str=str.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),highlight)rxp=new RegExp(str.replace(/\s+/,"|"),"gi");else{var words=str.split(/\s+/).map((function(e){return`(?=.*${e})`})).join("");rxp=new RegExp(`^${words}.*$`,"gi")}return rxp}function filterByTitleOrUrl(e,t){if(t&&t.length){var n=regexFromString(t,!1);e=e.filter((function(e){return n.test(e.title)||n.test(e.url)}))}return e}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";const e="function"==typeof btoa,t="function"==typeof Buffer,n=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),r=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),o=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(r),String.fromCharCode.bind(String)),i=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),a=e=>{let t,n,o,i,a="";const u=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(o=e.charCodeAt(u++))>255||(i=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|o<<8|i,a+=r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}return u?a.slice(0,u-3)+"===".substring(u):a},u=e?e=>btoa(e):t?e=>Buffer.from(e,"binary").toString("base64"):a,s=t?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(o.apply(null,e.subarray(n,n+4096)));return u(t.join(""))},l=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return o(240|t>>>18&7)+o(128|t>>>12&63)+o(128|t>>>6&63)+o(128|63&t)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=e=>e.replace(c,l),d=t?e=>Buffer.from(e,"utf8").toString("base64"):n?e=>s(n.encode(e)):e=>u(f(e)),p=(e,t=!1)=>t?i(d(e)):d(e);var h=__webpack_require__(654);function g(){arguments.length>0&&(this.stem=arguments[0]),arguments.length>1&&(this.meta=arguments[1])}g.prototype={find:function(e){for(var t=this,n=e.length,r=0;r<n&&t;r++)t=t[e[r]];return t},add:function(e,t){for(var n=this,r=e.length,o=0;o<r;o++){var i=e[o];if(n.hasOwnProperty(i))n=n[i];else{var a=new g(i);n[i]=a,n=a}}t.word=e,n.meta=t},remove:function(e){for(var t=this,n=e.length,r=[],o=0;o<n&&t;o++)r.push(t),t=t[e[o]];if(t){var i=r[o=r.length-1];delete i[t.stem];for(var a=i;a!==this&&1===Object.keys(a).length;)delete(i=r[--o])[a.stem],a=i}return t},getWords:function(e,t){var n=[];e=(e||"")+(t?"":this.stem||"");for(var r in this.hasOwnProperty("meta")&&n.push(e),this)1===r.length&&(n=n.concat(this[r].getWords(e)));return n},getMetas:function(e){var t=[];for(var n in this.hasOwnProperty("meta")&&e(this.meta)&&t.push(this.meta),this)1===n.length&&(t=t.concat(this[n].getMetas(e)));return t},getPrefixWord:function(){if(0===Object.keys(this).length)return"";for(var e="",t=this.stem,n=this;""===e;)for(var r=Object.keys(n),o=0;o<r.length;o++){if("meta"===r[o]){e=n.meta.word;break}if("stem"!==r[o]){t+=r[o],n=n[r[o]];break}}return e.substr(0,e.length-t.length+1)}};const m=g;var v=__webpack_require__(580),y=__webpack_require__(495);const _=function(e,t){this.name=e,this.statusLine=t,this.eventListeners={},this.addEventListener=function(e,t){return this.eventListeners[e]=t,C.hasOwnProperty(e)||(C[e]=function(t){E(e,t)},window.addEventListener(e,C[e],!0)),this},this.enter=function(e,t){var n=w.indexOf(this);if(this.priority||(this.priority=e||w.length),-1===n)w.unshift(this);else if(n>0)if(t)w=w.slice(n);else{var r=w.map((function(e){return e.name})).join(",");(0,h.x0)("Mode {0} pushed into mode stack again.".format(this.name),"Modes in stack: {0}".format(r))}return w.sort((function(e,t){return e.priority<t.priority?1:t.priority<e.priority?-1:0})),this.onEnter&&this.onEnter(),_.showStatus(),n},this.exit=function(e){var t=w.indexOf(this);if(-1!==t)if(this.priority=0,e)w.splice(t,1);else{t++;w.slice(0,t);w=w.slice(t)}_.showStatus(),this.onExit&&this.onExit(t)}};var w=[];_.specialKeys={"<Alt-s>":["<Alt-s>"],"<Esc>":["<Esc>"]},_.isSpecialKeyOf=function(e,t){return-1!==_.specialKeys[e].indexOf(y.Z.decodeKeystroke(t))};var b=[];function k(e,t){t.sk_stopPropagation&&(t.stopImmediatePropagation(),t.preventDefault())}function E(e,t,n){for(var r=0;r<w.length&&!t.sk_stopPropagation;r++){var o=w[r];if(!t.sk_suppressed&&o.eventListeners.hasOwnProperty(e))(0,o.eventListeners[e])(t),k(0,t);if("Disabled"===o.name)break;n&&n(o)}}_.suppressKeyUp=function(e){-1===b.indexOf(e)&&b.push(e)};let S=0;var x=0,C={sentinel:e=>{S++},keydown:function(e){e.sk_keyName=y.Z.getKeyChar(e),E("keydown",e)},keyup:function(e){E("keyup",e,(function(t){var n=b.indexOf(e.keyCode);-1!==n&&(e.stopImmediatePropagation(),b.splice(n,1))}))},scroll:function(e){x>0&&(e.stopImmediatePropagation(),e.preventDefault(),x--)}};function T(e){for(var t in w=[],C)window.addEventListener(t,C[t],!0);e&&e()}_.hasScroll=function(e,t,n){var r="y"===t?["scrollTop","height"]:["scrollLeft","width"],o=e[r[0]];if(o<n){var i=e[r[0]];e[r[0]]=e.getBoundingClientRect()[r[1]],(o=e[r[0]])!==i&&x++,e[r[0]]=i}return o>=n},_.getScrollableElements=function(){var e=(0,h.wn)(document.body,NodeFilter.SHOW_ELEMENT,(function(e){return _.hasScroll(e,"y",16)&&e.scrollHeight>200||_.hasScroll(e,"x",16)&&e.scrollWidth>200}));return e.sort((function(e,t){return t.contains(e)?1:e.contains(t)?-1:t.scrollHeight*t.scrollWidth-e.scrollHeight*e.scrollWidth})),document.scrollingElement&&(document.scrollingElement.scrollHeight>window.innerHeight||document.scrollingElement.scrollWidth>window.innerWidth)&&e.unshift(document.scrollingElement),e},_.init=e=>{"about:blank"!==window.location.href||!window.frameElement||document.body&&0!==document.body.childElementCount?T(e):window.frameElement.addEventListener("load",(function(t){try{T(e)}catch(e){console.log("Error on blank iframe loaded: "+e)}}))},_.showStatus=function(){if(document.hasFocus()&&w.length){var e=w[0],t=e.statusLine;if(void 0===t&&(t=v.GZ.conf.showModeStatus?e.name:""),""!==t&&window!==top&&!(0,h.c)()){var n=window.location.pathname.split("/");n.length&&(t+=" - frame: "+n[n.length-1])}(0,v.VX)("showStatus",[0,t])}},_.finish=function(e){var t=!1;return(e.map_node!==e.mappings||null!=e.pendingMap||e.repeats)&&(e.map_node=e.mappings,e.pendingMap=null,e.isTrustedEvent&&(0,v.VX)("hideKeystroke"),e.repeats&&(e.repeats=""),t=!0),t},_.handleMapKey=function(e,t){var n=e.sk_keyName;this.isTrustedEvent=this.__trust_all_events__||e.isTrusted;var r=_.isSpecialKeyOf("<Esc>",n);r&&(n=y.Z.encodeKeystroke("<Esc>"));var o=!1;if(r&&_.finish(this))e.sk_stopPropagation=!0,e.sk_suppressed=!0,o=!0;else if(this.pendingMap){this.setLastKeys&&this.setLastKeys(this.map_node.meta.word+n);var i=this.pendingMap.bind(this);e.sk_stopPropagation=!this.map_node.meta.stopPropagation||this.map_node.meta.stopPropagation(n),i(n),o=_.finish(this)}else if(void 0!==this.repeats&&this.map_node===this.mappings&&v.GZ.conf.digitForRepeat&&(n>="1"||""!==this.repeats&&n>="0")&&n<="9"&&this.map_node.getWords().length>0)this.repeats+=n,this.isTrustedEvent&&(0,v.VX)("showKeystroke",[n,this]),e.sk_stopPropagation=!0;else{var a=this.map_node;if(this.map_node=this.map_node.find(n),this.map_node)if(this.map_node.meta){var u=this.map_node.meta.code;if(u.length)this.pendingMap=u,this.isTrustedEvent&&(0,v.VX)("showKeystroke",[n,this]),e.sk_stopPropagation=!0;else{for(this.setLastKeys&&this.setLastKeys(this.map_node.meta.word),v._P.repeats=parseInt(this.repeats)||1,e.sk_stopPropagation=!this.map_node.meta.stopPropagation||this.map_node.meta.stopPropagation(n);v._P.repeats>0;)u(),v._P.repeats--;o=_.finish(this)}}else this.isTrustedEvent&&(0,v.VX)("showKeystroke",[n,this]),e.sk_stopPropagation=!0;else t&&t(a),e.sk_suppressed=a!==this.mappings,o=_.finish(this)}return o},_.checkEventListener=e=>{const t=S;window.dispatchEvent(new CustomEvent("sentinel")),t===S&&(T(),e())};const O=_;const A=function(){var e={},t=document.createElement("textarea");function n(e){(0,h.Sn)((function(n){document.documentElement.appendChild(t),e(n),t.remove()}))}return t.contentEditable=!0,t.enableAutoFocus=!0,t.id="sk_clipboard",e.read=function(e){if((0,h.g_)().startsWith("Safari"))(0,v._P)("readClipboard",null,(function(t){e(t)}));else if("Firefox"!==(0,h.g_)()||"object"!=typeof navigator.clipboard||"function"!=typeof navigator.clipboard.readText){n((function(){t.value="",(0,h.gV)(t,""),t.focus(),document.execCommand("paste")}));var r=t.value;""===r&&(r=t.innerHTML.replace(/<br>/gi,"\n")),e({data:r})}else navigator.clipboard.readText().then((t=>{setTimeout((function(){e({data:t})}),0)}))},e.write=function(e){const r=()=>{(0,h.mU)("Copied: "+e)};"Chrome"===(0,h.g_)()?(0,h.Ru)((function(){window.oncopy=document.oncopy,document.oncopy=null}),(function(){n((function(){t.value=e,t.select(),document.execCommand("copy"),t.value=""})),(0,h.Ru)((function(){document.oncopy=window.oncopy,delete window.oncopy})),r()})):((0,v._P)("writeClipboard",{text:e}),r())},e};const R=function(){var e=new O("Insert");function t(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange)try{e.setSelectionRange(e.value.length,e.value.length)}catch(e){if(!(e instanceof DOMException&&"InvalidStateError"===e.name))throw e}else if((0,h.jK)(e)&&e.childNodes.length>0){var t=e.childNodes[e.childNodes.length-1];t.nodeType===Node.TEXT_NODE?document.getSelection().setPosition(t,t.data.length):document.getSelection().setPosition(t,t.childNodes.length),Visual.showCursor(),Visual.hideCursor()}}e.mappings=new m,e.map_node=e.mappings,e.mappings.add(y.Z.encodeKeystroke("<Ctrl-e>"),{annotation:"Move the cursor to the end of the line",feature_group:15,code:t}),e.mappings.add(y.Z.encodeKeystroke("<Ctrl-f>"),{annotation:"Move the cursor to the beginning of the line",feature_group:15,code:function(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange)e.setSelectionRange(0,0);else{var t=document.getSelection();t.setPosition(t.focusNode,0),Visual.showCursor(),Visual.hideCursor()}}}),e.mappings.add(y.Z.encodeKeystroke("<Ctrl-u>"),{annotation:"Delete all entered characters before the cursor",feature_group:15,code:function(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange)e.value=e.value.substr(e.selectionStart),e.setSelectionRange(0,0);else{var t=document.getSelection();t.focusNode.data=t.focusNode.data.substr(t.focusOffset)}}}),e.mappings.add(y.Z.encodeKeystroke("<Alt-b>"),{annotation:"Move the cursor Backward 1 word",feature_group:15,code:function(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange){var t=s(e.value,-1,e.selectionStart);e.setSelectionRange(t,t)}else document.getSelection().modify("move","backward","word")}}),e.mappings.add(y.Z.encodeKeystroke("<Alt-f>"),{annotation:"Move the cursor Forward 1 word",feature_group:15,code:function(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange){var t=s(e.value,1,e.selectionStart);e.setSelectionRange(t,t)}else document.getSelection().modify("move","forward","word")}}),e.mappings.add(y.Z.encodeKeystroke("<Alt-w>"),{annotation:"Delete a word backwards",feature_group:15,code:function(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange){var t=l(e.value,-1,e.selectionStart);e.value=t[0],e.setSelectionRange(t[1],t[1])}else{var n=document.getSelection(),r=n.focusOffset;document.getSelection().modify("move","backward","word");var o=n.focusNode.data,i=n.focusOffset;n.focusNode.data=o.substr(0,i)+o.substr(r),n.setPosition(n.focusNode,i)}}}),e.mappings.add(y.Z.encodeKeystroke("<Alt-d>"),{annotation:"Delete a word forwards",feature_group:15,code:function(){var e=(0,h.iw)();if(void 0!==e.setSelectionRange){var t=l(e.value,1,e.selectionStart);e.value=t[0],e.setSelectionRange(t[1],t[1])}else{var n=document.getSelection(),r=n.focusOffset;document.getSelection().modify("move","forward","word");var o=n.focusNode.data,i=n.focusOffset;n.focusNode.data=o.substr(0,r)+o.substr(i),n.setPosition(n.focusNode,r)}}}),e.mappings.add(y.Z.encodeKeystroke("<Esc>"),{annotation:"Exit insert mode",feature_group:15,stopPropagation:function(e){return e.charCodeAt(0)<256},code:function(){(0,h.iw)().blur(),e.exit()}});var n,r=(0,h.hm)("div","",{id:"sk_emoji",style:"display: block; opacity: 1;"}),o=-1;function i(){var e=(0,h.iw)(),t="",i=!0;if(void 0!==e.selectionStart&&void 0!==e.value)t=e.value.substr(o,e.selectionStart-o);else{i=!1;var a=document.getSelection();t=a.focusNode.data.substr(o,a.focusOffset-o)}if(t.length<v.GZ.conf.startToShowEmoji||" "===t[0])r.remove();else{var u=n.filter((function(e){return-1!==e.indexOf(t)})).slice(0,5).map((function(e){var t=e.split("\t"),n=String.fromCodePoint.apply(null,t[0].split(","));return"<div><span>{0}</span>{1}</div>".format(n,t[1])})).join("");if(""===u)r.remove();else{var s;(0,h.gV)(r,u),document.body.append(r),r.style.display="",r.querySelector("#sk_emoji>div").classList.add("selected"),i?s=function(e){var t=getComputedStyle(e),n=e.getBoundingClientRect(),r=document.createElement("div"),o=document.createElement("span");r.style.font=t.font,r.style.position="fixed",(0,h.gV)(r,e.value),r.style.left=e.clientLeft+n.left+"px",r.style.top=e.clientTop+n.top+"px",r.style.color="red",r.style.overflow="scroll",r.style.visibility="hidden",r.style.whiteSpace="pre-wrap",r.style.padding=t.padding,r.style.width=t.width,r.style.height=t.height,o.innerText="I";var i=e.selectionStart;if(i===e.value.length)r.appendChild(o);else{var a=r.childNodes[0].splitText(i);r.insertBefore(o,a)}return document.body.appendChild(r),(0,h.n5)(o),n=o.getBoundingClientRect(),r.remove(),n}(e):(Visual.showCursor(),s=Visual.getCursorPixelPos(),Visual.hideCursor());var l=s.top+s.height+4;window.innerHeight-l<r.offsetHeight&&(l=s.top-r.offsetHeight),r.style.position="fixed",r.style.top=l+"px",r.style.left=s.left+"px"}}}document.addEventListener("surfingkeys:userSettingsLoaded",(function(t){v.GZ.conf.enableEmojiInsertion&&e.mappings.add(":",{annotation:"Input emoji",feature_group:15,stopPropagation:function(){return!1},code:function(){var e=(0,h.iw)();o=void 0!==e.selectionStart?e.selectionStart+1:document.getSelection().focusOffset+1,fetch(chrome.extension.getURL("pages/emoji.tsv")).then((e=>Promise.all([e.text()]))).then((e=>{n=e[0].split("\n"),i()}))}})}));var a,u=!1;function s(e,t,n){var r=/\W/;for(n=t>0?n:n+t;;){if(n<0){n=0;break}if(n>=e.length){n=e.length;break}if(r.test(e[n]))break;n+=t}return n}function l(e,t,n){var r=s(e,t,n);return[r>n?e.substr(0,n)+e.substr(r):r<n?e.substr(0,r)+e.substr(n):e.substr(0,r)+e.substr(r+1),t>0?n:r]}e.addEventListener("keydown",(function(t){if(t.key&&t.key.charCodeAt(0)>127)t.sk_suppressed=!0;else{var n,i,a,s,l=(0,h.iw)(t);if(r.offsetHeight>0){if(O.isSpecialKeyOf("<Esc>",t.sk_keyName))r.remove(),o=-1;else if(t.keyCode===y.Z.keyCodes.tab||t.keyCode===y.Z.keyCodes.upArrow||t.keyCode===y.Z.keyCodes.downArrow)n=t.shiftKey||t.keyCode===y.Z.keyCodes.upArrow,i=r.querySelector("#sk_emoji>div.selected"),a=Array.from(r.querySelectorAll("#sk_emoji>div")),s=(a.indexOf(i)+(n?-1:1))%a.length,i.classList.remove("selected"),a[s].classList.add("selected"),u=!0,t.sk_stopPropagation=!0;else if(t.keyCode===y.Z.keyCodes.enter){var c=r.querySelector("#sk_emoji>div.selected>span").innerHTML;if(void 0!==l.setSelectionRange){var f=l.value;l.value=f.substr(0,o-1)+c+f.substr(l.selectionStart),l.setSelectionRange(o,o)}else{var d=document.getSelection();f=d.focusNode.data;d.focusNode.data=f.substr(0,o-1)+c+f.substr(d.focusOffset),d.setPosition(d.focusNode,o)}r.remove(),o=-1,t.sk_stopPropagation=!0}}else(0,h.jK)(l)?t.sk_keyName.length&&O.handleMapKey.call(e,t,(function(e){var t=e.getPrefixWord();if(t){var n=(0,h.iw)(),r=n.value,o=n.selectionStart;if(void 0!==r&&void 0!==o)n.value=r.substr(0,n.selectionStart)+t+r.substr(n.selectionEnd),o+=t.length,n.setSelectionRange(o,o);else{var i=(n=document.getSelection()).getRangeAt(0),a=document.createTextNode(t);"Caret"===n.type?void 0===(r=n.focusNode.data)?(i.insertNode(a),n.setPosition(a,a.length)):(o=n.focusOffset,n.focusNode.data=r.substr(0,o)+t+r.substr(o),n.setPosition(n.focusNode,o+t.length)):(i.deleteContents(),i.insertNode(a),n.setPosition(a,a.length))}}})):e.exit();t.sk_suppressed=!0}})),e.addEventListener("keyup",(function(e){var t=(0,h.iw)(e);if(!u&&-1!==o){var n,a;if(void 0!==t.selectionStart&&void 0!==t.value)n=t.value,a=t.selectionStart;else{var s=document.getSelection();n=s.focusNode.data,a=s.focusOffset}a<o||":"!==n[o-1]?r.remove():i()}u=!1})),e.addEventListener("focus",(function(t){var n=(0,h.iw)(t);t.target==window||(0,h.jK)(n)?t.sk_suppressed=!0:e.exit()}));var c=e.enter;return e.enter=function(n,r){n===document.body&&(v.GZ.conf.showModeStatus=!1);var o=-1===c.call(e);a!==n&&(a=n,o=!0),o&&!r&&v.GZ.conf.cursorAtEndOfInput&&"SELECT"!==n.nodeName&&t()},e};const P=function(e){var t=new O("Normal");t.mappings=new m,t.map_node=t.mappings;var n=!1;t.passFocus=function(e){n=e};var r=!1;t.addEventListener("keydown",(function(n){var o=(0,h.iw)(n);if((0,h.jK)(o)&&n.isTrusted)if(O.isSpecialKeyOf("<Esc>",n.sk_keyName))o.blur(),e.exit();else if(v.GZ.conf.editableBodyCare&&o===document.body&&"i"!==n.key)t.statusLine="Press i to enter Insert mode",v.GZ.conf.showModeStatus=!0,n.sk_keyName.length&&O.handleMapKey.call(t,n);else{n.sk_stopPropagation=v.GZ.conf.editableBodyCare&&o===document.body&&"i"===n.key,n.sk_stopPropagation&&(t.passFocus(!0),o.focus());var i=!1;if(!(0,h.w1)(o)){for(var a=o;a!==document.documentElement&&!a.newlyCreated;)a=a.parentElement;i=a!==document.documentElement&&a.newlyCreated}i?(o.blur(),delete a.newlyCreated,O.handleMapKey.call(t,n)):e.enter(o,!0)}else if(O.isSpecialKeyOf("<Alt-s>",n.sk_keyName))t.toggleBlocklist(),O.finish(t),n.sk_stopPropagation=!0;else if(n.sk_keyName.length){var u=O.handleMapKey.call(t,n);r&&u&&(r=!1,t.exit())}n.sk_stopPropagation&&O.suppressKeyUp(n.keyCode)})),t.addEventListener("blur",(function(e){u=0})),t.addEventListener("focus",(function(e){if(O.showStatus(),v.GZ.conf.stealFocusOnLoad&&!(0,h.c)()){var t=(0,h.iw)(e);(0,h.jK)(t)&&(n||t.enableAutoFocus?v.GZ.conf.enableAutoFocus||(n=!1):(t.blur(),e.sk_stopPropagation=!0))}})),t.addEventListener("keyup",(function(e){setTimeout((function(){u=0}),0)})),t.addEventListener("mousedown",(function(n){v.GZ.conf.enableAutoFocus?t.passFocus(!0):t.passFocus(n.isTrusted);var r=(0,h.iw)(n);(0,h.jK)(r)?e.enter(r,!0):e.exit()})),t.toggleBlocklist=function(){0!==document.location.href.indexOf(chrome.extension.getURL("/"))?(0,v._P)("toggleBlocklist",{blocklistPattern:v.GZ.conf.blocklistPattern?v.GZ.conf.blocklistPattern.toJSON():""},(function(e){e.disabled?e.blocklist.hasOwnProperty(".*")?(0,h.mU)("Surfingkeys is globally disabled, please enable it globally from popup menu.",3e3):(0,h.mU)("Surfingkeys turned OFF for "+e.url,3e3):(0,h.mU)("Surfingkeys turned ON for "+e.url,3e3)})):(0,h.mU)("You could not toggle Surfingkeys on its own pages.",3e3)};const o=function(){var e,t,n=new O("PassThrough");return n.addEventListener("keydown",(function(r){r.sk_suppressed=!0,O.isSpecialKeyOf("<Esc>",r.sk_keyName)?(n.exit(),r.sk_stopPropagation=!0):t>0&&(e&&(clearTimeout(e),e=void 0),e=setTimeout((function(){n.exit()}),t))})).addEventListener("mousedown",(function(e){e.sk_suppressed=!0})),n.addEventListener("focus",(function(e){e.sk_suppressed=!0})),n.onEnter=function(){t>0?(e=setTimeout((function(){n.exit()}),t),n.statusLine=`ephemeral(${t}ms) pass through`):n.statusLine="pass through"},n.setTimeout=function(e){t=e},n}();t.passThrough=function(e){return o.setTimeout(e),o.enter(),o},t.once=()=>{r=!0,t.enter()},t.mappings.add(y.Z.encodeKeystroke("<Alt-i>"),{annotation:"Enter PassThrough mode to temporarily suppress SurfingKeys",feature_group:0,code:function(){t.passThrough()}}),t.mappings.add("p",{annotation:"Enter ephemeral PassThrough mode to temporarily suppress SurfingKeys",feature_group:0,code:function(){t.passThrough(1e3)}}),t.repeats="";var i,a,u=0,s=0,l=[];function c(){i&&0!==i.length||((i=O.getScrollableElements()).forEach((function(e){e.removeEventListener("mousedown",f),e.addEventListener("mousedown",f),e.dataset.hint_scrollable=!0})),s=0)}function f(e){if(e.currentTarget.contains(e.target)){for(var t=i.lastIndexOf(e.target),n=i.length-1;n>=0&&-1===t;n--)i[n]!==document.body&&i[n].contains(e.target)&&(t=n);-1!==t&&(s=t)}}function d(){(0,v._P)("localData",{data:{lastKeys:a}})}t.highlightElement=function(e){var t;t=document.scrollingElement===e?{top:0,left:0,width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect(),(0,v.VX)("highlightElement",{duration:200,rect:{top:t.top,left:t.left,width:t.width,height:t.height}})},t.scroll=function(e){c();var n=document.scrollingElement;if(i.length>0&&(n=i[s])!==document.scrollingElement&&n!==document.body){var r=n.getBoundingClientRect();0!==r.width&&0!==r.height&&(0,h.w1)(n)&&(O.hasScroll(n,"x",16)||O.hasScroll(n,"y",16))||(t.refreshScrollableElements(),n=i[s])}if(n){var o;n.skScrollBy||((o=n).skScrollBy=function(e,t){if(v.GZ.conf.smartPageBoundary&&(this===document.scrollingElement||1===i.length&&this===i[0])){if(0===this.scrollTop&&t<0)return(0,v.VX)("topBoundaryHit");if(this.scrollHeight-this.scrollTop<=this.clientHeight+1&&t>0)return(0,v.VX)("bottomBoundaryHit")}if(v._P.repeats>1&&(e=v._P.repeats*e,t=v._P.repeats*t,v._P.repeats=0),v.GZ.conf.smoothScroll){var n=Math.max(100,20*Math.log(Math.abs(e||t)));o.smoothScrollBy(e,t,n)}else(0,v.VX)("scrollStarted"),o.scrollBy({behavior:"instant",left:e,top:t}),(0,v.VX)("scrollDone")},o.safeScroll_=(e,t,n)=>{const r=o===document.scrollingElement?window.innerHeight:o.clientHeight,i=o===document.scrollingElement?window.innerWidth:o.clientWidth,a="scrollTop"===e?[0,o.scrollHeight-r]:[0,o.scrollWidth-i],u=n?a[1]:a[0];return t>=a[0]&&t<=a[1]?(o[e]=t,!1):(o[e]=u,!0)},o.smoothScrollBy=function(e,t,n){if(!u){var[r,i]=t?["scrollTop",t]:["scrollLeft",e],a=n,s=0,l=o[r],c=!1;function f(e){if(0===s)return s=e,(0,v.VX)("scrollStarted"),window.requestAnimationFrame(f);var t=o[r],n=(e-s)*i/a;let d=!1;Math.abs(t+n-l)>=Math.abs(i)?(c=!0,u>v.GZ.conf.scrollFriction?(d=o.safeScroll_(r,t+n,i>0),l=o[r]):u>0?u++:d=o.safeScroll_(r,l+i,i>0)):d=o.safeScroll_(r,t+n,i>0),s=e,u||!d&&!c?window.requestAnimationFrame(f):(o.style.scrollBehavior="",(0,v.VX)("scrollDone"))}u=1,o.style.scrollBehavior="auto",window.requestAnimationFrame(f)}},l.push(o));var a=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];switch(n.lastScrollTop=n.scrollTop,n.lastScrollLeft=n.scrollLeft,e){case"down":n.skScrollBy(0,v.GZ.conf.scrollStepSize);break;case"up":n.skScrollBy(0,-v.GZ.conf.scrollStepSize);break;case"pageDown":n.skScrollBy(0,Math.round(a[1]/2));break;case"fullPageDown":n.skScrollBy(0,a[1]);break;case"pageUp":n.skScrollBy(0,-Math.round(a[1]/2));break;case"fullPageUp":n.skScrollBy(0,-a[1]);break;case"top":n.skScrollBy(0,-n.scrollTop);break;case"bottom":n.skScrollBy(n.scrollLeft,n.scrollHeight-n.scrollTop);break;case"left":n.skScrollBy(-Math.round(v.GZ.conf.scrollStepSize/2),0);break;case"right":n.skScrollBy(Math.round(v.GZ.conf.scrollStepSize/2),0);break;case"leftmost":n.skScrollBy(-n.scrollLeft-10,0);break;case"rightmost":n.skScrollBy(n.scrollWidth-n.scrollLeft-a[0]+20,0);break;case"byRatio":var f=parseInt(v._P.repeats*n.scrollHeight/100)-a[1]/2-n.scrollTop;v._P.repeats=0,n.skScrollBy(0,f)}(0,v.VX)("turnOffDOMObserver")}},t.refreshScrollableElements=function(){return i=null,c(),i},t.addScrollableElement=function(e){i&&(e.contains(i[s])||-1!==i.indexOf(e))||(c(),i.push(e),s=i.length-1)},t.rotateFrame=function(){(0,v._P)("nextFrame",{frameId:window.frameId})},t.feedkeys=function(e){setTimeout((function(){for(var n=new Event("keydown"),r=0;r<e.length;r++)n.sk_keyName=e[r],O.handleMapKey.call(t,n)}),1)},t.setLastKeys=function(e){!this.map_node.meta.repeatIgnore&&e.length>1&&(a=[e],d())},t.appendKeysForRepeat=function(e,t){a&&a.length>0&&(a.push("{0}\t{1}".format(e,t)),d())},t.addVIMark=function(e,t){t=t||window.location.href;var n={};n[e]={url:t,scrollLeft:document.scrollingElement.scrollLeft,scrollTop:document.scrollingElement.scrollTop},(0,v._P)("addVIMark",{mark:n}),(0,h.mU)("Mark '{0}' added for: {1}.".format(e,t))},t.jumpVIMark=function(e){if("'"===e){let e=document.scrollingElement;if(c(),i.length>0&&(e=i[s],void 0!==e.lastScrollTop&&void 0!==e.lastScrollLeft)){const t=e.scrollTop,n=e.scrollLeft;e.scrollTop=e.lastScrollTop,e.scrollLeft=e.lastScrollLeft,e.lastScrollTop=t,e.lastScrollLeft=n}}else(0,v._P)("jumpVIMark",{mark:e})},t.moveTab=function(e){(0,v._P)("moveTab",{position:e})},t.captureElement=function(e){(0,v._P)("getCaptureSize",null,(function(t){var n=t.width/window.innerWidth;e.scrollTop=0,e.scrollLeft=0;var r=-1,o=-1,i=e.style.overflowY;e.style.overflowY="hidden";var a=e.style.overflowX;e.style.overflowX="hidden";var u=e.style.borderStyle;e.style.borderStyle="none",(0,v.VX)("toggleStatus",[!1]);var s,l,c,f,d,p,g=0,m=0,y=e.scrollHeight,_=e.scrollWidth;if(e===document.scrollingElement)d=window.innerWidth,p=window.innerHeight,s=0,l=0;else{var w=e.getBoundingClientRect(),b=[Math.max(w.left,0),Math.max(w.top,0),Math.min(w.right,window.innerWidth),Math.min(w.bottom,window.innerHeight)];d=b[2]-b[0],p=b[3]-b[1],s=b[0]*n,l=b[1]*n}c=d*n,f=p*n;var k=document.createElement("canvas");k.width=_*n,k.height=y*n;var E=k.getContext("2d"),S=(w=e.getBoundingClientRect(),document.createElement("img"));S.onload=function(){E.drawImage(S,s,l,c,f,g,m,c,f),r===e.scrollTop?o===e.scrollLeft?((0,v.VX)("toggleStatus",[!0]),(0,h.U)("<img src='{0}' />".format(k.toDataURL("image/png"))),e.style.overflowY=i,e.style.overflowX=a,e.style.borderStyle=u):(r=-1,e.scrollTop=0,m=0,o=e.scrollLeft,e.scrollLeft+2*d<_?(e.scrollLeft+=d,g+=d*n):(e.scrollLeft+=_%d,g=e.scrollLeft*n),setTimeout((function(){(0,v._P)("captureVisibleTab",null,(function(e){S.src=e.dataUrl}))}),100)):(r=e.scrollTop,e.scrollTop+2*p<y?(e.scrollTop+=p,m+=p*n):(e.scrollTop+=y%p,m=e.scrollTop*n),setTimeout((function(){(0,v._P)("captureVisibleTab",null,(function(e){S.src=e.dataUrl}))}),500))},setTimeout((function(){(0,v._P)("captureVisibleTab",null,(function(e){S.src=e.dataUrl}))}),500)}))},t.mappings.add("yG",{annotation:"Capture current full page",feature_group:7,code:function(){t.captureElement(document.scrollingElement)}}),t.mappings.add("yS",{annotation:"Capture scrolling element",feature_group:7,code:function(){var e=document.scrollingElement;c(),i.length>0&&(e=i[s]),t.captureElement(e)}}),t.mappings.add("cS",{annotation:"Reset scroll target",feature_group:2,code:function(){if(i=null,c(),i.length>0){var e=i[s];t.highlightElement(e)}}});const p=e=>{const n=t.scroll.bind(t,e);return n.isSKScrollInHints=!0,n};function g(e){-1===v.GZ.conf.mouseSelectToQuery.indexOf(window.origin)||(0,h.yT)(e.target)||e.target.matches(".cm-matchhighlight")||setTimeout((()=>{(0,v.VX)("querySelectedWord")}),1)}t.isScrollKeyInHints=e=>{const n=t.mappings[e];return n&&n.meta&&n.meta.code&&n.meta.code.isSKScrollInHints},t.mappings.add("e",{annotation:"Scroll half page up",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"pageUp")}),t.mappings.add("U",{annotation:"Scroll full page up",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"fullPageUp")}),t.mappings.add("d",{annotation:"Scroll half page down",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"pageDown")}),t.mappings.add("P",{annotation:"Scroll full page down",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"fullPageDown")}),t.mappings.add("gg",{annotation:"Scroll to the top of the page",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"top")}),t.mappings.add("G",{annotation:"Scroll to the bottom of the page",feature_group:2,repeatIgnore:!0,code:p("bottom")}),t.mappings.add("j",{annotation:"Scroll down",feature_group:2,repeatIgnore:!0,code:p("down")}),t.mappings.add("k",{annotation:"Scroll up",feature_group:2,repeatIgnore:!0,code:p("up")}),t.mappings.add("h",{annotation:"Scroll left",feature_group:2,repeatIgnore:!0,code:p("left")}),t.mappings.add("l",{annotation:"Scroll right",feature_group:2,repeatIgnore:!0,code:p("right")}),t.mappings.add("0",{annotation:"Scroll all the way to the left",feature_group:2,repeatIgnore:!0,code:p("leftmost")}),t.mappings.add("$",{annotation:"Scroll all the way to the right",feature_group:2,repeatIgnore:!0,code:p("rightmost")}),t.mappings.add("%",{annotation:"Scroll to percentage of current page",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"byRatio")}),t.mappings.add("cs",{annotation:"Change scroll target",feature_group:2,repeatIgnore:!0,code:function(){!function(e){if((i=O.getScrollableElements()).length>0){s=(s+1)%i.length;var n=i[s];(0,h.n5)(n),e||t.highlightElement(n)}}()}}),t.mappings.add("/",{annotation:"Find in current page",feature_group:9,repeatIgnore:!0,code:function(){(0,v.VX)("openFinder")}}),t.mappings.add("E",{annotation:"Go one tab left",feature_group:3,repeatIgnore:!0,code:function(){(0,v._P)("previousTab")}}),t.mappings.add("R",{annotation:"Go one tab right",feature_group:3,repeatIgnore:!0,code:function(){(0,v._P)("nextTab")}});var _=null;return t.disable=function(){_||(_=function(e){var t=new O("Disabled");return t.priority=99,t.addEventListener("keydown",(function(n){n.sk_suppressed=!0,O.isSpecialKeyOf("<Alt-s>",n.sk_keyName)&&(e.toggleBlocklist(),t.exit(),n.sk_stopPropagation=!0)})),t}(t),_.enter(0,!0)),(0,v.VX)("turnOffDOMObserver"),document.removeEventListener("mouseup",g)},t.enable=function(){_&&(_.exit(),_=null),document.addEventListener("mouseup",g)},t.enable(),t.onExit=function(){(0,v.VX)("turnOffDOMObserver"),l.forEach((function(e){delete e.skScrollBy,delete e.smoothScrollBy}))},t};const I=function(e,t){var n=new O("Visual");n.addEventListener("keydown",(function(e){if(w){var t=!1;e.sk_stopPropagation=!0,e.sk_suppressed=!0,y.Z.isWordChar(e)?(k(w,e.sk_keyName),b=[w,e.sk_keyName],t=!0):O.isSpecialKeyOf("<Esc>",e.sk_keyName)&&(t=!0),t&&(n.statusLine=n.name+" - "+p[d],O.showStatus(),w=0)}else e.sk_keyName.length&&(O.handleMapKey.call(n,e),e.sk_stopPropagation?e.sk_suppressed=!0:O.isSpecialKeyOf("<Esc>",e.sk_keyName)&&(d>1?(n.hideCursor(),l.collapse(l.anchorNode,l.anchorOffset),n.showCursor()):(n.visualClear(),n.exit()),d--,P(),e.sk_stopPropagation=!0,e.sk_suppressed=!0))})),n.addEventListener("click",(function(e){switch(l.type){case"None":n.hideCursor(),d=0;break;case"Caret":d&&(n.hideCursor(),0===d&&(d=1),n.showCursor());break;case"Range":d&&(n.hideCursor(),d=2,n.showCursor())}P()})),n.addEventListener("resize",(function(e){v.GZ.conf.lastQuery&&n.visualUpdate(v.GZ.conf.lastQuery),c[f]&&E(c[f])}));let r=null;const o=()=>{r&&r.forEach((e=>{e.remove()}))};n.addEventListener("selectionchange",(function(e){var t,n,i,a;o(),t=l.anchorNode,n=l.anchorOffset,i=l.focusNode,a=l.focusOffset,r=C("surfingkeys_selection_mark",t,n,i,a)})),n.mappings=new m,n.map_node=n.mappings,n.repeats="",n.mappings.add("l",{annotation:"forward character",feature_group:9,code:S}),n.mappings.add("h",{annotation:"backward character",feature_group:9,code:S}),n.mappings.add("j",{annotation:"forward line",feature_group:9,code:S}),n.mappings.add("k",{annotation:"backward line",feature_group:9,code:S}),n.mappings.add("w",{annotation:"forward word",feature_group:9,code:S}),n.mappings.add("e",{annotation:"forward word",feature_group:9,code:S}),n.mappings.add("b",{annotation:"backward word",feature_group:9,code:S}),n.mappings.add(")",{annotation:"forward sentence",feature_group:9,code:S}),n.mappings.add("(",{annotation:"backward sentence",feature_group:9,code:S}),n.mappings.add("}",{annotation:"forward paragraphboundary",feature_group:9,code:S}),n.mappings.add("{",{annotation:"backward paragraphboundary",feature_group:9,code:S}),n.mappings.add("0",{annotation:"backward lineboundary",feature_group:9,code:S}),n.mappings.add("$",{annotation:"forward lineboundary",feature_group:9,code:S}),n.mappings.add("G",{annotation:"forward documentboundary",feature_group:9,code:function(){document.scrollingElement.scrollTop=document.scrollingElement.scrollHeight,"Firefox"!==(0,h.g_)()?S():(n.hideCursor(),l.setPosition(document.body.lastChild,0),n.showCursor()),c.length&&(f=c.length-1,(0,v.VX)("showStatus",[2,f+1+" / "+c.length]))}}),n.mappings.add("gg",{annotation:"backward documentboundary",feature_group:9,code:function(){document.scrollingElement.scrollTop=0,f=0,c.length&&(0,v.VX)("showStatus",[2,f+1+" / "+c.length]),"Firefox"!==(0,h.g_)()?S():(n.hideCursor(),l.setPosition(document.body.firstChild,0),n.showCursor())}}),n.mappings.add("o",{annotation:"Go to Other end of highlighted text",feature_group:9,code:function(){n.hideCursor();var e=[l.anchorNode,l.anchorOffset];l.collapse(l.focusNode,l.focusOffset),l.extend(e[0],e[1]),n.showCursor()}});var i={w:"word",l:"lineboundary",s:"sentence",p:"paragraphboundary"};function a(e){if("Firefox"!==(0,h.g_)()||"p"!==e&&"s"!==e){var t=i[e];l.modify("move","backward",t),l.modify("extend","forward",t)}}var u=[{},{annotation:"Yank a word(w) or line(l) or sentence(s) or paragraph(p)",feature_group:9,code:function(t){var r=[l.focusNode,l.focusOffset];n.hideCursor(),a(t),e.write(l.toString()),l.collapseToStart(),l.setPosition(r[0],r[1]),n.showCursor()}},{annotation:"Copy selected text",feature_group:9,code:function(){var t=[l.focusNode,l.focusOffset];e.write(l.toString()),"Caret"===v.GZ.conf.modeAfterYank?(l.setPosition(t[0],t[1]),n.showCursor(),d=1,P()):"Normal"===v.GZ.conf.modeAfterYank&&(d=2,n.toggle())}}];function s(e,t){(0,h.uE)(e,(()=>{(0,h.vA)(e,["click"],t)}))}n.mappings.add("*",{annotation:"Search word under the cursor",feature_group:9,code:function(){n.star()}}),n.mappings.add(y.Z.encodeKeystroke("<Enter>"),{annotation:"Click on node under cursor.",feature_group:9,code:function(){s(l.focusNode.parentNode,!1)}}),n.mappings.add(y.Z.encodeKeystroke("<Shift-Enter>"),{annotation:"Click on node under cursor.",feature_group:9,code:function(){s(l.focusNode.parentNode,!0)}}),n.mappings.add("zt",{annotation:"make cursor at start of window.",feature_group:9,code:function(){var e=_.getBoundingClientRect().top;n.hideCursor(),document.scrollingElement.scrollTop+=e,n.showCursor()}}),n.mappings.add("zz",{annotation:"make cursor at center of window.",feature_group:9,code:function(){var e=_.getBoundingClientRect().top-window.innerHeight/2;n.hideCursor(),document.scrollingElement.scrollTop+=e,n.showCursor()}}),n.mappings.add("zb",{annotation:"make cursor at bottom of window.",feature_group:9,code:function(){var e=window.innerHeight-_.getBoundingClientRect().bottom;n.hideCursor(),document.scrollingElement.scrollTop-=e,n.showCursor()}}),n.mappings.add("f",{annotation:"Forward to next char.",feature_group:9,code:function(){n.statusLine=n.name+" - "+p[d]+" - forward",O.showStatus(),w=1}}),n.mappings.add("F",{annotation:"Backward to next char.",feature_group:9,code:function(){n.statusLine=n.name+" - "+p[d]+" - backward",O.showStatus(),w=-1}}),n.mappings.add(";",{annotation:"Repeat latest f, F",feature_group:9,code:function(){b&&k(b[0],b[1])}}),n.mappings.add(",",{annotation:"Repeat latest f, F in opposite direction",feature_group:9,code:function(){b&&k(-b[0],b[1])}}),n.mappings.add("p",{annotation:"Expand selection to parent element",feature_group:9,code:function(){for(var e=l.focusNode;e!==document.body;){e=e.parentElement;var t=(0,h.kd)(e,/./),r=t[t.length-1],o=l.getRangeAt(0);if(-1===o.comparePoint(t[0],0)||1===o.comparePoint(r,r.length)){n.hideCursor(),d=2,P(),l.setBaseAndExtent(t[0],0,r,r.length),n.showCursor();break}}}}),n.mappings.add("V",{annotation:"Select a word(w) or line(l) or sentence(s) or paragraph(p)",feature_group:9,code:function(e){n.hideCursor(),d=2,P(),a(e),n.showCursor()}});var l=document.getSelection(),c=[],f=0,d=0,p=["","Caret","Range"],g=document.createElement("div"),_=document.createElement("div");_.className="surfingkeys_cursor",_.style.zIndex=2147483299;var w=0,b=null;function k(e,t){n.hideCursor();var r=[l.anchorNode,l.anchorOffset];if(l.focusNode&&l.focusNode.textContent&&l.focusNode.textContent.length&&l.focusNode.textContent[l.focusOffset]===t&&1===e&&l.setPosition(l.focusNode,l.focusOffset+1),L(t,!0,-1===e))if(1===d)l.setPosition(l.focusNode,l.focusOffset-1);else{var o=[l.focusNode,l.focusOffset-1];l.collapseToStart(),l.setPosition(r[0],r[1]),l.extend(o[0],o[1])}else l.setPosition(r[0],r[1]);n.showCursor()}function E(e){n.hideCursor(),l.anchorNode&&2===d?l.extend(e[0],e[1]):l.setPosition(e[0],e[1]),n.showCursor()}function S(){var e=n.map_node.meta.annotation.split(" "),t=2===d?"extend":"move";n.hideCursor();var r=[l.focusNode,l.focusOffset];l.modify(t,e[0],e[1]),r[0]===l.focusNode&&r[1]===l.focusOffset&&l.modify(t,e[0],"word"),n.showCursor()}n.hideCursor=function(){document.body.contains(_)&&(_.remove(),(0,v.VX)("cursorHidden"))},n.showCursor=function(){if(l.focusNode&&(l.focusNode.offsetHeight>0||l.focusNode.parentNode.offsetHeight>0)){(0,h.n5)(l.focusNode.parentElement,!0);var e=(0,h.YX)(l.focusNode,l.focusOffset)[0];e||(e=l.focusNode.getBoundingClientRect()),e&&(_.style.position="fixed",_.style.left=e.left+"px",e.left<0||e.left>=window.innerWidth?(document.scrollingElement.scrollLeft+=e.left-window.innerWidth/2,_.style.left=window.innerWidth/2+"px"):_.style.left=e.left+"px",e.top<0||e.top>=window.innerHeight?(document.scrollingElement.scrollTop+=e.top-window.innerHeight/2,_.style.top=window.innerHeight/2+"px"):_.style.top=e.top+"px",_.style.height=e.height+"px"),document.body.appendChild(_)}},n.getCursorPixelPos=function(){return _.getBoundingClientRect()};const x=document.createElement("div");function C(e,t,n,r,o){let i=(0,h.YX)(t,n,r,o);if(i.length>100)return[];const a=Array.from(i).map((t=>{if(t.width>0&&t.height>0){var n=g.cloneNode(!1);return n.className=e,n.style.position="absolute",n.style.zIndex=2147483299,n.style.left=document.scrollingElement.scrollLeft+t.left+"px",n.style.top=document.scrollingElement.scrollTop+t.top+"px",n.style.width=t.width+"px",n.style.height=t.height+"px",x.appendChild(n),n}return null})).filter((e=>null!==e));return a.length&&!document.documentElement.contains(x)&&document.documentElement.prepend(x),a}function T(e,t,n,r){const o=C("surfingkeys_match_mark",e,t,n,r);o.length&&c.push([e,t,o])}function A(e){(0,h.kd)(document.body,e).forEach((function(t){for(var n;null!==(n=e.exec(t.data));){var r=n[0];if(!r.length)break;var o=e.lastIndex-r.length;T(t,o,t,o+r.length)}}));var t=document.scrollingElement.scrollTop;for(l.setPosition(null,0);L(e.source,-1===e.flags.indexOf("i"),!1);)l.anchorNode!==l.focusNode&&T(l.anchorNode,l.anchorOffset,l.focusNode,l.focusOffset);if(document.scrollingElement.scrollTop=t,c.length){f=0;for(var n=0;n<c.length;n++){if(c[n][2][0].getBoundingClientRect().top>0){f=n;break}}(0,v.VX)("showStatus",[2,f+1+" / "+c.length])}}function R(){(0,v.VX)("hideBubble")}function P(){n.mappings.add("y",u[d]),n.statusLine=n.name+" - "+p[d],O.showStatus()}function I(){d=(d+1)%3,P()}function L(e,t,n){for(var r=!1,o=null;window.find(e,t,n);){if(l.anchorNode.splitText){r=!0;break}if(null===o)o=l.anchorNode;else if(o===l.anchorNode)break}return r}n.visualClear=function(){o(),n.hideCursor(),c=[],N.forEach((function(e){e.onscroll=null})),N=[],(0,h.gV)(x,""),x.remove(),(0,v.VX)("showStatus",[2,""])},n.emptySelection=function(){document.getSelection().empty()},n.onEnter=function(){document.addEventListener("surfingkeys:cursorHidden",R),I()},n.onExit=function(){n.visualClear(),document.removeEventListener("surfingkeys:cursorHidden",R)},n.restore=function(){l&&l.anchorNode&&(l.setPosition(l.anchorNode,l.anchorOffset),n.showCursor(),n.enter())},n.toggle=function(e){switch(d){case 1:l.extend(l.anchorNode,l.anchorOffset),I();break;case 2:n.hideCursor(),l.collapse(l.focusNode,l.focusOffset),n.exit(),I();break;default:t.create(v.GZ.conf.textAnchorPat,(function(t){setTimeout((function(){l.setPosition(t[0],t[1]),n.enter(),"z"===e&&(0===t[1]?l.extend(t[0],t[0].textContent.length):l.extend(t[0],t[1]+t[2].length),I()),n.showCursor()}),0)}))}},n.star=function(){if(l.focusNode&&l.focusNode.nodeValue){var e=(0,h.lI)();if(e.length&&"."!==e){n.hideCursor();var t=[l.focusNode,l.focusOffset];v.GZ.updateHistory("find",e),n.visualClear(),A(new RegExp(e,"g"+(v.GZ.getCaseSensitive(e)?"":"i"))),l.setPosition(t[0],t[1]),n.showCursor()}}},n.next=function(e){c.length?(0===d&&n.enter(),f=(e?c.length+f-1:f+1)%c.length,E(c[f]),(0,v.VX)("showStatus",[2,f+1+" / "+c.length])):v.GZ.conf.lastQuery&&(A(new RegExp(v.GZ.conf.lastQuery,"g"+(v.GZ.getCaseSensitive(v.GZ.conf.lastQuery)?"":"i"))),n.visualEnter(v.GZ.conf.lastQuery))},n.feedkeys=function(e){setTimeout((function(){for(var t=new Event("keydown"),r=0;r<e.length;r++)t.sk_keyName=e[r],O.handleMapKey.call(n,t)}),1)},n.visualUpdate=function(e){n.visualClear(),l.setPosition(function(e){for(var t=null,n=(0,h.kd)(document.body,/./,0);n.nextNode();)if(n.currentNode.parentNode.getBoundingClientRect().top>window.innerHeight*e){t=n.currentNode;break}return t}(0),0);var t=document.scrollingElement.scrollTop,r=[l.anchorNode,l.anchorOffset],o=v.GZ.getCaseSensitive(e);if(L(e,o,!1)?l.setPosition(r[0],r[1]):l.setPosition(document.body.firstChild,0),L(e,o,!1)){for(document.scrollingElement.scrollTop!==t&&(t=document.scrollingElement.scrollTop,r=[l.anchorNode,l.anchorOffset]),T(l.anchorNode,l.anchorOffset,l.focusNode,l.focusOffset);document.scrollingElement.scrollTop===t&&L(e,o,!1);)T(l.anchorNode,l.anchorOffset,l.focusNode,l.focusOffset);document.scrollingElement.scrollTop=t,l.setPosition(r[0],r[1])}};var N=[];n.visualEnter=function(e){0!==e.length&&"."!==e&&(n.visualClear(),A(new RegExp(e,"g"+(v.GZ.getCaseSensitive(e)?"":"i"))),c.length?(n.enter(),E(c[f])):(0,v.VX)("showStatus",[2,"Pattern not found: {0}".format(e),1e3]),O.getScrollableElements().forEach((function(e){e!==document.scrollingElement&&(e.onscroll=function(){c.forEach((function(e){var t=(0,h.YX)(e[0],e[1])[0];e[2].forEach((e=>{e.style.left=document.scrollingElement.scrollLeft+t.left+"px",e.style.top=document.scrollingElement.scrollTop+t.top+"px"}))}))},N.push(e))})))},n.findSentenceOf=function(e){var t=new RegExp("\\b"+e+"\\b"),n=(0,h.n_)((function(e,n){t.test(e.innerText)&&n.push(e)}));n=(0,h.CU)(n);var r="";return(0,h.Sn)((function(t){t.setPosition(n[0],0),window.find(e,!1,!1,!0,!0)&&(a("s"),r=t.toString())})),r};var M={};return n.style=function(e,t){M[e]=t,_.setAttribute("style",M.cursor||""),g.setAttribute("style",M.marks||"")},n};const L=function(e,t){var n=new O("Hints"),r=document.createElement("div");r.className="surfingkeys_hints_host",r.attachShadow({mode:"open"});var o=(0,h.hm)("style","\ndiv {\n    position: absolute;\n    display: block;\n    font-size: 8pt;\n    font-weight: bold;\n    padding: 0px 2px 0px 2px;\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#FFF785), color-stop(100%,#FFC542));\n    color: #000;\n    border: solid 1px #C38A22;\n    border-radius: 3px;\n    box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.3);\n    width: auto;\n}\ndiv:empty {\n    display: none;\n}\n[mode=text] div {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#aaa), color-stop(100%,#fff));\n}\ndiv.hint-scrollable {\n    background: rgba(170, 170, 255, 0.85);\n}\n[mode=text] div.begin {\n    color: #00f;\n}\n[mode=input] div {\n    background: rgba(255, 217, 0, 0.25);\n}\n[mode=input] div.activeInput {\n    background: rgba(0, 0, 255, 0.25);\n}");r.shadowRoot.appendChild(o);let i=!1;n.setNumeric=function(){i=!0};let a="asdfgqwertzxcvb",u=[];n.setCharacters=function(e){a=e;for(const n of e)t.isScrollKeyInHints(n)&&u.push(n)},n.addEventListener("keydown",(function(n){var r=d.querySelectorAll("div");n.sk_stopPropagation=!0;var o=d.querySelector("[mode=input]>div.activeInput");if(null===o){if(O.isSpecialKeyOf("<Esc>",n.sk_keyName))S();else if(n.keyCode===y.Z.keyCodes.space)d.style.display="none";else if(n.keyCode===y.Z.keyCodes.shiftKey)!function(){var e=d.querySelectorAll("div");e[0].style.zIndex==e[0].zIndex?e.forEach((function(t,n){var r=parseInt(t.style.zIndex);t.style.zIndex=e.length-n+2147483e3-r})):e.forEach((function(e,t){e.style.zIndex=e.zIndex}))}();else if(r.length>0)if(n.keyCode===y.Z.keyCodes.backspace)s.length>0?(s=s.substr(0,s.length-1),b(n)):l.length>0&&(l=l.substr(0,l.length-1),k());else{var c=n.sk_keyName;(function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()})(c)&&(p=!0),""!==c&&(i?(c>="0"&&c<="9"?s+=c:(l+=c,k()),b(n)):-1!==a.toLowerCase().indexOf(c.toLowerCase())?(s+=c.toUpperCase(),b(n)):t.isScrollKeyInHints(c)&&-1===u.indexOf(c)?n.sk_stopPropagation=!1:S())}}else{var f=o.link;O.isSpecialKeyOf("<Esc>",n.sk_keyName)?(f.blur(),S()):n.keyCode===y.Z.keyCodes.tab?(o.classList.remove("activeInput"),g.activeInput=(g.activeInput+(n.shiftKey?-1:1))%r.length,(o=r[g.activeInput]).classList.add("activeInput"),(f=o.link).focus()):n.keyCode!==y.Z.keyCodes.shiftKey&&(n.sk_stopPropagation=!1,S(),e.enter(f))}})),n.addEventListener("keyup",(function(e){e.keyCode===y.Z.keyCodes.space&&(d.style.display="")}));var s="",l="",c=null,f={mouseEvents:["mouseover","mousedown","mouseup","click"]},d=(0,h.hm)("section","",{style:"display: block; opacity: 1;"}),p=!1,g={},m=n.dispatchMouseClick,_="";function w(e){var t=0;do{var n=parseInt(getComputedStyle(e).getPropertyValue("z-index"));t+=isNaN(n)||n<0?0:n,e=e.parentNode}while(e&&e!==document.body&&e!==document&&e.nodeType!==e.DOCUMENT_FRAGMENT_NODE);return t}function b(e){var n=E();if(1===n.length){t.appendKeysForRepeat("Hints",s);var r=n[0].link;m(r),f.multipleHits?(s="",E()):S()}else 0===n.length&&S();e&&(O.suppressKeyUp(e.keyCode),e.stopImmediatePropagation(),e.preventDefault())}function k(){var e=d.querySelectorAll("div");e=Array.from(e),l.length>0&&(e=e.filter((function(e){e.label="",(0,h.gV)(e,"");var t=e.link,n=t.innerText;return void 0===n&&(n=t[0]?t[0].textContent:""),-1!==n.indexOf(l)})));var t=n.genLabels(e.length);e.forEach((function(e,n){e.label=t[n],(0,h.gV)(e,t[n])}))}function E(){var e=[];return d.querySelectorAll("div:not(:empty)").forEach((function(t){var n=t.label;0===s.length?(t.style.opacity=1,(0,h.gV)(t,n),e.push(t)):0===n.indexOf(s)?(t.style.opacity=1,(0,h.gV)(t,`<span style="opacity: 0.2;">${s}</span>`+n.substr(s.length)),e.push(t)):t.style.opacity=0})),e}function S(){f={active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1},(0,h.gV)(d,""),d.remove(),r.remove(),s="",l="",p=!1,n.exit()}function x(e){(0,h.gV)(d,""),d.remove(),s=""}function C(){if(document.documentElement.contains(r)){var e=(new Date).getTime(),t=L(_,g);t>0&&(n.statusLine+=" - "+((new Date).getTime()-e)+"ms / "+t,O.showStatus())}}function T(e){for(var t=e.href;!t&&e;)t=(e=e.parentElement).href;return t}function A(e){for(var t=0;t<v.GZ.conf.pageUrlRegex.length;t++){var n=window.location.href.match(v.GZ.conf.pageUrlRegex[t]);if(n&&4===n.length){var r=parseInt(n[2]);if(r<4294967295)return window.location.href=n[1]+(r+e)+n[3],!0}}return!1}function R(e){let t={};return e.forEach((function(e){let n=e.getAttribute("href");t[n]||(t[n]=e)})),Object.values(t)}function P(e){(0,h.gV)(d,""),d.setAttribute("mode",e),d.style.display=""}function I(e){P("click");var t=n.genLabels(e.length),o=n.coordinate(),i=(0,h.hm)("style",M);d.prepend(i);var a=e.map((function(e,n){var r,i=(0,h.sS)(e),a=w(e),u=Math.min(i.width,window.innerWidth);(r="right"===v.GZ.conf.hintAlign?window.pageXOffset+i.left-o.left+u:"left"===v.GZ.conf.hintAlign?window.pageXOffset+i.left-o.left:window.pageXOffset+i.left-o.left+u/2)<window.pageXOffset?r=window.pageXOffset:r+32>window.pageXOffset+window.innerWidth&&(r=window.pageXOffset+window.innerWidth-32);var s=(0,h.hm)("div",t[n]);return e.dataset.hint_scrollable&&s.classList.add("hint-scrollable"),s.style.top=Math.max(i.top+window.pageYOffset-o.top,0)+"px",s.style.left=r+"px",s.style.zIndex=a+9999,s.zIndex=s.style.zIndex,s.label=t[n],s.link=e,s}));a.forEach((function(e){d.appendChild(e)}));for(var u=d.querySelectorAll("div"),s=(0,h.sS)(u[0]),l=1;l<u.length;l++){var c=u[l],f=(0,h.sS)(c);f.top===s.top&&Math.abs(f.left-s.left)<s.width&&(c.style.top=c.offsetTop+c.offsetHeight+"px"),s=(0,h.sS)(c)}r.shadowRoot.appendChild(d)}function L(e,t){return document.documentElement.appendChild(r),"RegExp"===e.constructor.name?function(e,t){for(var o in t)f[o]=t[o];n.statusLine=t&&t.statusLine||"Hints to select text";var i,a=(0,h.n_)((function(e,t){for(var n=e.childNodes,r=0,o=n.length;r<o;r++)if(n[r].nodeType==Node.TEXT_NODE&&n[r].data.length>0){t.push(e);break}}));if(a=a.flatMap((function(e){for(var t=e.childNodes,n=[],r=0,o=t.length;r<o;r++)t[r].nodeType==Node.TEXT_NODE&&t[r].data.trim().length>1&&n.push(t[r]);return n})),-1===e.flags.indexOf("g"))i=a.map((function(e){return[e,0,""]}));else{i=[];for(var u=0,s=a.length;u<s;u++)for(var l,c=a[u];null!=(l=e.exec(c.data));)i.push([c,l.index,l[0]])}if(a=i.map((function(e){var t=(0,h.t_)(e[0],e[1]),n=[0,0,window.innerHeight,window.innerWidth];if(v.GZ.conf.caretViewport&&4===v.GZ.conf.caretViewport.length&&(n=v.GZ.conf.caretViewport),0===e[0].data.trim().length||t.top<n[0]||t.left<n[1]||t.top>n[2]||t.left>n[3])return null;var r=w(e[0].parentNode),o=document.createElement("div");return 0===e[1]&&(o.className="begin"),o.style.position="fixed",o.style.top=t.top+"px",o.style.left=t.left+"px",o.style.zIndex=r+9999,o.zIndex=o.style.zIndex,o.link=e,o})).filter((function(e){return null!==e})),document.getSelection().anchorNode&&document.getSelection().collapseToStart(),a.length>0){P("text");var p=n.genLabels(a.length);a.forEach((function(e,t){e.label=p[t],(0,h.gV)(e,p[t]),d.append(e)}));var g=(0,h.hm)("style",N);d.prepend(g),r.shadowRoot.appendChild(d)}return a.length}(e,t):Array.isArray(e)?function(e,t){for(var r in t=Object.assign({active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1,filterInvisible:!0},t||{}))f[r]=t[r];return n.statusLine=t&&t.statusLine||"Hints to click",t.filterInvisible&&(e=(0,h.Ns)(e)),e.length>0&&I(e),e.length}(e,t):function(e,t){for(var r in n.statusLine="Hints to click",t=Object.assign({active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1},t||{}))f[r]=t[r];var o;return""===e?(o=(0,h.n_)((function(e,t){(0,h.yT)(e)&&t.push(e)})),o=(0,h.DN)(o)):Array.isArray(e)?o=(0,h.Ns)(e):(o=(0,h.n_)((function(t,n){!t.matches(e)||t.disabled||t.readOnly||n.push(t)})),o=(0,h.Ns)(o),o=(0,h.DN)(o)),o.length>0&&I(o),o.length}(e,t)}n.click=function(e,t){"string"==typeof e&&(e=(0,h.kE)(e)),e.length>1?t?e.forEach((function(e){n.dispatchMouseClick(e)})):n.create(e,n.dispatchMouseClick):1===e.length&&n.dispatchMouseClick(e[0])},n.previousPage=function(){var e=R((0,h.kE)("[rel=prev]",v.GZ.conf.prevLinkRegex));return e.length?(n.click(e),!0):A(-1)},n.nextPage=function(){var e=R((0,h.kE)("[rel=next]",v.GZ.conf.nextLinkRegex));return e.length?(n.click(e),!0):A(1)},document.addEventListener("surfingkeys:topBoundaryHit",n.previousPage),document.addEventListener("surfingkeys:bottomBoundaryHit",n.nextPage),n.onEnter=function(){document.addEventListener("surfingkeys:scrollStarted",x),document.addEventListener("surfingkeys:scrollDone",C)},n.onExit=function(){document.removeEventListener("surfingkeys:scrollStarted",x),document.removeEventListener("surfingkeys:scrollDone",C)},n.genLabels=function(e){var t,n,r,o,i,u;for(r=[""],u=0;r.length-u<e||1===r.length;)for(n=r[u++],o=0,i=a.length;o<i;o++)t=a[o],r.push(t+n);return(r=r.slice(u,u+e)).map((function(e){return e.reverse().toUpperCase()}))},n.coordinate=function(){var e=(0,h.hm)("div","A",{style:"top: 0; left: 0;"});d.prepend(e),r.shadowRoot.appendChild(d);var t=e.getBoundingClientRect(),n={top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft};return(0,h.gV)(d,""),d.remove(),n},n.createInputLayer=function(){var o="input",i=(0,h.n_)((function(e,t){!e.matches(o)||e.disabled||e.readOnly||"text"!==e.type&&"email"!==e.type&&"search"!==e.type&&"password"!==e.type||t.push(e)}));if(0===i.length&&null!==document.querySelector(o)&&(document.querySelector(o).scrollIntoView(),i=(0,h.n_)((function(e,t){!e.matches(o)||e.disabled||e.readOnly||t.push(e)}))),i.length>1){n.enter(),P("input"),i.forEach((function(e,t){var n=e.getBoundingClientRect(),r=w(e),o=document.createElement("div");o.style.position="fixed",o.style.top=n.top+"px",o.style.left=n.left+"px",o.style.width=n.width+"px",o.style.height=n.height+"px",o.style.zIndex=r+9999,o.link=e,o.innerText=" ",d.append(o)})),r.shadowRoot.appendChild(d),g.activeInput=0;var a=d.querySelector("[mode=input]>div");a.classList.add("activeInput"),t.passFocus(!0),a.link.focus()}else 1===i.length&&(t.passFocus(!0),i[0].focus(),e.enter(i[0]))},n.getSelector=function(){return _},n.create=function(e,t,r){i&&(a="1234567890"),_=e,m=t,g=r||{};var o=(new Date).getTime(),u=L(e,r);return u>(v.GZ.conf.hintExplicit?0:1)?(n.statusLine+=" - "+((new Date).getTime()-o)+"ms / "+u,n.enter()):b(),u>0},n.dispatchMouseClick=function(r,o){if((0,h.jK)(r))n.exit(),t.passFocus(!0),r.focus(),e.enter(r);else{f.multipleHits||n.exit();var i=f.tabbed,a=f.active;if(f.multipleHits){const e=r.getAttribute("href");null!==e&&"#"!==e&&(i=!0,a=!1)}p&&v.GZ.conf.hintShiftNonActive?(i=!0,a=!1):p&&"Firefox"===(0,h.g_)()&&(i=!0,a=!0),(0,h.uE)(r,(()=>{i?(0,v._P)("openLink",{tab:{tabbed:i,active:a},url:T(r)}):(n.mouseoutLastElement(),(0,h.vA)(r,f.mouseEvents,p),(0,v.VX)("turnOnDOMObserver"),c=r),f.multipleHits&&setTimeout(C,300)}))}},n.mouseoutLastElement=function(){c&&((0,h.vA)(c,["mouseout"],!1),c=null)};var N="",M="";return n.style=function(e,t){/^div\b/.test(e)||(e=`div{${e}}`),"text"===t?N=e.replace(/\bdiv\b/g,"[mode='text'] div"):M=e.replace(/\bdiv\b/g,"div")},n.feedkeys=function(e){setTimeout((function(){s=e.toUpperCase(),b()}),1)},n};const N=function(e,t,n,r,o,i,a){function u(e,t,n){var r={code:e};return n&&(r.repeatIgnore=n),t&&(t=(0,h.Qe)(t),r.feature_group=t.feature_group,r.annotation=t.annotation),r}function s(e){return!e||e.test(document.location.href)||e.test(window.origin)}function l(e,t,n,r,i){if(s((i=i||{}).domain)){t=y.Z.encodeKeystroke(t);var a,l=e.mappings.remove(t);if(l)a=l.meta?`${l.meta.word} for [${l.meta.annotation}] is overridden by [${n}].`:l.getMetas((function(){return!0})).map((function(e){return`${e.word} for [${e.annotation}] is overridden by [${n}].`})),(0,h.sY)("warn",a);else if(t.length>1)for(var c=t.substr(0,t.length-1);c.length>0;){if((l=e.mappings.find(c))&&l.meta)return void(0,h.sY)("warn",`${l.meta.word} for [${l.meta.annotation}] precedes ${t}.`);c=c.substr(0,c.length-1)}var f=u(r,{annotation:n,feature_group:e===o?9:14},i.repeatIgnore);e.mappings.add(t,f)}}function c(e,t,r,o){l(n,e,t,r,o)}function f(e,t,n,r){l(o,e,t,n,r)}function d(e,n,r,o){l(t,e,n,r,o)}function p(e,t){if(s(t))if(n.mappings.find(y.Z.encodeKeystroke(e)))n.mappings.remove(y.Z.encodeKeystroke(e));else for(var r in O.specialKeys){var o=O.specialKeys[r].indexOf(e);-1!==o&&O.specialKeys[r].splice(o,1)}}function g(e,t){s(t)&&o.mappings.remove(y.Z.encodeKeystroke(e))}function _(t,n,r,o){e.read((function(e){var a=window.getSelection().toString()||e.data;n&&(a="site:"+window.location.hostname+" "+a),r?i.openOmnibar({type:"SearchEngine",extra:o,pref:a}):(0,h.qF)((0,h.Ge)(t,encodeURIComponent(a)))}))}function w(e){var n=(0,h.iw)();n.blur(),t.exit(),i.showEditor(n,null,null,e)}function b(){window.getSelection().toString()?_("https://translate.google.com/?hl=en#auto/en/",!1,!1,""):(0,h.qF)("https://translate.google.com/translate?js=n&sl=auto&tl=zh-CN&u="+window.location.href)}return c("[[","#1Click on the previous link on current page",r.previousPage),c("]]","#1Click on the next link on current page",r.nextPage),c("T","#3Choose a tab",(function(){i.chooseTab()})),c("?","#0Show usage",(function(){i.showUsage()})),c("Q","#8Open omnibar for word translation",(function(){i.openOmniquery({query:(0,h.lI)(),style:"opacity: 0.8;"})})),d("<Ctrl-'>","#15Toggle quotes in an input element",h.ph),d("<Ctrl-i>","#15Open vim editor for current input",(function(){w(!1)})),"Chrome"===(0,h.g_)()&&(d("<Ctrl-Alt-i>","#15Open neovim for current input",(function(){w(!0)})),c(";s","Toggle PDF viewer from SurfingKeys",(function(){var e=window.location.href;0===e.indexOf(chrome.extension.getURL("/pages/pdf_viewer.html"))?(e=window.location.search.substr(3),chrome.storage.local.set({noPdfViewer:1},(function(){window.location.replace(e)}))):document.querySelector("EMBED")&&"application/pdf"===document.querySelector("EMBED").getAttribute("type")?chrome.storage.local.remove("noPdfViewer",(function(){window.location.replace(e)})):chrome.storage.local.get("noPdfViewer",(function(e){e.noPdfViewer?chrome.storage.local.remove("noPdfViewer",(function(){(0,h.mU)("PDF viewer enabled.")})):chrome.storage.local.set({noPdfViewer:1},(function(){(0,h.mU)("PDF viewer disabled.")}))}))}))),c(";ql","#0Show last action",(function(){(0,h.U)((0,h.Ak)(v.GZ.conf.lastKeys.map((function(e){return y.Z.decodeKeystroke(e)})).join(" → ")))}),{repeatIgnore:!0}),c("gi","#1Go to the first edit box",(function(){r.createInputLayer()})),c("zv","#9Enter visual mode, and select whole element",(function(){o.toggle("z")})),c("yv","#7Yank text of an element",(function(){r.create(v.GZ.conf.textAnchorPat,(function(t){e.write(0===t[1]?t[0].data.trim():t[2].trim())}))})),c("ymv","#7Yank text of multiple elements",(function(){var t=[];r.create(v.GZ.conf.textAnchorPat,(function(n){t.push(0===n[1]?n[0].data.trim():n[2].trim()),e.write(t.join("\n"))}),{multipleHits:!0})})),c("V","#9Restore visual mode",(function(){o.restore()})),c("*","#9Find selected text in current page",(function(){o.star(),o.toggle()})),f("<Ctrl-u>","#9Backward 20 lines",(function(){o.feedkeys("20k")})),f("<Ctrl-d>","#9Forward 20 lines",(function(){o.feedkeys("20j")})),c("m","#10Add current URL to vim-like marks",n.addVIMark),c("'","#10Jump to vim-like mark",n.jumpVIMark),c("<Ctrl-'>","#10Jump to vim-like mark in new tab.",(function(e){n.jumpVIMark(e)})),c("w","#2Switch frames",(function(){window===top&&r.create("iframe",(function(e){e.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),n.highlightElement(e),e.contentWindow.focus()}))||n.rotateFrame()})),c("yg","#7Capture current page",(function(){i.toggleStatus(!1),setTimeout((function(){(0,v._P)("captureVisibleTab",null,(function(e){i.toggleStatus(!0),(0,h.U)("<img src='{0}' />".format(e.dataUrl))}))}),500)})),c("gu","#4Go up one path in the URL",(function(){var e=location.pathname;if(e.length>1){var t=(e=e.endsWith("/")?e.substr(0,e.length-1):e).lastIndexOf("/"),n=v._P.repeats;for(v._P.repeats=1;n-- >1;){var r=e.lastIndexOf("/",t-1);if(-1===r)break;t=r}e=e.substr(0,t)}window.location.href=location.origin+e})),c(";m","#1mouse out last element",(function(){r.mouseoutLastElement()})),c(";pp","#7Paste html on current page",(function(){e.read((function(e){document.documentElement.removeAttributes(),document.body.removeAttributes(),(0,h.gV)(document.head,"<title>"+new Date+" updated by Surfingkeys</title>"),(0,h.gV)(document.body,e.data)}))})),c(";t","Translate selected text with google",b),f("t","#9Translate selected text with google",b),c("O","#1Open detected links from text",(function(){r.create(v.GZ.conf.clickablePat,(function(e){window.location.assign(e[2])}),{statusLine:"Open detected links from text"})})),c(".","#0Repeat last action",(function(){const e=v.GZ.conf.lastKeys;n.feedkeys(e[0]);for(var t=e.slice(1),o=0;o<t.length;o++){var i=t[o].split("\t");if("Hints"===i[0]){function e(){var e=i[1];return function(){r.feedkeys(e)}}setTimeout(e(),120+100*o)}}}),{repeatIgnore:!0}),c("f","#1Open a link, press SHIFT to flip overlapped hints, hold SPACE to hide hints",(function(){r.create("",r.dispatchMouseClick)}),{repeatIgnore:!0}),c("v","#9Toggle visual mode",(function(){o.toggle()}),{repeatIgnore:!0}),c("n","#9Next found text",(function(){o.next(!1)}),{repeatIgnore:!0}),c("N","#9Previous found text",(function(){o.next(!0)}),{repeatIgnore:!0}),c(";fs","#1Display hints to focus scrollable elements",(function(){r.create(n.refreshScrollableElements(),r.dispatchMouseClick)})),f("q","#9Translate word under cursor",(function(){var e=(0,h.lI)();a.readText(e);var t=o.getCursorPixelPos();i.performInlineQuery(e,{top:t.top,left:t.left,height:t.height,width:t.width},(function(e,t){(0,v.VX)("showBubble",[e,t,!0])}))})),c("cq","#7Query word with Hints",(function(){r.create(v.GZ.conf.textAnchorPat,(function(e){var t,n,r,o=e[2].trim().replace(/[^A-z].*$/,""),a=(0,h.t_)(e[0],e[1],e[2].length);void 0!==document.dictEnabled?document.dictEnabled&&window.postMessage({dictorium_data:{type:"OpenDictoriumQuery",word:o,sentence:(t=e[0],n=e[1],r="",(0,h.Sn)((function(e){e.setPosition(t,n),e.modify("extend","backward","sentence"),e.collapseToStart(),e.modify("extend","forward","sentence"),r=e.toString()})),r.replace(/\n/g,"")),pos:a,source:window.location.href}}):i.performInlineQuery(o,{top:a.top,left:a.left,height:a.height,width:a.width},(function(e,t){(0,v.VX)("showBubble",[e,t,!1])}))}))})),{RUNTIME:v._P,aceVimMap:function(e,t,n){(0,v.VX)("addVimMap",[e,t,n])},addVimMapKey:function(){(0,v.VX)("addVimKeyMap",Array.from(arguments))},addSearchAlias:function(e,t,n,r,o,a,u,s){if(function(e,t,n,r,o,a){i.addSearchAlias(e,t,n,r,o,a)}(e,t,n,o,a,s),!(s?.skipMaps??!1)){c((r||"s")+e,"#6Search selected with "+t,d),c("o"+e,"#8Open Search with alias "+e,(()=>{i.openOmnibar({type:"SearchEngine",extra:e})})),f((r||"s")+e,"",d),c((r||"s")+(u||"o")+e,"",p),f((r||"s")+(u||"o")+e,"",p);var l=e.toUpperCase();if(l!==e){function t(){_(n,!1,!0,e)}function o(){_(n,!0,!0,e)}c((r||"s")+l,"",t),f((r||"s")+l,"",t),c((r||"s")+(u||"o")+l,"",o),f((r||"s")+(u||"o")+l,"",o)}}function d(){_(n)}function p(){_(n,!0)}},cmap:function(e,t,n,r){s(n)&&(0,v.VX)("addMapkey",["Omnibar",e,t])},imap:function(e,n,r,o){s(r)&&(0,h.t6)(t,e,n)},imapkey:d,insertJS:h.Ru,isElementPartiallyInViewport:h.w1,getBrowserName:h.g_,getClickableElements:h.kE,getFormData:function(e,t){var n=new FormData(e);if("json"===t){var r={};return n.forEach((function(e,t){if(r.hasOwnProperty(t)){if(e.length){var n=r[t];"Array"===n.constructor.name?n.push(e):(r[t]=[],n.length&&r[t].push(n),r[t].push(e))}}else r[t]=e})),r}return new URLSearchParams(n).toString()},map:function(e,t,r,o){if(s(r))if(":"===t[0]){var a=t.substr(1),l=u((function(){i.executeCommand(a)}),o?(0,h.Qe)({annotation:o}):null,!1);n.mappings.add(y.Z.encodeKeystroke(e),l)}else!(0,h.t6)(n,e,t)&&t in O.specialKeys?(O.specialKeys[t].push(e),(0,v.VX)("addMapkey",["Mode",e,t])):(0,h.sY)("warn",`${t} not found in normal mode.`)},unmap:p,unmapAllExcept:function(e,r){s(r)&&[n,t].forEach((function(t){for(var n=new m,r=0,o=(e=e||[]).length;r<o;r++){var i=y.Z.encodeKeystroke(e[r]),a=t.mappings.find(i);a&&n.add(i,a.meta)}delete t.mappings,t.mappings=n,t.map_node=n}))},iunmap:function(e,n){s(n)&&t.mappings.remove(y.Z.encodeKeystroke(e))},vunmap:g,mapkey:c,readText:a.readText,removeSearchAlias:function(e,t,n){!function(e){i.removeSearchAlias(e)}(e),p((t||"s")+e),p("o"+e),g((t||"s")+e),p((t||"s")+(n||"o")+e),g((t||"s")+(n||"o")+e);var r=e.toUpperCase();r!==e&&(p((t||"s")+r),g((t||"s")+r),p((t||"s")+(n||"o")+r),g((t||"s")+(n||"o")+r))},searchSelectedWith:_,tabOpenLink:h.qF,vmap:function(e,t,n,r){s(n)&&(0,h.t6)(o,e,t)},vmapkey:f,Clipboard:e,Normal:{feedkeys:n.feedkeys,jumpVIMark:n.jumpVIMark,passThrough:n.passThrough,scroll:n.scroll},Hints:{click:r.click,create:r.create,dispatchMouseClick:r.dispatchMouseClick,style:r.style,setNumeric:r.setNumeric,setCharacters:r.setCharacters},Visual:{style:o.style},Front:{openOmnibar:i.openOmnibar,registerInlineQuery:i.registerInlineQuery,showEditor:i.showEditor,getUsage:i.getUsage,showBanner:h.mU,showPopup:h.U}}};var M=__webpack_require__(486);const U="➤",D="<span class='separator'>➤</span>";function B(e,t,n){var r,o={prompt:e};const i=()=>{let e=++r;n().then((n=>{if(e===r){var o=t.input.value;t.detectAndInsertURLItem(o,n),t.listURLs(n,!1)}}))};return o.onOpen=function(e){r=0,i()},o.onInput=(0,M.debounce)(i,200),o.onClose=function(){o.onInput.cancel()},o.onReset=function(){v.GZ.conf.historyMUOrder=!v.GZ.conf.historyMUOrder,n().then((e=>{e=v.GZ.conf.historyMUOrder?e.sort((function(e,t){return t.visitCount-e.visitCount})):e.sort((function(e,t){return t.lastVisitTime-e.lastVisitTime})),t.listURLs(e,!1)}))},o}const F=function(e,t){var n=new O("Omnibar");function r(t){e.hidePopup(),setTimeout(t,100)}n.addEventListener("keydown",(function(e){e.sk_keyName.length&&O.handleMapKey.call(n,e),e.sk_suppressed=!0})).addEventListener("mousedown",(function(t){c.contains(t.target)||e.hidePopup(),t.sk_suppressed=!0})),n.mappings=new m,n.map_node=n.mappings,n.mappings.add(y.Z.encodeKeystroke("<Ctrl-d>"),{annotation:"Delete focused item from bookmark or history",feature_group:8,code:function(){var e=n.resultsDiv.querySelector("li.focused");e&&e.uid&&(0,v._P)("removeURL",{uid:e.uid},(function(t){"Done"===t.response&&e.remove()}))}});const o=function(e,t){var n={aliases:{}},r=void 0;function o(){r&&(clearTimeout(r),r=void 0)}function i(e,t){return-1!==e.indexOf("%s")?e.replace("%s",t):e+t}function a(t){e.detectAndInsertURLItem(e.input.value,t);var n=(0,h.$8)(encodeURIComponent(e.input.value),!0);e.listResults(t,(function(t){if(t.hasOwnProperty("html"))return e.createItemFromRawHtml(t);if(t.hasOwnProperty("url"))return e.createURLItem(t,n);var r=(0,h.hm)("li",`⌕ ${t}`);return r.query=t,r}))}return n.onOpen=function(t){Object.assign(n,n.aliases[t]);var r=e.input.value;if(r.length){var o=r.match(/^(site:\S+\s*).*/);o&&e.input.setSelectionRange(o[1].length,r.length),e.triggerInput()}},n.onClose=function(){o(),n.prompt=void 0,n.url=void 0,n.suggestionURL=void 0},n.onTabKey=function(){var t=e.resultsDiv.querySelector("li.focused");t&&t.query&&(e.input.value=t.query)},n.onEnter=function(){var t,r=e.resultsDiv.querySelector("li.focused");return t=r?r.url||(0,h.Ge)(n.url,r.query||encodeURIComponent(e.input.value)):(0,h.Ge)(n.url,encodeURIComponent(e.input.value)),(0,v._P)("openLink",{tab:{tabbed:this.tabbed,active:this.activeTab},url:t}),this.activeTab},n.onInput=function(){n.suggestionURL&&v.GZ.conf.omnibarSuggestion?(o(),r=setTimeout((function(){const r=i(n.suggestionURL,encodeURIComponent(e.input.value));(0,v._P)("request",{method:"get",url:r},(function(o){t.contentCommand({action:"getSearchSuggestions",url:n.suggestionURL,query:e.input.value,requestUrl:r,response:o},(function(e){e=e.data,Array.isArray(e)||(e=[]),a(e)}))}))}),v.GZ.conf.omnibarSuggestionTimeout)):a([])},t._actions.addSearchAlias=function(e){n.aliases[e.alias]={prompt:""+e.prompt+D,url:e.url,suggestionURL:e.suggestionURL};const r=`surfingkeys.searchEngineIcon.${e.alias}`,o=localStorage.getItem(r);if(o)n.aliases[e.alias].prompt=`<img src="${o}" alt=${e.prompt} style="width: 20px;" />`;else if(t.topOrigin.startsWith("http")){let t;e.options?.favicon_url?t=new URL(e.options.favicon_url):(t=new URL(e.url),t.pathname="favicon.ico",t.search="",t.hash=""),(0,v._P)("requestImage",{url:t.href},(function(t){localStorage.setItem(r,t.text),n.aliases[e.alias].prompt=`<img src="${t.text}" alt=${e.prompt} style="width: 20px;" />`}))}},t._actions.removeSearchAlias=function(e){delete n.aliases[e.alias]},t._actions.getSearchAliases=function(e){t.postMessage({aliases:n.aliases,responseToContent:e.commandToFrontend,id:e.id})},n}(n,e);n.mappings.add(y.Z.encodeKeystroke("<Ctrl-i>"),{annotation:"Edit selected URL with vim editor, then open",feature_group:8,code:function(){var t=n.resultsDiv.querySelector("li.focused");if(t&&t.url)r((function(){e.showEditor({initial_line:1,type:"url",content:t.url,onEditorSaved:function(e){e&&(0,h.qF)(e)}})}));else if(a===o){var i=n.input.value,u=o.url;r((function(){e.showEditor({initial_line:1,type:"url",content:i,onEditorSaved:function(e){(0,h.qF)((0,h.Ge)(u,encodeURIComponent(e)))}})}))}}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-j>"),{annotation:"Toggle Omnibar's position",feature_group:8,code:function(){"bottom"===v.GZ.conf.omnibarPosition?v.GZ.conf.omnibarPosition="middle":v.GZ.conf.omnibarPosition="bottom",r((function(){w.pref=n.input.value,e.openOmnibar(w)}))}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-.>"),{annotation:"Show results of next page",feature_group:8,code:function(){p&&(d*v.GZ.conf.omnibarMaxResults<p.length?d++:d=1,S())}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-,>"),{annotation:"Show results of previous page",feature_group:8,code:function(){p&&(d>1?d--:d=Math.ceil(p.length/v.GZ.conf.omnibarMaxResults),S())}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-c>"),{annotation:"Copy selected item url or all listed item urls",feature_group:8,code:function(){n.input.style.display="none";const e=n.resultsDiv.querySelector("li.focused");let r;r=e&&e.copy?e.copy:e&&e.url?e.url:_.map((e=>e.url)).join("\n"),t.write(r),n.input.style.display=""}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-D>"),{annotation:"Delete all listed items from bookmark or history",feature_group:8,code:function(){var e=Array.from(n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")).map((function(e){return e.uid})).filter((function(e){return e}));e.length&&(0,v._P)("removeURL",{uid:e},(function(e){"Done"===e.response&&(a&&a.getResults&&a.getResults(),n.triggerInput())}))}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-r>"),{annotation:"Re-sort history by visitCount or lastVisitTime",feature_group:8,code:function(){a&&a.onReset&&a.onReset()}}),n.mappings.add(y.Z.encodeKeystroke("<Esc>"),{annotation:"Close Omnibar",feature_group:8,code:function(){e.hidePopup()}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-m>"),{annotation:"Create vim-like mark for selected item",feature_group:8,code:function(e){var t=n.resultsDiv.querySelector("li.focused");t&&Normal.addVIMark(e,t.url)}});var i,a,u={},s="",l=null,c=document.getElementById("sk_omnibar");function f(e){var t=Array.from(n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")),r=t.length;if(r>0){var o=n.resultsDiv.querySelector("li.focused");o&&o.classList.remove("focused");var i=t.indexOf(o);i=-1===i?r:i;var u=(e?i+r:i+r+2)%(r+1);u<r?(n.focusItem(t[u]),a.onTabKey&&a.onTabKey()):n.input.value=s}}c.onclick=function(e){n.input.focus()},n.triggerInput=function(){var e=new Event("input",{bubbles:!0,cancelable:!0});n.input.dispatchEvent(e)},n.expandAlias=function(e,t){var r=!1;return a!==o&&e.length&&o.aliases.hasOwnProperty(e)&&(l=a,a=o,Object.assign(o,o.aliases[e]),(0,h.gV)(n.resultsDiv,""),(0,h.gV)(n.promptSpan,a.prompt),(0,h.gV)(b,""),p=null,n.collapsingPoint=t,n.input.value=t,t.length&&n.triggerInput(),r=!0),r},n.collapseAlias=function(){var e=!1,t=n.input.value;return!l||a===l||t!==n.collapsingPoint&&""!==t||(a=l,l=null,(0,h.gV)(n.promptSpan,a.prompt),t.length&&(n.input.value=t.substr(0,t.length-1)),n.triggerInput(),e=!0),e},n.focusItem=function(e){if("string"==typeof e&&(e=n.resultsDiv.querySelector(e)),e){e.classList.add("focused");const t=e.getBoundingClientRect(),r=n.resultsDiv.getBoundingClientRect();if(t.top<r.top||t.bottom>r.bottom){const n=t.top<r.top;e.scrollIntoView(n)}}},n.promptSpan=c.querySelector("#sk_omnibarSearchArea>span.prompt");var d,p,g,_,w,b=c.querySelector("#sk_omnibarSearchArea>span.resultPage");function k(){s!==n.input.value&&(s=n.input.value),a.onInput&&a.onInput.call(this)}function E(t){a&&a.onKeydown&&a.onKeydown.call(t.target,t)&&t.preventDefault(),O.isSpecialKeyOf("<Esc>",t.sk_keyName)?(e.hidePopup(),t.preventDefault()):t.keyCode===y.Z.keyCodes.enter?(a.activeTab=!t.ctrlKey,a.tabbed=n.tabbed^t.shiftKey,a.onEnter()&&e.hidePopup()):t.keyCode===y.Z.keyCodes.space?n.expandAlias(n.input.value,"")&&t.preventDefault():t.keyCode===y.Z.keyCodes.backspace&&n.collapseAlias()&&t.preventDefault()}function S(){var e=(d-1)*v.GZ.conf.omnibarMaxResults,t=(t=e+v.GZ.conf.omnibarMaxResults)>p.length?p.length:t,r=p.length;r===v.GZ.conf.omnibarHistoryCacheSize&&(r+="+"),(0,h.gV)(b,`${e+1} - ${t} / ${r}`),_=p.slice(e,t);var o=n.input.value.trim(),i=null;o.length&&(i=(0,h.$8)(o,!0)),n.listResults(_,(function(e){var t;if(e.hasOwnProperty("html"))t=n.createItemFromRawHtml(e);else if(e.hasOwnProperty("url")&&void 0!==e.url){if("Firefox"===(0,h.g_)()&&/^(place|data):/i.test(e.url))return null;t=n.createURLItem(e,i)}else g&&((t=(0,h.hm)("li",`<div class="title">▷ ${n.highlight(i,e.title)}</div>`)).folder_name=e.title,t.folderId=e.id);return t}))}return n.resultsDiv=c.querySelector("#sk_omnibarSearchResult"),n.mappings.add(y.Z.encodeKeystroke("<Tab>"),{annotation:"Forward cycle through the candidates.",feature_group:8,code:function(){f("bottom"===v.GZ.conf.omnibarPosition)}}),n.mappings.add(y.Z.encodeKeystroke("<Shift-Tab>"),{annotation:"Backward cycle through the candidates.",feature_group:8,code:function(){f("bottom"!==v.GZ.conf.omnibarPosition)}}),n.mappings.add(y.Z.encodeKeystroke("<Ctrl-'>"),{annotation:"Toggle quotes in an input element",feature_group:8,code:h.ph}),n.highlight=function(e,t){return"data:image/"===t.substr(0,11)&&(t=t.substr(0,1024)),null===e?t:t.replace(e,(function(e){return"<span class=omnibar_highlight>"+e+"</span>"}))},n.createURLItem=function(e,t){e.title=e.title&&""!==e.title?e.title:e.url;var r="🔥",o="",a=e.uid;e.hasOwnProperty("lastVisitTime")?(r="🕜",o=`<span class=omnibar_timestamp># ${(0,h.zQ)(e.lastVisitTime)}</span>`,o+=`<span class=omnibar_visitcount> (${e.visitCount})</span>`,a="H"+e.url):e.hasOwnProperty("dateAdded")?(r="⭐",o=`<span class=omnibar_folder>@ ${i[e.parentId].title||""}</span> <span class=omnibar_timestamp># ${(0,h.zQ)(e.dateAdded)}</span>`,a="B"+e.id):e.hasOwnProperty("width")?(r="🔖",a="T"+e.windowId+":"+e.id):e.type&&2===e.type.length&&e.type.charCodeAt(0)>255&&(r=e.type);var u=(0,h.hm)("li",`<div class="title">${r} ${n.highlight(t,(0,h.Ak)(e.title))} ${o}</div><div class="url">${n.highlight(t,e.url)}</div>`);return u.uid=a,u.url=e.url,u},n.createItemFromRawHtml=function({html:e,props:t}){const n=(0,h.hm)("li",e);return"object"==typeof t&&Object.assign(n,t),n},n.detectAndInsertURLItem=function(e,t){if(/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/\n\s]+)\.([^:\/\n\s]+)/i.test(e)){var n=e;/^https?:\/\//.test(e)||(n="http://"+e),t.unshift({title:e,url:n})}else/^https?:\/\/(?:[^@\/\n]+@)?([^:\/\n\s]+)/i.test(e)&&t.unshift({title:e,url:e})},n.getPageSize=()=>v.GZ.conf.omnibarMaxResults,n.getHistoryCacheSize=()=>v.GZ.conf.omnibarHistoryCacheSize,n.listURLs=function(e,t){d=1,p=e,g=t,S()},n.getItems=function(){return p},c.onShow=function(e){var t;n.input||(n.input=((t=document.createElement("input")).oninput=k,t.onkeydown=E,t.addEventListener("compositionstart",(function(e){t.oninput=null,t.onkeydown=null})),t.addEventListener("compositionend",(function(e){t.oninput=k,t.onkeydown=E,k()})),t),document.querySelector("#sk_omnibarSearchArea").insertBefore(n.input,b)),w=e,c.classList.remove("sk_omnibar_middle"),c.classList.remove("sk_omnibar_bottom"),"Safari-iOS"===(0,h.g_)()&&(v.GZ.conf.omnibarPosition="bottom"),c.classList.add("sk_omnibar_"+v.GZ.conf.omnibarPosition),"bottom"===v.GZ.conf.omnibarPosition?(n.resultsDiv.remove(),c.insertBefore(n.resultsDiv,document.querySelector("#sk_omnibarSearchArea"))):(n.resultsDiv.remove(),c.append(n.resultsDiv)),n.tabbed=void 0===e.tabbed||e.tabbed,a=u[e.type],n.input.focus(),n.enter(),e.pref&&(n.input.value=e.pref),a.onOpen&&a.onOpen(e.extra),l=a,a=a,(0,h.gV)(n.promptSpan,a.prompt),(0,h.gV)(b,""),c.scrollTop=0},c.onHide=function(){delete n.cachedPromise,p=null,i=null,s="",n.input.value="",n.input.placeholder="",(0,h.gV)(n.resultsDiv,""),l=null,a.onClose&&a.onClose(),n.exit(),a=null},n.openFocused=function(){var e,t=n.resultsDiv.querySelector("li.focused");t?e=t.url:-1===(e=n.input.value).indexOf(":")&&(e=o.aliases[v.GZ.conf.defaultSearchEngine].url+e);var r,i="";return t&&t.uid&&(i=(r=t.uid)[0],r=r.substr(1)),"T"===i?(r=r.split(":"),(0,v._P)("focusTab",{windowId:parseInt(r[0]),tabId:parseInt(r[1])})):e&&e.length&&(0,v._P)("openLink",{tab:{tabbed:this.tabbed,active:this.activeTab},url:e}),this.activeTab},n.listResults=function(e,t){if((0,h.gV)(n.resultsDiv,""),e&&0!==e.length){"bottom"===v.GZ.conf.omnibarPosition&&e.reverse();var r=document.createElement("ul");if(e.forEach((function(e){var o=t(e);o&&(r.append(o),o.onclick=()=>{o.url?(0,v._P)("openLink",{tab:{tabbed:!0,active:!0},url:o.url}):(n.input.value=o.query,n.input.focus())})})),n.resultsDiv.append(r),e=n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li"),v.GZ.conf.focusFirstCandidate||a.focusFirstCandidate)e["bottom"===v.GZ.conf.omnibarPosition?e.length-1:0].classList.add("focused");"bottom"===v.GZ.conf.omnibarPosition&&e.length>0&&(0,h.n5)(e[e.length-1])}},n.listWords=function(e){n.listResults(e,(function(e){var t=(0,h.hm)("li",`⌕ ${e}`);return t.query=e,t}))},n.html=function(e){(0,h.gV)(n.resultsDiv,e)},n.addHandler=function(e,t){t.onEnter||(t.onEnter=n.openFocused.bind(t)),u[e]=t},n.listBookmarkFolders=function(e){(0,v._P)("getBookmarkFolders",null,(function(t){i={},t.folders.forEach((function(e){i[e.id]=e})),e&&e(t,i)}))},n.addHandler("Bookmarks",function(e){var t,n={prompt:`bookmark${D}`,inFolder:[]},r=!1,o=0;function i(){var r=n.inFolder.pop();r.folderId?(t=r.folderId,(0,v._P)("getBookmarks",{parentId:t},n.onResponse)):(t=void 0,(0,v._P)("getBookmarks",null,n.onResponse)),n.prompt=r.prompt,(0,h.gV)(e.promptSpan,n.prompt),o=r.focused}return n.onEnter=function(){var r=Array.from(e.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")),i=!1,a=e.resultsDiv.querySelector("li.focused"),u=a.folderId;return u&&!this.activeTab?((0,v._P)("getBookmarks",{parentId:u},(function(e){var t=e.bookmarks;for(var n of t)n.url&&(0,v._P)("openLink",{tab:{tabbed:!0,active:!1},url:n.url})})),n.inFolder.push({prompt:n.prompt,folderId:t,focused:r.indexOf(a)}),localStorage.setItem("surfingkeys.lastOpenBookmark",JSON.stringify(n.inFolder))):u?(n.inFolder.push({prompt:n.prompt,folderId:t,focused:r.indexOf(a)}),n.prompt=a.folder_name+U,(0,h.gV)(e.promptSpan,n.prompt),e.input.value="",t=u,o=0,(0,v._P)("getBookmarks",{parentId:t},n.onResponse)):(i=e.openFocused.call(n))&&(n.inFolder.push({prompt:n.prompt,folderId:t,focused:r.indexOf(a)}),localStorage.setItem("surfingkeys.lastOpenBookmark",JSON.stringify(n.inFolder))),i},n.onOpen=function(){e.listBookmarkFolders((function(){var t=localStorage.getItem("surfingkeys.lastOpenBookmark");t?(n.inFolder=JSON.parse(t),i()):(0,v._P)("getBookmarks",null,n.onResponse),""!==e.input.value&&n.onInput()}))},n.onClose=function(){n.inFolder=[],n.prompt=`bookmark${D}`,t=void 0},n.onKeydown=function(o){var a=!1;if(o.keyCode===y.Z.keyCodes.comma)r=!r,n.prompt=r?"bookmark folder➤":"bookmark➤",(0,h.gV)(e.promptSpan,n.prompt),(0,v._P)("getBookmarks",{parentId:t,query:e.input.value},n.onResponse),a=!0;else if(o.keyCode===y.Z.keyCodes.backspace&&n.inFolder.length&&!e.input.value.length)i(),a=!0;else if(o.ctrlKey&&o.shiftKey&&y.Z.isWordChar(o)){var u=e.resultsDiv.querySelector("li.focused");if(u){var s=String.fromCharCode(o.keyCode);Normal.addVIMark(s,u.url),a=!0}}return a},n.onInput=function(){var r=e.input.value;(0,v._P)("getBookmarks",{parentId:t,caseSensitive:v.GZ.getCaseSensitive(r),query:r},n.onResponse)},n.onResponse=function(t){var n=t.bookmarks;r&&(n=n.filter((function(e){return!e.hasOwnProperty("url")||void 0===e.url}))),e.listURLs(n,!0);n=e.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li");e.focusItem(n[o])},n}(n)),n.addHandler("AddBookmark",function(e){var t,n={focusFirstCandidate:!0,prompt:`add bookmark${D}`};return n.onOpen=function(r){n.page=r,e.listBookmarkFolders((function(r){t=r.folders,e.listResults(t.slice(),(function(e){return(0,h.hm)("li",`▷ ${e.title}`,{folder:e.id})})),(0,v._P)("getBookmark",null,(function(t){if(t.bookmarks.length){var r=t.bookmarks[0];(0,h.gV)(e.promptSpan,`edit bookmark${D}`),e.resultsDiv.querySelector("li.focused").classList.remove("focused"),e.focusItem(`li[folder="${r.parentId}"]`)}var o=localStorage.getItem("surfingkeys.lastAddedBookmark");o&&(e.input.value=o,e.input.select(),n.onInput())}))}))},n.onTabKey=function(){var t=e.resultsDiv.querySelector("li.focused");e.input.value=t.innerHTML.substr(2)},n.onEnter=function(){n.page.path=[];var r,o=e.resultsDiv.querySelector("li.focused");if(o)n.page.folder=o.getAttribute("folder"),r=o.innerHTML.substr(2);else{var i=e.input.value,a=(i=i.split("/")).pop();a.length&&(n.page.title=a);for(var u=(i=i.filter((function(e){return e.length>0}))).length;u>0;u--){var s=t.filter((function(e){return e.title===`/${i.slice(0,u).join("/")}/`}));if(s.length){n.page.folder=s[0].id,n.page.path=i.slice(u),r="/"+i.join("/");break}}void 0===n.page.folder&&(n.page.folder=t[0].id,n.page.path=i,r=`${t[0].title}${i.join("/")}`)}return(0,v._P)("createBookmark",{page:n.page},(function(e){(0,h.mU)("Bookmark created at {0}.".format(r),3e3)})),localStorage.setItem("surfingkeys.lastAddedBookmark",e.input.value),!0},n.onInput=function(){var n=e.input.value,r=v.GZ.getCaseSensitive(n),o=t.filter((function(e){return r?-1!==e.title.indexOf(n):-1!==e.title.toLowerCase().indexOf(n.toLowerCase())}));e.listResults(o,(function(e){return(0,h.hm)("li",`▷ ${e.title}`,{folder:e.id})}))},n}(n)),n.addHandler("History",B(`history${D}`,n,(()=>new Promise(((e,t)=>{(0,v._P)("getHistory",{maxResults:n.getHistoryCacheSize(),query:n.input.value,sortByMostUsed:v.GZ.conf.historyMUOrder},(function(t){e(t.history)}))}))))),n.addHandler("URLs",B(D,n,(()=>new Promise(((e,t)=>{(0,v._P)("getTabs",{queryInfo:v.GZ.conf.omnibarTabsQuery},(function(t){var r=t.tabs;(0,v._P)("getTopSites",null,(function(t){r=r.concat(t.urls),r=(0,h.w0)(r,n.input.value),n.listBookmarkFolders((function(){(0,v._P)("getAllURLs",{maxResults:n.getHistoryCacheSize()-r.length,query:n.input.value},(function(t){r=r.concat(t.urls),e(r)}))}))}))}))}))))),n.addHandler("RecentlyClosed",B(`Recently closed${D}`,n,(()=>new Promise(((e,t)=>{(0,v._P)("getRecentlyClosed",null,(function(t){e((0,h.w0)(t.urls,n.input.value))}))}))))),n.addHandler("TabURLs",B(`Tab History${D}`,n,(()=>new Promise(((e,t)=>{(0,v._P)("getTabURLs",null,(function(t){e((0,h.w0)(t.urls,n.input.value))}))}))))),n.addHandler("Tabs",function(e){var t={focusFirstCandidate:!0},n={};return t.getResults=function(){e.cachedPromise=new Promise((function(e,t){(0,v._P)("getTabs",n,(function(t){e(t.tabs)}))}))},t.onOpen=function(r){r&&"gather"===r.action?(t.prompt=`Gather filtered tabs into current window${D}`,t.onEnter=function(){return(0,v._P)("gatherTabs",{tabs:e.getItems()}),!0},n={queryInfo:{currentWindow:!1}}):(t.prompt=`tabs${D}`,t.onEnter=e.openFocused.bind(t),n={}),t.getResults(),t.onInput()},t.onInput=function(){e.cachedPromise.then((function(t){var n=(0,h.w0)(t,e.input.value);e.listURLs(n,!1)}))},t}(n)),n.addHandler("Windows",function(e,t){const n={prompt:`Move current tab to window${D}`};return n.getResults=function(){e.cachedPromise=new Promise((function(e,t){(0,v._P)("getWindows",{query:""},(function(t){e(t.windows)}))}))},n.onEnter=function(){const t=e.resultsDiv.querySelector("li.focused");let n=-1;return t&&void 0!==t.windowId&&(n=t.windowId),(0,v._P)("moveToWindow",{windowId:n}),!0},n.onOpen=function(){e.input.placeholder="Press enter without focusing an item to move to a new window.",n.getResults(),n.onInput()},n.onInput=function(){e.cachedPromise.then((function(n){0===n.length&&((0,v._P)("moveToWindow",{windowId:-1}),t.hidePopup());let r=n;const o=e.input.value;let i=null;o&&o.length&&(i=(0,h.$8)(o,!1),r=n.filter((function(e){for(const t of e.tabs)if(i.test(t.title)||i.test(t.url))return!0;return!1}))),i=(0,h.$8)(o,!0),e.listResults(r,(function(t){const n=(0,h.hm)("li");return n.windowId=parseInt(t.id),n.classList.add("window"),t.isPreviousChoice&&n.classList.add("focused"),t.tabs.forEach((t=>{const r=(0,h.hm)("div","",{class:"tab_in_window"});r.appendChild((0,h.hm)("div",e.highlight(i,t.title),{class:"title"})),r.appendChild((0,h.hm)("div",e.highlight(i,new URL(t.url).origin),{class:"url"})),n.appendChild(r)})),n.url=t.tabs.map((e=>e.url)).join("\n"),n}))}))},n}(n,e)),n.addHandler("VIMarks",function(e){var t={focusFirstCandidate:!0,prompt:`VIMarks${D}`};return t.onOpen=function(){var t=e.input.value,n=[];(0,v._P)("getSettings",{key:"marks"},(function(r){for(var o in r.settings.marks){var i=r.settings.marks[o];"string"==typeof i&&(i={url:i,scrollLeft:0,scrollTop:0}),""!==t&&-1===i.url.indexOf(t)||n.push({title:o,type:"🔗",uid:"M"+o,url:i.url})}e.listURLs(n,!1)}))},t.onInput=t.onOpen,t}(n)),n.addHandler("SearchEngine",o),n.addHandler("Commands",function(e,t){var n={focusFirstCandidate:!0,prompt:":"},r={};function o(e){e=e.trim();for(var t=[],n=!1,r="",o=0;o<e.length;o++)" "!==e.charAt(o)||n?'"'===e.charAt(o)?n=!n:r+=e.charAt(o):(t.push(r),r="");return t.push(r),t}function i(e){var n=o(e),i=n.shift();if(r.hasOwnProperty(i)){var a=r[i];a.code.call(a.code,n)}else t.contentCommand({action:"executeScript",cmdline:e})}return n.onOpen=function(){-1,(0,v._P)("getSettings",{key:"cmdHistory"},(function(t){var n=t.settings.cmdHistory;n.length&&e.listResults(n,(function(e){var t=(0,h.hm)("li",e);return t.cmd=e,t}))}))},n.onReset=n.onOpen,n.onInput=function(){var t=e.input.value,n=Object.keys(r).filter((function(e){return""===t||-1!==e.indexOf(t)}));n.length&&e.listResults(n,(function(e){var t=(0,h.hm)("li",`${e}<span class=annotation>${(0,h.Ak)(r[e].annotation)}</span>`);return t.cmd=e,t}))},n.onTabKey=function(){e.input.value=e.resultsDiv.querySelector("li.focused").cmd},n.onEnter=function(){var t=!1,n=e.input.value;return n.length&&(v.GZ.updateHistory("cmd",n),i(n),e.input.value=""),t},t._actions.executeCommand=function(e){i(e.cmdline)},e.command=function(e,t,n){var o={code:n},i=(0,h.Qe)({annotation:t,feature_group:14});o.feature_group=i.feature_group,o.annotation=i.annotation,r[e]=o},n}(n,e)),n.addHandler("OmniQuery",function(e,t){var n,r={prompt:"ǭ"};function o(e,t,n){return n.indexOf(e)===t}return r.onOpen=function(r){r&&(e.input.value=r,t.contentCommand({action:"omnibar_query_entered",query:r})),t.contentCommand({action:"getPageText"},(function(e){var t=/[^a-zA-Z]+/;n=e.data.toLowerCase().split(t).filter(o)}))},r.onInput=function(){var t=e.input.value,r=n.filter((function(e){return-1!==e.indexOf(t)}));r.length&&e.listResults(r,(function(e){return(0,h.hm)("li",e)}))},r.onTabKey=function(){e.input.value=e.resultsDiv.querySelector("li.focused").innerText},r.onEnter=function(){t.contentCommand({action:"omnibar_query_entered",query:e.input.value})},r}(n,e)),n.addHandler("UserURLs",function(e){var t,n={focusFirstCandidate:!0,prompt:`UserURLs${D}`};return n.onOpen=function(e){t=e,n.onInput()},n.onInput=function(){var n=e.input.value,r=[];for(var o of t)""!==n&&-1===o.title.indexOf(n)&&-1===o.url.indexOf(n)||r.push({title:o.title,type:"🍆",url:o.url});e.listURLs(r,!1)},n}(n)),e._actions.updateOmnibarResult=function(e){n.listWords(e.words)},n},K=function(){const e=A();O.init();const t=R(),n=P(t);n.enter();const r=L(t,n),o=I(e,r),i=new O("Front");i._actions={};const a=F(i,e);((e,t,n)=>{t("setProxy","setProxy <proxy_host>:<proxy_port> [proxy_type|PROXY]",(function(e){var t=(e.length>1?e[1]:"PROXY")+" "+e[0];return(0,v._P)("updateProxy",{proxy:t}),!0})),t("setProxyMode","setProxyMode <always|direct|byhost|system|clear>",(function(e){return(0,v._P)("updateProxy",{mode:e[0]},(function(e){-1!==["byhost","always"].indexOf(e.proxyMode)?(0,h.mU)("{0}: {1}".format(e.proxyMode,e.proxy),3e3):(0,h.mU)(e.proxyMode,3e3)})),!0})),t("listVoices","list tts voices",(function(){(0,v._P)("getVoices",null,(function(e){var t=e.voices.map((function(e){return`<tr><td>${e.voiceName}</td><td>${e.lang}</td><td>${e.gender}</td><td>${e.remote}</td></tr>`}));t.unshift("<tr style='font-weight: bold;'><td>voiceName</td><td>lang</td><td>gender</td><td>remote</td></tr>"),(0,h.U)("<table style='width:100%'>{0}</table>".format(t.join("")))}))})),t("testVoices","testVoices <locale> <text>",(function(e){(0,v._P)("getVoices",null,(function(t){var n=t.voices,r=0;e.length>0&&(n=n.filter((function(t){return-1!==t.lang.indexOf(e[0])})));var o,i="This is to test voice with SurfingKeys";for(e.length>1&&(i=e[1]),r=0;r<n.length-1;r++)o=`${i}, ${n[r].voiceName} / ${n[r].lang}.`,readText(o,{enqueue:!0,verbose:!0,voiceName:n[r].voiceName});o=`${i}, ${n[r].voiceName} / ${n[r].lang}.`,readText(o,{enqueue:!0,verbose:!0,voiceName:n[r].voiceName,onEnd:function(){(0,h.U)("All voices test done.")}})}))})),t("stopReading","#13Stop reading.",(function(e){(0,v._P)("stopReading")})),t("feedkeys","feed mapkeys",(function(t){e.feedkeys(t[0])})),t("quit","#5quit chrome",(function(){(0,v._P)("quit")})),t("clearHistory","clearHistory <find|cmd|...>",(function(e){runtime.updateHistory(e[0],[])})),t("listSession","list session",(function(){(0,v._P)("getSettings",{key:"sessions"},(function(e){n.listResults(Object.keys(e.settings.sessions),(function(e){return(0,h.hm)("li",e)}))}))})),t("createSession","createSession [name]",(function(e){(0,v._P)("createSession",{name:e[0]})})),t("deleteSession","deleteSession [name]",(function(e){return(0,v._P)("deleteSession",{name:e[0]}),!0})),t("openSession","openSession [name]",(function(e){(0,v._P)("openSession",{name:e[0]})})),t("listQueueURLs","list URLs in queue waiting for open",(function(e){(0,v._P)("getQueueURLs",null,(function(e){n.listResults(e.queueURLs,(function(e){return(0,h.hm)("li",e)}))}))})),t("timeStamp","print time stamp in human readable format",(function(e){var t=new Date(parseInt(e[0]));n.listWords([t.toString()])})),t("userAgent","set user agent",(function(e){(0,v._P)("setUserAgent",{userAgent:e.join(" ")})}))})(n,a.command,a);const u={Insert:t,Normal:n,Visual:o,Omnibar:a};N(e,t,n,r,o,i,{});var s,l=i._actions,c={};function f(e,t,n){this.enter=function(){n&&n(),s=this,top.postMessage({surfingkeys_data:{action:"setFrontFrame",pointerEvents:e,frameHeight:t}},i.topOrigin)},this.nextState=function(){var e,t=Array.from(document.body.querySelectorAll("body>div")).filter((function(e){return"none"!==e.style.display})),n=t.map((function(e){var t=e.id;return-1===["sk_keystroke","sk_banner"].indexOf(t)&&("sk_status"===t?null!==i.statusBar.querySelector("input"):!e.noPointerEvents)}));n.push(!1),this!==(e=(n=n.reduce((function(e,t){return e||t})))?_:t.length>0?g:d)&&e.enter()}}i.contentCommand=function(e,t){e.commandToContent=!0,e.id=(0,h.Dv)(),t&&(e.ack=!0,c[e.id]=t),top.postMessage({surfingkeys_data:e},i.topOrigin)},i.postMessage=function(e){top.postMessage({surfingkeys_data:e},i.topOrigin)},i.addEventListener("keydown",(function(e){O.isSpecialKeyOf("<Esc>",e.sk_keyName)?(i.hidePopup(),e.sk_stopPropagation=!0):x.trie&&(x.trie=x.trie.find(e.sk_keyName),x.trie?x.trie.meta&&((0,v._P)("focusTab",{windowId:x.trie.meta.windowId,tabId:x.trie.meta.id}),i.hidePopup(),x.trie=null):(i.hidePopup(),x.trie=null),e.sk_stopPropagation=!0)}));const d=new f("none","0px"),g=new f("none","100%"),_=new f("all","100%",(function(){window.focus()}));s=d,i.flush=function(){s.nextState()},i.visualCommand=function(e){"none"!==b.style.display?o[e.action](e.query):i.contentCommand(e)};const w=document.getElementById("sk_omnibar");i.statusBar=document.getElementById("sk_status");const b=document.getElementById("sk_usage"),k=document.getElementById("sk_popup"),E=document.getElementById("sk_editor"),S=document.getElementById("sk_nvim"),x=document.getElementById("sk_tabs"),C=document.getElementById("sk_banner"),T=document.getElementById("sk_bubble"),M=T.querySelector("div.sk_bubble_content"),U=T.querySelector("div.sk_arrow"),D=M.classList;function B(){D.remove("sk_scroller_indicator_top"),D.remove("sk_scroller_indicator_middle"),D.remove("sk_scroller_indicator_bottom")}M.onscroll=function(e){B(),0===this.scrollTop?D.add("sk_scroller_indicator_top"):this.scrollTop+this.offsetHeight>=this.scrollHeight?D.add("sk_scroller_indicator_bottom"):D.add("sk_scroller_indicator_middle")};var K,Z=document.getElementById("sk_keystroke");function V(e,t){K&&"none"!==K.style.display&&(K.style.display="none",K.onHide&&K.onHide()),(K=e).style.display="",K.onShow&&K.onShow(t),i.startInputGuard()}function q(e,t){i.enter(0,!0),V(e,t),i.flush()}function W(e,t){var n=["Help","Mouse Click","Scroll Page / Element","Tabs","Page Navigation","Sessions","Search selected with","Clipboard","Omnibar","Visual Mode","vim-like marks","Settings","Chrome URLs","Proxy","Misc","Insert Mode"];(0,h.n8)((function(r){var o=n.map((function(){return[]}));o[0].push("<div><span class=kbd-span><kbd>&lt;Alt-s&gt;</kbd></span><span class=annotation>{0}</span></div>".format(r("Toggle SurfingKeys on current site"))),(e=e.concat((0,h.fy)(a.mappings))).forEach((function(e){var t=y.Z.decodeKeystroke(e.word),n=`<div><span class=kbd-span><kbd>${(0,h.Ak)(t)}</kbd></span><span class=annotation>${r(e.annotation)}</span></div>`;o[e.feature_group].push(n)})),o=o.map((function(e,t){return e.length?"<div><div class=feature_name><span>{0}</span></div>{1}</div>".format(r(n[t]),e.join("")):""})).join(""),o+=`<p style='float:right; width:100%; text-align:right'><a href='https://github.com/brookhong/surfingkeys' target='_blank' style='color:#0095dd'>${r("More help")}</a></p>`,t(o)}))}function G(e){(0,h.gV)(k,e),q(k)}i.startInputGuard=()=>{if((0,h.g_)().startsWith("Safari"))var e=setInterval((()=>{let t=null;for(const e of document.querySelectorAll("input, textarea"))if(e.getBoundingClientRect().width){t=e;break}t&&document.activeElement!==t?(t.focus(),t.value=" ",setTimeout((()=>{t.value=""}),10)):clearInterval(e),console.log(e)}),100)},l.hidePopup=function(){K&&"none"!==K.style.display&&(K.style.display="none",i.flush(),K.onHide&&K.onHide(),i.exit())},i.hidePopup=l.hidePopup,x.onShow=function(e){(0,h.gV)(x,""),x.trie=new m;var t=r.genLabels(e.length);e.forEach((function(e,n){var r=document.createElement("div");r.setAttribute("class","sk_tab"),r.style.width="200px",x.trie.add(t[n].toLowerCase(),e),(0,h.gV)(r,`<div class=sk_tab_hint>${t[n]}</div><div class=sk_tab_wrap><div class=sk_tab_icon><img src='chrome://favicon/${e.url}'></div><div class=sk_tab_title>${(0,h.Ak)(e.title)}</div></div>`),r.url=e.url,x.append(r)})),x.querySelectorAll("div.sk_tab").forEach((function(e){e.append((0,h.hm)("div",e.url,{class:"sk_tab_url"}))}))},l.chooseTab=function(){(0,v._P)("getTabs",null,(function(e){e.tabs.length>v.GZ.conf.tabsThreshold?q(w,{type:"Tabs"}):e.tabs.length>0&&q(x,e.tabs)}))},b.onShow=function(e){W(e.metas,(function(e){(0,h.gV)(b,e)}))},l.showUsage=function(e){q(b,e)},l.applyUserSettings=function(e){for(var t in e.userSettings)v.GZ.conf.hasOwnProperty(t)&&(v.GZ.conf[t]=e.userSettings[t]);"theme"in e.userSettings&&(0,h.gV)(document.getElementById("sk_theme"),e.userSettings.theme)},l.addMapkey=function(e){e.old_keystroke in O.specialKeys?O.specialKeys[e.old_keystroke].push(e.new_keystroke):u.hasOwnProperty(e.mode)&&(0,h.t6)(u[e.mode],e.new_keystroke,e.old_keystroke)},l.addVimMap=function(e){i.vimMappings.push([e.lhs,e.rhs,e.ctx])},l.addVimKeyMap=function(e){i.vimKeyMap=e.vimKeyMap},l.getUsage=function(e){delete e.ack,W(e.metas,(function(t){top.postMessage({surfingkeys_data:{data:t,responseToContent:e.commandToFrontend,id:e.id}},i.topOrigin)}))},i.showUsage=i.hidePopup,l.showPopup=function(e){G(e.content)},document.addEventListener("surfingkeys:showPopup",(function(e){G(...e.detail)})),i.vimMappings=[];let z=null;E.onShow=function(e){z||(z=new Promise(((e,t)=>{import("./ace.js").then((()=>{e(function(e,t){var n=new O("AceEditor");document.getElementById("sk_editor").style.height="30%";var r,o=ace.edit("sk_editor");function i(){return o.getValue()!=r}var a={open:function(t,n,r){const i=e.passThrough();var a=r.onClose;r.onClose=function(){i.exit(),a&&a()},o.state.cm.openDialog(t,(function(e){n(e),r.onClose()}),r)}};function u(){document.activeElement.blur(),t.hidePopup()}function s(){var e=g();t.onEditorSaved?(t.onEditorSaved(e),t.onEditorSaved=void 0):t.contentCommand({action:"ace_editor_saved",data:e})}function l(){u(),s()}function c(){var e;return(0,v._P)("getAllURLs",null,(function(t){e=t.urls.map((function(e){var t=0,n=1;return e.hasOwnProperty("typedCount")&&(t=e.typedCount),e.hasOwnProperty("visitCount")&&(n=e.visitCount),{caption:e.url,value:e.url,score:10*t+n,meta:"local"}}))})),{identifierRegexps:[/.*/],getCompletions:function(t,n,r,o,i){i(null,e)}}}n.addEventListener("keydown",(function(e){e.sk_suppressed=!0,!O.isSpecialKeyOf("<Esc>",e.sk_keyName)||o.completer&&o.completer.activated||("emacs"===v.GZ.conf.aceKeybindings?(n.onExit=u,n.exit()):"normal"!==o.state.cm.mode||o.state.cm.state.vim.status||(i()?a.open('<span style="font-family: monospace">Quit anyway? Y/n </span><input type="text"/>',(function(e){"y"===e.toLowerCase()&&(n.onExit=u,n.exit())}),{bottom:!0,value:"Y",onKeyDown:function(e,t,n){e.keyCode!==y.Z.keyCodes.enter&&e.keyCode!==y.Z.keyCodes.ESC||n()}}):(n.onExit=u,n.exit())))}));var f=null;function d(e){var t=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/,n=e.split(t),r={};return n.forEach((function(e){e="sk_"+e,r.hasOwnProperty(e)?r[e]++:r[e]=1})),Object.keys(r).map((function(e){return{caption:e=e.substr(3),value:e,score:r[e],meta:"local"}}))}var p,h={getCompletions:function(e,n,r,o,i){f?i(null,f):t.contentCommand({action:"getPageText"},(function(e){f=d(e.data),i(null,f)}))}};function g(){var e=o.getValue();return"select"===p&&(e=(e=(e=o.session.getLine(o.selection.lead.row)).match(/.*>< ([^<]*)$/))?e[1]:""),e}function m(){var e=o.state.cm;e.mode="normal",e.on("vim-mode-change",(function(t){e.mode=t.mode})),e.on("0-register-set",(function(e){var t=document.activeElement;Clipboard.write(e.text),t.focus()}));var r=e.constructor.Vim;r.defineEx("write","w",(function(e,t){s()})),r.defineEx("wq","wq",(function(e,t){n.onExit=l,n.exit(),o.state.cm.signal("vim-command-done","")})),r.map("<CR>",":wq","normal"),r.defineEx("bnext","bn",(function(e,n){t.contentCommand({action:"nextEdit",backward:!1})})),r.defineEx("bprevious","bp",(function(e,n){t.contentCommand({action:"nextEdit",backward:!0})})),r.defineEx("quit","q",(function(e,t){n.onExit=u,n.exit(),o.state.cm.signal("vim-command-done","")})),t.vimMappings.forEach((function(e){r.map.apply(r,e)}));var i=o.getKeyboardHandler().defaultKeymap;return t.vimKeyMap&&t.vimKeyMap.length&&i.unshift.apply(i,t.vimKeyMap),r}function _(){return o.$emacsModeHandler.addCommands({closeAndSave:{exec:function(e){n.onExit=l,n.exit()},readOnly:!0}}),o.$emacsModeHandler.bindKey("C-x C-s","closeAndSave"),o.$emacsModeHandler}ace.config.loadModule("ace/ext/language_tools",(function(e){o.language_tools=e,ace.config.loadModule("ace/autocomplete",(function(e){e.Autocomplete.startCommand.bindKey="Tab",e.Autocomplete.prototype.commands.Space=e.Autocomplete.prototype.commands.Tab,e.Autocomplete.prototype.commands.Tab=e.Autocomplete.prototype.commands.Down,e.Autocomplete.prototype.commands["Shift-Tab"]=e.Autocomplete.prototype.commands.Up,e.FilteredList.prototype.filterCompletions=function(e,t){for(var n,r=[],o=t.toUpperCase(),i=0;n=e[i];i++){var a=n.value.toUpperCase();if(a){var u=a.indexOf(o),s=0;-1!==u&&(s|=Math.pow(2,t.length)-1<<u,n.matchMask=s,n.exactMatch=0,r.push(n))}}return r}})),o.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,enableSnippets:!1})})),o.setTheme("ace/theme/chrome");var w=new Promise((function(e,t){var n=m;"emacs"===v.GZ.conf.aceKeybindings?n=_:v.GZ.conf.aceKeybindings="vim",o.setKeyboardHandler("ace/keyboard/"+v.GZ.conf.aceKeybindings,(function(){e(n())}))}));return o.container.style.background="#f1f1f1",o.$blockScrolling=1/0,n.show=function(e){w.then((function(t){o.setValue(e.content,-1),r=e.content,o.container.querySelector("textarea").focus(),n.enter(),p=e.type,o.setFontSize(16),"ace/keyboard/emacs"===t.$id?("url"===e.type?(o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([c()]),o.container.style.height="30%"):"input"===e.type?(o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([h]),o.container.style.height=""):(o.setOption("showLineNumbers",!0),o.language_tools.setCompleters([h]),o.container.style.height="30%"),o.setReadOnly("select"===e.type),setTimeout((function(){o.renderer.session.$undoManager.reset()}),1)):(t.unmap("<CR>","insert"),t.unmap("<C-CR>","insert"),"url"===e.type?(t.map("<CR>",":wq","insert"),o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([c()]),o.container.style.height="30%"):"input"===e.type?(t.map("<CR>",":wq","insert"),o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([h]),o.container.style.height="16px"):(t.map("<C-CR>",":wq","insert"),o.setOption("showLineNumbers",!0),o.language_tools.setCompleters([h]),o.container.style.height="30%"),o.setReadOnly("select"===e.type),t.map("<C-d>","<C-w>","insert"),t.exitInsertMode(o.state.cm),o.state.cm.setCursor(e.initial_line,0),o.state.cm.ace.renderer.scrollCursorIntoView(),setTimeout((function(){o.renderer.session.$undoManager.reset()}),1),o.state.cm.ace.setOption("indentedSoftWrap",!1),o.state.cm.ace.setOption("wrap",!0))}))},n}(n,i))}))}))),z.then((t=>{t.show(e)}))};let $=null;function X(e,t){C.style.cssText="",C.style.display="",C.style.top="0px",(0,h.gV)(C,(0,h.Ak)(e)),i.flush(),setTimeout((function(){C.style.cssText="",C.style.display="none",i.flush()}),t||1600)}var Q;function Y(){Q&&(clearTimeout(Q),Q=void 0)}function J(e){(0,h.n8)((function(t){var n=e.accumulated,r=e.candidates;(n=Object.keys(r).sort().map((function(n){var o=r[n];if(o.annotation){const r=n.substr(e.accumulated.length);return`<div><span class=kbd-span><kbd>${(0,h.Ak)(y.Z.decodeKeystroke(e.accumulated))}<span class=candidates>${(0,h.Ak)(y.Z.decodeKeystroke(r))}</span></kbd></span><span class=annotation>${t(o.annotation)}</span></div>`}return""})).join("")).length>0&&Q&&((0,h.gV)(Z,n),Z.classList.add("expandRichHints"),i.flush())}))}function ee(){"none"!==T.style.display&&i.contentCommand({action:"updateInlineQuery"})}return S.onShow=function(e){$||($=new Promise(((e,t)=>{import("./neovim_lib.js").then((t=>{t.default(S).then((({nvim:t,destroy:r})=>{function o(){n.enter(),r(),i.hidePopup()}function a(e){const[t,n]=e;"WriteData"===t&&(i.contentCommand({action:"ace_editor_saved",data:n[0].join("\r")}),o())}t.on("nvim:open",(()=>{t.on("surfingkeys:rpc",a)})),t.on("nvim:close",(()=>{t.off("surfingkeys:rpc",a),o()})),e(t)}))}))}))),$.then((t=>{n.exit(),(0,v._P)("connectNative",{mode:"embed"},(n=>{t.connect(n.url,(()=>{t.command(`call NewScratch("${e.file_name}", "${p(e.content)}", "${e.type}")`)}))}))}))},l.showEditor=function(e){e.onEditorSaved&&(i.onEditorSaved=e.onEditorSaved),e.file_name?q(S,e):q(E,e)},i.showEditor=l.showEditor,l.openOmnibar=function(e){q(w,e);var t=e.style||"";(0,h.gV)(w.querySelector("style"),`#sk_omnibar {${t}}`)},i.openOmnibar=l.openOmnibar,l.openFinder=function(){j.open()},document.addEventListener("surfingkeys:openFinder",(function(e){j.open()})),l.showBanner=function(e){X(e.content,e.linger_time)},document.addEventListener("surfingkeys:showBanner",(function(e){X(...e.detail)})),l.showBubble=function(e){var t=e.position;t.left+=t.winX,t.top+=t.winY,T.style.top="0px",T.style.left="0px",(0,h.gV)(M,e.content),M.style.maxWidth=t.winWidth-32+"px",M.scrollTop=0,B(),T.style.display="";var n=T.offsetWidth,r=T.offsetHeight,o=[t.left-11-n/2,n/2];o[0]<t.winX?(o[1]+=o[0]-t.winX,o[0]=t.winX):o[0]+n>t.winWidth&&(o[1]+=o[0]-t.winX-t.winWidth+n,o[0]=t.winX+t.winWidth-n),U.style.left=o[1]+t.width/2-2+"px",T.style.left=o[0]+"px",T.noPointerEvents=e.noPointerEvents,t.top+t.height/2>t.winHeight/2?(U.setAttribute("dir","down"),U.style.top="100%",M.style.maxHeight=t.top-12-32+"px",r=T.offsetHeight,T.style.top=t.top-r-12+"px"):(U.setAttribute("dir","up"),U.style.top="-12px",M.style.maxHeight=t.winHeight-(t.top+t.height+12)-32+"px",r=T.offsetHeight,T.style.top=t.top+t.height+12+"px"),M.scrollHeight>M.offsetHeight&&(T.noPointerEvents=!1,D.add("sk_scroller_indicator_top")),i.flush(),T.noPointerEvents||(V(T,{}),i.enter(0,!0))},l.hideBubble=function(){T.style.display="none",i.flush()},l.visualUpdated=function(e){i.statusBar.querySelector("input").focus()},l.showStatus=function(e){H.show(e.position,e.content,e.duration)},document.addEventListener("surfingkeys:showStatus",(function(e){H.show(...e.detail)})),i.toggleStatus=function(e){i.statusBar.style.display=e?"":"none"},l.toggleStatus=function(e){i.toggleStatus(e.visible)},l.hideKeystroke=function(){"none"!==Z.style.display&&(Z.classList.remove("expandRichHints"),(0,h.gV)(Z,""),Z.style.display="none",i.flush()),v.GZ.conf.richHintsForKeystroke>0&&v.GZ.conf.richHintsForKeystroke<1e4&&Y()},l.showKeystroke=function(e){if("none"!==Z.style.display&&Z.classList.contains("expandRichHints"))J(e.keyHints);else{Y(),Z.style.display="",i.flush();var t=Z.innerHTML+(0,h.Ak)(y.Z.decodeKeystroke(e.keyHints.key));(0,h.gV)(Z,t),v.GZ.conf.richHintsForKeystroke>0&&v.GZ.conf.richHintsForKeystroke<1e4&&(Q=setTimeout((function(){J(e.keyHints)}),v.GZ.conf.richHintsForKeystroke))}},l.initFrontend=function(e){return i.topOrigin=e.origin,(new Date).getTime()},window.addEventListener("message",(function(e){var t=e.data&&e.data.surfingkeys_data;if(c[t.id])(0,c[t.id])(t)||delete c[t.id];else if(t.action&&l.hasOwnProperty(t.action)){var n=l[t.action](t);t.ack&&top.postMessage({surfingkeys_data:{data:n,action:t.action+"Ack",responseToContent:t.commandToFrontend}},i.topOrigin)}}),!0),document.onmouseup=function(e){if(T.contains(e.target)){var t=window.getSelection().toString().trim()||(0,h.lI)(!0);t&&t.length>0&&i.contentCommand({action:"updateInlineQuery",word:t},(function(){window.addEventListener("resize",ee)}))}else T.style.display="none",i.flush(),i.contentCommand({action:"emptySelection"}),window.removeEventListener("resize",ee)},T.querySelector("div.sk_bubble_content").addEventListener("mousewheel",(function(e){(e.deltaY>0&&this.scrollTop+this.offsetHeight>=this.scrollHeight||e.deltaY<0&&this.scrollTop<=0)&&e.preventDefault()}),{passive:!1}),i}();var H=function(){var e={},t=null,n=K.statusBar;return e.show=function(r,o,i){t&&(clearTimeout(t),t=null);var a=n.querySelectorAll("span");r<0?a.forEach((function(e){(0,h.gV)(e,"")})):(0,h.gV)(a[r],o);for(var u=-1,s=0;s<a.length;s++)a[s].innerHTML.length?(u=s,a[s].style.padding="0px 8px",a[s].style.borderRight="1px solid #999"):(a[s].style.padding="",a[s].style.borderRight="");-1===u?n.style.display="none":(a[u].style.borderRight="",n.style.display="block"),K.flush(),i&&(t=setTimeout((function(){e.show(r,"")}),i))},e}(),j=function(){var e,t,n=new O("Find","/");function r(){e=null,H.show(1,""),n.exit()}return n.addEventListener("keydown",(function(e){e.sk_suppressed=!0})).addEventListener("mousedown",(function(t){t.target!==e&&r(),t.sk_suppressed=!0})),n.open=function(){t=-1,H.show(1,'<input id="sk_find" class="sk_theme"/>'),e=K.statusBar.querySelector("input"),(0,h.g_)().startsWith("Safari")||(e.oninput=function(){e.value.length&&"."!==e.value&&(K.visualCommand({action:"visualUpdate",query:e.value}),e.focus(),e.setSelectionRange(e.value.length,e.value.length))});var o=[];(0,v._P)("getSettings",{key:"findHistory"},(function(e){o=e.settings.findHistory})),e.onkeydown=function(n){if(O.isSpecialKeyOf("<Esc>",n.sk_keyName))r(),K.visualCommand({action:"visualClear"});else if(n.keyCode===y.Z.keyCodes.enter){(i=e.value).length&&"."!==i&&(n.ctrlKey&&(i="\\b"+i+"\\b"),r(),v.GZ.updateHistory("find",i),K.visualCommand({action:"visualEnter",query:i}))}else if((n.keyCode===y.Z.keyCodes.upArrow||n.keyCode===y.Z.keyCodes.downArrow)&&o.length){t=n.keyCode===y.Z.keyCodes.upArrow?t+1:t+o.length-1,t%=o.length;var i=o[t];e.value=i,K.visualCommand({action:"visualUpdate",query:i}),n.preventDefault()}},e.focus(),K.startInputGuard(),n.enter()},n}()})()})();